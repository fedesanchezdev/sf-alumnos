function om(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();function lm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sc={exports:{}},ia={},ac={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gn=Symbol.for("react.element"),im=Symbol.for("react.portal"),um=Symbol.for("react.fragment"),cm=Symbol.for("react.strict_mode"),dm=Symbol.for("react.profiler"),fm=Symbol.for("react.provider"),mm=Symbol.for("react.context"),pm=Symbol.for("react.forward_ref"),hm=Symbol.for("react.suspense"),gm=Symbol.for("react.memo"),xm=Symbol.for("react.lazy"),ki=Symbol.iterator;function vm(e){return e===null||typeof e!="object"?null:(e=ki&&e[ki]||e["@@iterator"],typeof e=="function"?e:null)}var oc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lc=Object.assign,ic={};function Gr(e,t,r){this.props=e,this.context=t,this.refs=ic,this.updater=r||oc}Gr.prototype.isReactComponent={};Gr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Gr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function uc(){}uc.prototype=Gr.prototype;function fl(e,t,r){this.props=e,this.context=t,this.refs=ic,this.updater=r||oc}var ml=fl.prototype=new uc;ml.constructor=fl;lc(ml,Gr.prototype);ml.isPureReactComponent=!0;var Ci=Array.isArray,cc=Object.prototype.hasOwnProperty,pl={current:null},dc={key:!0,ref:!0,__self:!0,__source:!0};function fc(e,t,r){var n,s={},a=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)cc.call(t,n)&&!dc.hasOwnProperty(n)&&(s[n]=t[n]);var i=arguments.length-2;if(i===1)s.children=r;else if(1<i){for(var u=Array(i),c=0;c<i;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(n in i=e.defaultProps,i)s[n]===void 0&&(s[n]=i[n]);return{$$typeof:Gn,type:e,key:a,ref:l,props:s,_owner:pl.current}}function ym(e,t){return{$$typeof:Gn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function hl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gn}function wm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Si=/\/+/g;function Oa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wm(""+e.key):t.toString(36)}function ws(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Gn:case im:l=!0}}if(l)return l=e,s=s(l),e=n===""?"."+Oa(l,0):n,Ci(s)?(r="",e!=null&&(r=e.replace(Si,"$&/")+"/"),ws(s,t,r,"",function(c){return c})):s!=null&&(hl(s)&&(s=ym(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(Si,"$&/")+"/")+e)),t.push(s)),1;if(l=0,n=n===""?".":n+":",Ci(e))for(var i=0;i<e.length;i++){a=e[i];var u=n+Oa(a,i);l+=ws(a,t,r,u,s)}else if(u=vm(e),typeof u=="function")for(e=u.call(e),i=0;!(a=e.next()).done;)a=a.value,u=n+Oa(a,i++),l+=ws(a,t,r,u,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function ns(e,t,r){if(e==null)return e;var n=[],s=0;return ws(e,n,"","",function(a){return t.call(r,a,s++)}),n}function bm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Le={current:null},bs={transition:null},jm={ReactCurrentDispatcher:Le,ReactCurrentBatchConfig:bs,ReactCurrentOwner:pl};function mc(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:ns,forEach:function(e,t,r){ns(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ns(e,function(){t++}),t},toArray:function(e){return ns(e,function(t){return t})||[]},only:function(e){if(!hl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Q.Component=Gr;Q.Fragment=um;Q.Profiler=dm;Q.PureComponent=fl;Q.StrictMode=cm;Q.Suspense=hm;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jm;Q.act=mc;Q.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=lc({},e.props),s=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=pl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(u in t)cc.call(t,u)&&!dc.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&i!==void 0?i[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){i=Array(u);for(var c=0;c<u;c++)i[c]=arguments[c+2];n.children=i}return{$$typeof:Gn,type:e.type,key:s,ref:a,props:n,_owner:l}};Q.createContext=function(e){return e={$$typeof:mm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:fm,_context:e},e.Consumer=e};Q.createElement=fc;Q.createFactory=function(e){var t=fc.bind(null,e);return t.type=e,t};Q.createRef=function(){return{current:null}};Q.forwardRef=function(e){return{$$typeof:pm,render:e}};Q.isValidElement=hl;Q.lazy=function(e){return{$$typeof:xm,_payload:{_status:-1,_result:e},_init:bm}};Q.memo=function(e,t){return{$$typeof:gm,type:e,compare:t===void 0?null:t}};Q.startTransition=function(e){var t=bs.transition;bs.transition={};try{e()}finally{bs.transition=t}};Q.unstable_act=mc;Q.useCallback=function(e,t){return Le.current.useCallback(e,t)};Q.useContext=function(e){return Le.current.useContext(e)};Q.useDebugValue=function(){};Q.useDeferredValue=function(e){return Le.current.useDeferredValue(e)};Q.useEffect=function(e,t){return Le.current.useEffect(e,t)};Q.useId=function(){return Le.current.useId()};Q.useImperativeHandle=function(e,t,r){return Le.current.useImperativeHandle(e,t,r)};Q.useInsertionEffect=function(e,t){return Le.current.useInsertionEffect(e,t)};Q.useLayoutEffect=function(e,t){return Le.current.useLayoutEffect(e,t)};Q.useMemo=function(e,t){return Le.current.useMemo(e,t)};Q.useReducer=function(e,t,r){return Le.current.useReducer(e,t,r)};Q.useRef=function(e){return Le.current.useRef(e)};Q.useState=function(e){return Le.current.useState(e)};Q.useSyncExternalStore=function(e,t,r){return Le.current.useSyncExternalStore(e,t,r)};Q.useTransition=function(){return Le.current.useTransition()};Q.version="18.3.1";ac.exports=Q;var y=ac.exports;const Nm=lm(y),km=om({__proto__:null,default:Nm},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cm=y,Sm=Symbol.for("react.element"),Em=Symbol.for("react.fragment"),Pm=Object.prototype.hasOwnProperty,Rm=Cm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_m={key:!0,ref:!0,__self:!0,__source:!0};function pc(e,t,r){var n,s={},a=null,l=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)Pm.call(t,n)&&!_m.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Sm,type:e,key:a,ref:l,props:s,_owner:Rm.current}}ia.Fragment=Em;ia.jsx=pc;ia.jsxs=pc;sc.exports=ia;var o=sc.exports,hc={exports:{}},qe={},gc={exports:{}},xc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,M){var $=O.length;O.push(M);e:for(;0<$;){var G=$-1>>>1,W=O[G];if(0<s(W,M))O[G]=M,O[$]=W,$=G;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var M=O[0],$=O.pop();if($!==M){O[0]=$;e:for(var G=0,W=O.length,Y=W>>>1;G<Y;){var Z=2*(G+1)-1,fe=O[Z],he=Z+1,ge=O[he];if(0>s(fe,$))he<W&&0>s(ge,fe)?(O[G]=ge,O[he]=$,G=he):(O[G]=fe,O[Z]=$,G=Z);else if(he<W&&0>s(ge,$))O[G]=ge,O[he]=$,G=he;else break e}}return M}function s(O,M){var $=O.sortIndex-M.sortIndex;return $!==0?$:O.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,i=l.now();e.unstable_now=function(){return l.now()-i}}var u=[],c=[],f=1,d=null,h=3,b=!1,v=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(O){for(var M=r(c);M!==null;){if(M.callback===null)n(c);else if(M.startTime<=O)n(c),M.sortIndex=M.expirationTime,t(u,M);else break;M=r(c)}}function k(O){if(x=!1,g(O),!v)if(r(u)!==null)v=!0,Ke(L);else{var M=r(c);M!==null&&A(k,M.startTime-O)}}function L(O,M){v=!1,x&&(x=!1,p(_),_=-1),b=!0;var $=h;try{for(g(M),d=r(u);d!==null&&(!(d.expirationTime>M)||O&&!E());){var G=d.callback;if(typeof G=="function"){d.callback=null,h=d.priorityLevel;var W=G(d.expirationTime<=M);M=e.unstable_now(),typeof W=="function"?d.callback=W:d===r(u)&&n(u),g(M)}else n(u);d=r(u)}if(d!==null)var Y=!0;else{var Z=r(c);Z!==null&&A(k,Z.startTime-M),Y=!1}return Y}finally{d=null,h=$,b=!1}}var j=!1,R=null,_=-1,S=5,N=-1;function E(){return!(e.unstable_now()-N<S)}function P(){if(R!==null){var O=e.unstable_now();N=O;var M=!0;try{M=R(!0,O)}finally{M?z():(j=!1,R=null)}}else j=!1}var z;if(typeof m=="function")z=function(){m(P)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,H=U.port2;U.port1.onmessage=P,z=function(){H.postMessage(null)}}else z=function(){w(P,0)};function Ke(O){R=O,j||(j=!0,z())}function A(O,M){_=w(function(){O(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){v||b||(v=!0,Ke(L))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(O){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var $=h;h=M;try{return O()}finally{h=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,M){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var $=h;h=O;try{return M()}finally{h=$}},e.unstable_scheduleCallback=function(O,M,$){var G=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?G+$:G):$=G,O){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=$+W,O={id:f++,callback:M,priorityLevel:O,startTime:$,expirationTime:W,sortIndex:-1},$>G?(O.sortIndex=$,t(c,O),r(u)===null&&O===r(c)&&(x?(p(_),_=-1):x=!0,A(k,$-G))):(O.sortIndex=W,t(u,O),v||b||(v=!0,Ke(L))),O},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(O){var M=h;return function(){var $=h;h=M;try{return O.apply(this,arguments)}finally{h=$}}}})(xc);gc.exports=xc;var Lm=gc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm=y,He=Lm;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vc=new Set,Rn={};function xr(e,t){Br(e,t),Br(e+"Capture",t)}function Br(e,t){for(Rn[e]=t,e=0;e<t.length;e++)vc.add(t[e])}var kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uo=Object.prototype.hasOwnProperty,Om=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ei={},Pi={};function Fm(e){return uo.call(Pi,e)?!0:uo.call(Ei,e)?!1:Om.test(e)?Pi[e]=!0:(Ei[e]=!0,!1)}function Am(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function zm(e,t,r,n){if(t===null||typeof t>"u"||Am(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Te(e,t,r,n,s,a,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){be[e]=new Te(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];be[t]=new Te(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){be[e]=new Te(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){be[e]=new Te(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){be[e]=new Te(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){be[e]=new Te(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){be[e]=new Te(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){be[e]=new Te(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){be[e]=new Te(e,5,!1,e.toLowerCase(),null,!1,!1)});var gl=/[\-:]([a-z])/g;function xl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gl,xl);be[t]=new Te(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gl,xl);be[t]=new Te(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gl,xl);be[t]=new Te(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){be[e]=new Te(e,1,!1,e.toLowerCase(),null,!1,!1)});be.xlinkHref=new Te("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){be[e]=new Te(e,1,!1,e.toLowerCase(),null,!0,!0)});function vl(e,t,r,n){var s=be.hasOwnProperty(t)?be[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(zm(t,r,s,n)&&(r=null),n||s===null?Fm(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Pt=Tm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ss=Symbol.for("react.element"),Nr=Symbol.for("react.portal"),kr=Symbol.for("react.fragment"),yl=Symbol.for("react.strict_mode"),co=Symbol.for("react.profiler"),yc=Symbol.for("react.provider"),wc=Symbol.for("react.context"),wl=Symbol.for("react.forward_ref"),fo=Symbol.for("react.suspense"),mo=Symbol.for("react.suspense_list"),bl=Symbol.for("react.memo"),Lt=Symbol.for("react.lazy"),bc=Symbol.for("react.offscreen"),Ri=Symbol.iterator;function sn(e){return e===null||typeof e!="object"?null:(e=Ri&&e[Ri]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Object.assign,Fa;function pn(e){if(Fa===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Fa=t&&t[1]||""}return`
`+Fa+e}var Aa=!1;function za(e,t){if(!e||Aa)return"";Aa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),a=n.stack.split(`
`),l=s.length-1,i=a.length-1;1<=l&&0<=i&&s[l]!==a[i];)i--;for(;1<=l&&0<=i;l--,i--)if(s[l]!==a[i]){if(l!==1||i!==1)do if(l--,i--,0>i||s[l]!==a[i]){var u=`
`+s[l].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=l&&0<=i);break}}}finally{Aa=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?pn(e):""}function Dm(e){switch(e.tag){case 5:return pn(e.type);case 16:return pn("Lazy");case 13:return pn("Suspense");case 19:return pn("SuspenseList");case 0:case 2:case 15:return e=za(e.type,!1),e;case 11:return e=za(e.type.render,!1),e;case 1:return e=za(e.type,!0),e;default:return""}}function po(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case kr:return"Fragment";case Nr:return"Portal";case co:return"Profiler";case yl:return"StrictMode";case fo:return"Suspense";case mo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wc:return(e.displayName||"Context")+".Consumer";case yc:return(e._context.displayName||"Context")+".Provider";case wl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bl:return t=e.displayName||null,t!==null?t:po(e.type)||"Memo";case Lt:t=e._payload,e=e._init;try{return po(e(t))}catch{}}return null}function Mm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return po(t);case 8:return t===yl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Kt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Um(e){var t=jc(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){n=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function as(e){e._valueTracker||(e._valueTracker=Um(e))}function Nc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=jc(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function As(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ho(e,t){var r=t.checked;return oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function _i(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Kt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function kc(e,t){t=t.checked,t!=null&&vl(e,"checked",t,!1)}function go(e,t){kc(e,t);var r=Kt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xo(e,t.type,r):t.hasOwnProperty("defaultValue")&&xo(e,t.type,Kt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Li(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function xo(e,t,r){(t!=="number"||As(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var hn=Array.isArray;function zr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Kt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function vo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ti(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(F(92));if(hn(r)){if(1<r.length)throw Error(F(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Kt(r)}}function Cc(e,t){var r=Kt(t.value),n=Kt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Oi(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Sc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Sc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var os,Ec=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(os=os||document.createElement("div"),os.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=os.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _n(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var wn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$m=["Webkit","ms","Moz","O"];Object.keys(wn).forEach(function(e){$m.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wn[t]=wn[e]})});function Pc(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||wn.hasOwnProperty(e)&&wn[e]?(""+t).trim():t+"px"}function Rc(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Pc(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Im=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wo(e,t){if(t){if(Im[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function bo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jo=null;function jl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var No=null,Dr=null,Mr=null;function Fi(e){if(e=Xn(e)){if(typeof No!="function")throw Error(F(280));var t=e.stateNode;t&&(t=ma(t),No(e.stateNode,e.type,t))}}function _c(e){Dr?Mr?Mr.push(e):Mr=[e]:Dr=e}function Lc(){if(Dr){var e=Dr,t=Mr;if(Mr=Dr=null,Fi(e),t)for(e=0;e<t.length;e++)Fi(t[e])}}function Tc(e,t){return e(t)}function Oc(){}var Da=!1;function Fc(e,t,r){if(Da)return e(t,r);Da=!0;try{return Tc(e,t,r)}finally{Da=!1,(Dr!==null||Mr!==null)&&(Oc(),Lc())}}function Ln(e,t){var r=e.stateNode;if(r===null)return null;var n=ma(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(F(231,t,typeof r));return r}var ko=!1;if(kt)try{var an={};Object.defineProperty(an,"passive",{get:function(){ko=!0}}),window.addEventListener("test",an,an),window.removeEventListener("test",an,an)}catch{ko=!1}function Bm(e,t,r,n,s,a,l,i,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(f){this.onError(f)}}var bn=!1,zs=null,Ds=!1,Co=null,Vm={onError:function(e){bn=!0,zs=e}};function Wm(e,t,r,n,s,a,l,i,u){bn=!1,zs=null,Bm.apply(Vm,arguments)}function Hm(e,t,r,n,s,a,l,i,u){if(Wm.apply(this,arguments),bn){if(bn){var c=zs;bn=!1,zs=null}else throw Error(F(198));Ds||(Ds=!0,Co=c)}}function vr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ac(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ai(e){if(vr(e)!==e)throw Error(F(188))}function qm(e){var t=e.alternate;if(!t){if(t=vr(e),t===null)throw Error(F(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return Ai(s),e;if(a===n)return Ai(s),t;a=a.sibling}throw Error(F(188))}if(r.return!==n.return)r=s,n=a;else{for(var l=!1,i=s.child;i;){if(i===r){l=!0,r=s,n=a;break}if(i===n){l=!0,n=s,r=a;break}i=i.sibling}if(!l){for(i=a.child;i;){if(i===r){l=!0,r=a,n=s;break}if(i===n){l=!0,n=a,r=s;break}i=i.sibling}if(!l)throw Error(F(189))}}if(r.alternate!==n)throw Error(F(190))}if(r.tag!==3)throw Error(F(188));return r.stateNode.current===r?e:t}function zc(e){return e=qm(e),e!==null?Dc(e):null}function Dc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Dc(e);if(t!==null)return t;e=e.sibling}return null}var Mc=He.unstable_scheduleCallback,zi=He.unstable_cancelCallback,Qm=He.unstable_shouldYield,Km=He.unstable_requestPaint,ie=He.unstable_now,Gm=He.unstable_getCurrentPriorityLevel,Nl=He.unstable_ImmediatePriority,Uc=He.unstable_UserBlockingPriority,Ms=He.unstable_NormalPriority,Jm=He.unstable_LowPriority,$c=He.unstable_IdlePriority,ua=null,ht=null;function Ym(e){if(ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(ua,e,void 0,(e.current.flags&128)===128)}catch{}}var lt=Math.clz32?Math.clz32:ep,Xm=Math.log,Zm=Math.LN2;function ep(e){return e>>>=0,e===0?32:31-(Xm(e)/Zm|0)|0}var ls=64,is=4194304;function gn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Us(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,l=r&268435455;if(l!==0){var i=l&~s;i!==0?n=gn(i):(a&=l,a!==0&&(n=gn(a)))}else l=r&~s,l!==0?n=gn(l):a!==0&&(n=gn(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-lt(t),s=1<<r,n|=e[r],t&=~s;return n}function tp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rp(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-lt(a),i=1<<l,u=s[l];u===-1?(!(i&r)||i&n)&&(s[l]=tp(i,t)):u<=t&&(e.expiredLanes|=i),a&=~i}}function So(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ic(){var e=ls;return ls<<=1,!(ls&4194240)&&(ls=64),e}function Ma(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Jn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-lt(t),e[t]=r}function np(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-lt(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function kl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-lt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var J=0;function Bc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Vc,Cl,Wc,Hc,qc,Eo=!1,us=[],Ut=null,$t=null,It=null,Tn=new Map,On=new Map,Ot=[],sp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Di(e,t){switch(e){case"focusin":case"focusout":Ut=null;break;case"dragenter":case"dragleave":$t=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Tn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":On.delete(t.pointerId)}}function on(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Xn(t),t!==null&&Cl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function ap(e,t,r,n,s){switch(t){case"focusin":return Ut=on(Ut,e,t,r,n,s),!0;case"dragenter":return $t=on($t,e,t,r,n,s),!0;case"mouseover":return It=on(It,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return Tn.set(a,on(Tn.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,On.set(a,on(On.get(a)||null,e,t,r,n,s)),!0}return!1}function Qc(e){var t=rr(e.target);if(t!==null){var r=vr(t);if(r!==null){if(t=r.tag,t===13){if(t=Ac(r),t!==null){e.blockedOn=t,qc(e.priority,function(){Wc(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function js(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Po(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);jo=n,r.target.dispatchEvent(n),jo=null}else return t=Xn(r),t!==null&&Cl(t),e.blockedOn=r,!1;t.shift()}return!0}function Mi(e,t,r){js(e)&&r.delete(t)}function op(){Eo=!1,Ut!==null&&js(Ut)&&(Ut=null),$t!==null&&js($t)&&($t=null),It!==null&&js(It)&&(It=null),Tn.forEach(Mi),On.forEach(Mi)}function ln(e,t){e.blockedOn===t&&(e.blockedOn=null,Eo||(Eo=!0,He.unstable_scheduleCallback(He.unstable_NormalPriority,op)))}function Fn(e){function t(s){return ln(s,e)}if(0<us.length){ln(us[0],e);for(var r=1;r<us.length;r++){var n=us[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ut!==null&&ln(Ut,e),$t!==null&&ln($t,e),It!==null&&ln(It,e),Tn.forEach(t),On.forEach(t),r=0;r<Ot.length;r++)n=Ot[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ot.length&&(r=Ot[0],r.blockedOn===null);)Qc(r),r.blockedOn===null&&Ot.shift()}var Ur=Pt.ReactCurrentBatchConfig,$s=!0;function lp(e,t,r,n){var s=J,a=Ur.transition;Ur.transition=null;try{J=1,Sl(e,t,r,n)}finally{J=s,Ur.transition=a}}function ip(e,t,r,n){var s=J,a=Ur.transition;Ur.transition=null;try{J=4,Sl(e,t,r,n)}finally{J=s,Ur.transition=a}}function Sl(e,t,r,n){if($s){var s=Po(e,t,r,n);if(s===null)Ka(e,t,n,Is,r),Di(e,n);else if(ap(s,e,t,r,n))n.stopPropagation();else if(Di(e,n),t&4&&-1<sp.indexOf(e)){for(;s!==null;){var a=Xn(s);if(a!==null&&Vc(a),a=Po(e,t,r,n),a===null&&Ka(e,t,n,Is,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else Ka(e,t,n,null,r)}}var Is=null;function Po(e,t,r,n){if(Is=null,e=jl(n),e=rr(e),e!==null)if(t=vr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ac(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Is=e,null}function Kc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gm()){case Nl:return 1;case Uc:return 4;case Ms:case Jm:return 16;case $c:return 536870912;default:return 16}default:return 16}}var At=null,El=null,Ns=null;function Gc(){if(Ns)return Ns;var e,t=El,r=t.length,n,s="value"in At?At.value:At.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===s[a-n];n++);return Ns=s.slice(e,1<n?1-n:void 0)}function ks(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function cs(){return!0}function Ui(){return!1}function Qe(e){function t(r,n,s,a,l){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(r=e[i],this[i]=r?r(a):a[i]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?cs:Ui,this.isPropagationStopped=Ui,this}return oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=cs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=cs)},persist:function(){},isPersistent:cs}),t}var Jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pl=Qe(Jr),Yn=oe({},Jr,{view:0,detail:0}),up=Qe(Yn),Ua,$a,un,ca=oe({},Yn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&e.type==="mousemove"?(Ua=e.screenX-un.screenX,$a=e.screenY-un.screenY):$a=Ua=0,un=e),Ua)},movementY:function(e){return"movementY"in e?e.movementY:$a}}),$i=Qe(ca),cp=oe({},ca,{dataTransfer:0}),dp=Qe(cp),fp=oe({},Yn,{relatedTarget:0}),Ia=Qe(fp),mp=oe({},Jr,{animationName:0,elapsedTime:0,pseudoElement:0}),pp=Qe(mp),hp=oe({},Jr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gp=Qe(hp),xp=oe({},Jr,{data:0}),Ii=Qe(xp),vp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wp[e])?!!t[e]:!1}function Rl(){return bp}var jp=oe({},Yn,{key:function(e){if(e.key){var t=vp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ks(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rl,charCode:function(e){return e.type==="keypress"?ks(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ks(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Np=Qe(jp),kp=oe({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=Qe(kp),Cp=oe({},Yn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rl}),Sp=Qe(Cp),Ep=oe({},Jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pp=Qe(Ep),Rp=oe({},ca,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_p=Qe(Rp),Lp=[9,13,27,32],_l=kt&&"CompositionEvent"in window,jn=null;kt&&"documentMode"in document&&(jn=document.documentMode);var Tp=kt&&"TextEvent"in window&&!jn,Jc=kt&&(!_l||jn&&8<jn&&11>=jn),Vi=" ",Wi=!1;function Yc(e,t){switch(e){case"keyup":return Lp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cr=!1;function Op(e,t){switch(e){case"compositionend":return Xc(t);case"keypress":return t.which!==32?null:(Wi=!0,Vi);case"textInput":return e=t.data,e===Vi&&Wi?null:e;default:return null}}function Fp(e,t){if(Cr)return e==="compositionend"||!_l&&Yc(e,t)?(e=Gc(),Ns=El=At=null,Cr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Jc&&t.locale!=="ko"?null:t.data;default:return null}}var Ap={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ap[e.type]:t==="textarea"}function Zc(e,t,r,n){_c(n),t=Bs(t,"onChange"),0<t.length&&(r=new Pl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Nn=null,An=null;function zp(e){cd(e,0)}function da(e){var t=Pr(e);if(Nc(t))return e}function Dp(e,t){if(e==="change")return t}var ed=!1;if(kt){var Ba;if(kt){var Va="oninput"in document;if(!Va){var qi=document.createElement("div");qi.setAttribute("oninput","return;"),Va=typeof qi.oninput=="function"}Ba=Va}else Ba=!1;ed=Ba&&(!document.documentMode||9<document.documentMode)}function Qi(){Nn&&(Nn.detachEvent("onpropertychange",td),An=Nn=null)}function td(e){if(e.propertyName==="value"&&da(An)){var t=[];Zc(t,An,e,jl(e)),Fc(zp,t)}}function Mp(e,t,r){e==="focusin"?(Qi(),Nn=t,An=r,Nn.attachEvent("onpropertychange",td)):e==="focusout"&&Qi()}function Up(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return da(An)}function $p(e,t){if(e==="click")return da(t)}function Ip(e,t){if(e==="input"||e==="change")return da(t)}function Bp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ut=typeof Object.is=="function"?Object.is:Bp;function zn(e,t){if(ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!uo.call(t,s)||!ut(e[s],t[s]))return!1}return!0}function Ki(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gi(e,t){var r=Ki(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ki(r)}}function rd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nd(){for(var e=window,t=As();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=As(e.document)}return t}function Ll(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Vp(e){var t=nd(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&rd(r.ownerDocument.documentElement,r)){if(n!==null&&Ll(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=Gi(r,a);var l=Gi(r,n);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Wp=kt&&"documentMode"in document&&11>=document.documentMode,Sr=null,Ro=null,kn=null,_o=!1;function Ji(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;_o||Sr==null||Sr!==As(n)||(n=Sr,"selectionStart"in n&&Ll(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),kn&&zn(kn,n)||(kn=n,n=Bs(Ro,"onSelect"),0<n.length&&(t=new Pl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Sr)))}function ds(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Er={animationend:ds("Animation","AnimationEnd"),animationiteration:ds("Animation","AnimationIteration"),animationstart:ds("Animation","AnimationStart"),transitionend:ds("Transition","TransitionEnd")},Wa={},sd={};kt&&(sd=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);function fa(e){if(Wa[e])return Wa[e];if(!Er[e])return e;var t=Er[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in sd)return Wa[e]=t[r];return e}var ad=fa("animationend"),od=fa("animationiteration"),ld=fa("animationstart"),id=fa("transitionend"),ud=new Map,Yi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jt(e,t){ud.set(e,t),xr(t,[e])}for(var Ha=0;Ha<Yi.length;Ha++){var qa=Yi[Ha],Hp=qa.toLowerCase(),qp=qa[0].toUpperCase()+qa.slice(1);Jt(Hp,"on"+qp)}Jt(ad,"onAnimationEnd");Jt(od,"onAnimationIteration");Jt(ld,"onAnimationStart");Jt("dblclick","onDoubleClick");Jt("focusin","onFocus");Jt("focusout","onBlur");Jt(id,"onTransitionEnd");Br("onMouseEnter",["mouseout","mouseover"]);Br("onMouseLeave",["mouseout","mouseover"]);Br("onPointerEnter",["pointerout","pointerover"]);Br("onPointerLeave",["pointerout","pointerover"]);xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xr("onBeforeInput",["compositionend","keypress","textInput","paste"]);xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qp=new Set("cancel close invalid load scroll toggle".split(" ").concat(xn));function Xi(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Hm(n,t,void 0,e),e.currentTarget=null}function cd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var l=n.length-1;0<=l;l--){var i=n[l],u=i.instance,c=i.currentTarget;if(i=i.listener,u!==a&&s.isPropagationStopped())break e;Xi(s,i,c),a=u}else for(l=0;l<n.length;l++){if(i=n[l],u=i.instance,c=i.currentTarget,i=i.listener,u!==a&&s.isPropagationStopped())break e;Xi(s,i,c),a=u}}}if(Ds)throw e=Co,Ds=!1,Co=null,e}function te(e,t){var r=t[Ao];r===void 0&&(r=t[Ao]=new Set);var n=e+"__bubble";r.has(n)||(dd(t,e,2,!1),r.add(n))}function Qa(e,t,r){var n=0;t&&(n|=4),dd(r,e,n,t)}var fs="_reactListening"+Math.random().toString(36).slice(2);function Dn(e){if(!e[fs]){e[fs]=!0,vc.forEach(function(r){r!=="selectionchange"&&(Qp.has(r)||Qa(r,!1,e),Qa(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fs]||(t[fs]=!0,Qa("selectionchange",!1,t))}}function dd(e,t,r,n){switch(Kc(t)){case 1:var s=lp;break;case 4:s=ip;break;default:s=Sl}r=s.bind(null,t,r,e),s=void 0,!ko||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Ka(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var i=n.stateNode.containerInfo;if(i===s||i.nodeType===8&&i.parentNode===s)break;if(l===4)for(l=n.return;l!==null;){var u=l.tag;if((u===3||u===4)&&(u=l.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;l=l.return}for(;i!==null;){if(l=rr(i),l===null)return;if(u=l.tag,u===5||u===6){n=a=l;continue e}i=i.parentNode}}n=n.return}Fc(function(){var c=a,f=jl(r),d=[];e:{var h=ud.get(e);if(h!==void 0){var b=Pl,v=e;switch(e){case"keypress":if(ks(r)===0)break e;case"keydown":case"keyup":b=Np;break;case"focusin":v="focus",b=Ia;break;case"focusout":v="blur",b=Ia;break;case"beforeblur":case"afterblur":b=Ia;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=$i;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=dp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=Sp;break;case ad:case od:case ld:b=pp;break;case id:b=Pp;break;case"scroll":b=up;break;case"wheel":b=_p;break;case"copy":case"cut":case"paste":b=gp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=Bi}var x=(t&4)!==0,w=!x&&e==="scroll",p=x?h!==null?h+"Capture":null:h;x=[];for(var m=c,g;m!==null;){g=m;var k=g.stateNode;if(g.tag===5&&k!==null&&(g=k,p!==null&&(k=Ln(m,p),k!=null&&x.push(Mn(m,k,g)))),w)break;m=m.return}0<x.length&&(h=new b(h,v,null,r,f),d.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",h&&r!==jo&&(v=r.relatedTarget||r.fromElement)&&(rr(v)||v[Ct]))break e;if((b||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,b?(v=r.relatedTarget||r.toElement,b=c,v=v?rr(v):null,v!==null&&(w=vr(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(b=null,v=c),b!==v)){if(x=$i,k="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(x=Bi,k="onPointerLeave",p="onPointerEnter",m="pointer"),w=b==null?h:Pr(b),g=v==null?h:Pr(v),h=new x(k,m+"leave",b,r,f),h.target=w,h.relatedTarget=g,k=null,rr(f)===c&&(x=new x(p,m+"enter",v,r,f),x.target=g,x.relatedTarget=w,k=x),w=k,b&&v)t:{for(x=b,p=v,m=0,g=x;g;g=jr(g))m++;for(g=0,k=p;k;k=jr(k))g++;for(;0<m-g;)x=jr(x),m--;for(;0<g-m;)p=jr(p),g--;for(;m--;){if(x===p||p!==null&&x===p.alternate)break t;x=jr(x),p=jr(p)}x=null}else x=null;b!==null&&Zi(d,h,b,x,!1),v!==null&&w!==null&&Zi(d,w,v,x,!0)}}e:{if(h=c?Pr(c):window,b=h.nodeName&&h.nodeName.toLowerCase(),b==="select"||b==="input"&&h.type==="file")var L=Dp;else if(Hi(h))if(ed)L=Ip;else{L=Up;var j=Mp}else(b=h.nodeName)&&b.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(L=$p);if(L&&(L=L(e,c))){Zc(d,L,r,f);break e}j&&j(e,h,c),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&xo(h,"number",h.value)}switch(j=c?Pr(c):window,e){case"focusin":(Hi(j)||j.contentEditable==="true")&&(Sr=j,Ro=c,kn=null);break;case"focusout":kn=Ro=Sr=null;break;case"mousedown":_o=!0;break;case"contextmenu":case"mouseup":case"dragend":_o=!1,Ji(d,r,f);break;case"selectionchange":if(Wp)break;case"keydown":case"keyup":Ji(d,r,f)}var R;if(_l)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Cr?Yc(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(Jc&&r.locale!=="ko"&&(Cr||_!=="onCompositionStart"?_==="onCompositionEnd"&&Cr&&(R=Gc()):(At=f,El="value"in At?At.value:At.textContent,Cr=!0)),j=Bs(c,_),0<j.length&&(_=new Ii(_,e,null,r,f),d.push({event:_,listeners:j}),R?_.data=R:(R=Xc(r),R!==null&&(_.data=R)))),(R=Tp?Op(e,r):Fp(e,r))&&(c=Bs(c,"onBeforeInput"),0<c.length&&(f=new Ii("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:c}),f.data=R))}cd(d,t)})}function Mn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Bs(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Ln(e,r),a!=null&&n.unshift(Mn(e,a,s)),a=Ln(e,t),a!=null&&n.push(Mn(e,a,s))),e=e.return}return n}function jr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zi(e,t,r,n,s){for(var a=t._reactName,l=[];r!==null&&r!==n;){var i=r,u=i.alternate,c=i.stateNode;if(u!==null&&u===n)break;i.tag===5&&c!==null&&(i=c,s?(u=Ln(r,a),u!=null&&l.unshift(Mn(r,u,i))):s||(u=Ln(r,a),u!=null&&l.push(Mn(r,u,i)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var Kp=/\r\n?/g,Gp=/\u0000|\uFFFD/g;function eu(e){return(typeof e=="string"?e:""+e).replace(Kp,`
`).replace(Gp,"")}function ms(e,t,r){if(t=eu(t),eu(e)!==t&&r)throw Error(F(425))}function Vs(){}var Lo=null,To=null;function Oo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fo=typeof setTimeout=="function"?setTimeout:void 0,Jp=typeof clearTimeout=="function"?clearTimeout:void 0,tu=typeof Promise=="function"?Promise:void 0,Yp=typeof queueMicrotask=="function"?queueMicrotask:typeof tu<"u"?function(e){return tu.resolve(null).then(e).catch(Xp)}:Fo;function Xp(e){setTimeout(function(){throw e})}function Ga(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Fn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Fn(t)}function Bt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ru(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Yr=Math.random().toString(36).slice(2),pt="__reactFiber$"+Yr,Un="__reactProps$"+Yr,Ct="__reactContainer$"+Yr,Ao="__reactEvents$"+Yr,Zp="__reactListeners$"+Yr,eh="__reactHandles$"+Yr;function rr(e){var t=e[pt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ct]||r[pt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ru(e);e!==null;){if(r=e[pt])return r;e=ru(e)}return t}e=r,r=e.parentNode}return null}function Xn(e){return e=e[pt]||e[Ct],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Pr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function ma(e){return e[Un]||null}var zo=[],Rr=-1;function Yt(e){return{current:e}}function re(e){0>Rr||(e.current=zo[Rr],zo[Rr]=null,Rr--)}function X(e,t){Rr++,zo[Rr]=e.current,e.current=t}var Gt={},Se=Yt(Gt),De=Yt(!1),cr=Gt;function Vr(e,t){var r=e.type.contextTypes;if(!r)return Gt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Me(e){return e=e.childContextTypes,e!=null}function Ws(){re(De),re(Se)}function nu(e,t,r){if(Se.current!==Gt)throw Error(F(168));X(Se,t),X(De,r)}function fd(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(F(108,Mm(e)||"Unknown",s));return oe({},r,n)}function Hs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gt,cr=Se.current,X(Se,e),X(De,De.current),!0}function su(e,t,r){var n=e.stateNode;if(!n)throw Error(F(169));r?(e=fd(e,t,cr),n.__reactInternalMemoizedMergedChildContext=e,re(De),re(Se),X(Se,e)):re(De),X(De,r)}var vt=null,pa=!1,Ja=!1;function md(e){vt===null?vt=[e]:vt.push(e)}function th(e){pa=!0,md(e)}function Xt(){if(!Ja&&vt!==null){Ja=!0;var e=0,t=J;try{var r=vt;for(J=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}vt=null,pa=!1}catch(s){throw vt!==null&&(vt=vt.slice(e+1)),Mc(Nl,Xt),s}finally{J=t,Ja=!1}}return null}var _r=[],Lr=0,qs=null,Qs=0,Ge=[],Je=0,dr=null,wt=1,bt="";function er(e,t){_r[Lr++]=Qs,_r[Lr++]=qs,qs=e,Qs=t}function pd(e,t,r){Ge[Je++]=wt,Ge[Je++]=bt,Ge[Je++]=dr,dr=e;var n=wt;e=bt;var s=32-lt(n)-1;n&=~(1<<s),r+=1;var a=32-lt(t)+s;if(30<a){var l=s-s%5;a=(n&(1<<l)-1).toString(32),n>>=l,s-=l,wt=1<<32-lt(t)+s|r<<s|n,bt=a+e}else wt=1<<a|r<<s|n,bt=e}function Tl(e){e.return!==null&&(er(e,1),pd(e,1,0))}function Ol(e){for(;e===qs;)qs=_r[--Lr],_r[Lr]=null,Qs=_r[--Lr],_r[Lr]=null;for(;e===dr;)dr=Ge[--Je],Ge[Je]=null,bt=Ge[--Je],Ge[Je]=null,wt=Ge[--Je],Ge[Je]=null}var We=null,Ve=null,ne=!1,ot=null;function hd(e,t){var r=Ye(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function au(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,We=e,Ve=Bt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,We=e,Ve=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=dr!==null?{id:wt,overflow:bt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ye(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,We=e,Ve=null,!0):!1;default:return!1}}function Do(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Mo(e){if(ne){var t=Ve;if(t){var r=t;if(!au(e,t)){if(Do(e))throw Error(F(418));t=Bt(r.nextSibling);var n=We;t&&au(e,t)?hd(n,r):(e.flags=e.flags&-4097|2,ne=!1,We=e)}}else{if(Do(e))throw Error(F(418));e.flags=e.flags&-4097|2,ne=!1,We=e}}}function ou(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;We=e}function ps(e){if(e!==We)return!1;if(!ne)return ou(e),ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Oo(e.type,e.memoizedProps)),t&&(t=Ve)){if(Do(e))throw gd(),Error(F(418));for(;t;)hd(e,t),t=Bt(t.nextSibling)}if(ou(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ve=Bt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ve=null}}else Ve=We?Bt(e.stateNode.nextSibling):null;return!0}function gd(){for(var e=Ve;e;)e=Bt(e.nextSibling)}function Wr(){Ve=We=null,ne=!1}function Fl(e){ot===null?ot=[e]:ot.push(e)}var rh=Pt.ReactCurrentBatchConfig;function cn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(F(309));var n=r.stateNode}if(!n)throw Error(F(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(l){var i=s.refs;l===null?delete i[a]:i[a]=l},t._stringRef=a,t)}if(typeof e!="string")throw Error(F(284));if(!r._owner)throw Error(F(290,e))}return e}function hs(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function lu(e){var t=e._init;return t(e._payload)}function xd(e){function t(p,m){if(e){var g=p.deletions;g===null?(p.deletions=[m],p.flags|=16):g.push(m)}}function r(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function n(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function s(p,m){return p=qt(p,m),p.index=0,p.sibling=null,p}function a(p,m,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<m?(p.flags|=2,m):g):(p.flags|=2,m)):(p.flags|=1048576,m)}function l(p){return e&&p.alternate===null&&(p.flags|=2),p}function i(p,m,g,k){return m===null||m.tag!==6?(m=no(g,p.mode,k),m.return=p,m):(m=s(m,g),m.return=p,m)}function u(p,m,g,k){var L=g.type;return L===kr?f(p,m,g.props.children,k,g.key):m!==null&&(m.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Lt&&lu(L)===m.type)?(k=s(m,g.props),k.ref=cn(p,m,g),k.return=p,k):(k=Ls(g.type,g.key,g.props,null,p.mode,k),k.ref=cn(p,m,g),k.return=p,k)}function c(p,m,g,k){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=so(g,p.mode,k),m.return=p,m):(m=s(m,g.children||[]),m.return=p,m)}function f(p,m,g,k,L){return m===null||m.tag!==7?(m=lr(g,p.mode,k,L),m.return=p,m):(m=s(m,g),m.return=p,m)}function d(p,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=no(""+m,p.mode,g),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ss:return g=Ls(m.type,m.key,m.props,null,p.mode,g),g.ref=cn(p,null,m),g.return=p,g;case Nr:return m=so(m,p.mode,g),m.return=p,m;case Lt:var k=m._init;return d(p,k(m._payload),g)}if(hn(m)||sn(m))return m=lr(m,p.mode,g,null),m.return=p,m;hs(p,m)}return null}function h(p,m,g,k){var L=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return L!==null?null:i(p,m,""+g,k);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ss:return g.key===L?u(p,m,g,k):null;case Nr:return g.key===L?c(p,m,g,k):null;case Lt:return L=g._init,h(p,m,L(g._payload),k)}if(hn(g)||sn(g))return L!==null?null:f(p,m,g,k,null);hs(p,g)}return null}function b(p,m,g,k,L){if(typeof k=="string"&&k!==""||typeof k=="number")return p=p.get(g)||null,i(m,p,""+k,L);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ss:return p=p.get(k.key===null?g:k.key)||null,u(m,p,k,L);case Nr:return p=p.get(k.key===null?g:k.key)||null,c(m,p,k,L);case Lt:var j=k._init;return b(p,m,g,j(k._payload),L)}if(hn(k)||sn(k))return p=p.get(g)||null,f(m,p,k,L,null);hs(m,k)}return null}function v(p,m,g,k){for(var L=null,j=null,R=m,_=m=0,S=null;R!==null&&_<g.length;_++){R.index>_?(S=R,R=null):S=R.sibling;var N=h(p,R,g[_],k);if(N===null){R===null&&(R=S);break}e&&R&&N.alternate===null&&t(p,R),m=a(N,m,_),j===null?L=N:j.sibling=N,j=N,R=S}if(_===g.length)return r(p,R),ne&&er(p,_),L;if(R===null){for(;_<g.length;_++)R=d(p,g[_],k),R!==null&&(m=a(R,m,_),j===null?L=R:j.sibling=R,j=R);return ne&&er(p,_),L}for(R=n(p,R);_<g.length;_++)S=b(R,p,_,g[_],k),S!==null&&(e&&S.alternate!==null&&R.delete(S.key===null?_:S.key),m=a(S,m,_),j===null?L=S:j.sibling=S,j=S);return e&&R.forEach(function(E){return t(p,E)}),ne&&er(p,_),L}function x(p,m,g,k){var L=sn(g);if(typeof L!="function")throw Error(F(150));if(g=L.call(g),g==null)throw Error(F(151));for(var j=L=null,R=m,_=m=0,S=null,N=g.next();R!==null&&!N.done;_++,N=g.next()){R.index>_?(S=R,R=null):S=R.sibling;var E=h(p,R,N.value,k);if(E===null){R===null&&(R=S);break}e&&R&&E.alternate===null&&t(p,R),m=a(E,m,_),j===null?L=E:j.sibling=E,j=E,R=S}if(N.done)return r(p,R),ne&&er(p,_),L;if(R===null){for(;!N.done;_++,N=g.next())N=d(p,N.value,k),N!==null&&(m=a(N,m,_),j===null?L=N:j.sibling=N,j=N);return ne&&er(p,_),L}for(R=n(p,R);!N.done;_++,N=g.next())N=b(R,p,_,N.value,k),N!==null&&(e&&N.alternate!==null&&R.delete(N.key===null?_:N.key),m=a(N,m,_),j===null?L=N:j.sibling=N,j=N);return e&&R.forEach(function(P){return t(p,P)}),ne&&er(p,_),L}function w(p,m,g,k){if(typeof g=="object"&&g!==null&&g.type===kr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ss:e:{for(var L=g.key,j=m;j!==null;){if(j.key===L){if(L=g.type,L===kr){if(j.tag===7){r(p,j.sibling),m=s(j,g.props.children),m.return=p,p=m;break e}}else if(j.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Lt&&lu(L)===j.type){r(p,j.sibling),m=s(j,g.props),m.ref=cn(p,j,g),m.return=p,p=m;break e}r(p,j);break}else t(p,j);j=j.sibling}g.type===kr?(m=lr(g.props.children,p.mode,k,g.key),m.return=p,p=m):(k=Ls(g.type,g.key,g.props,null,p.mode,k),k.ref=cn(p,m,g),k.return=p,p=k)}return l(p);case Nr:e:{for(j=g.key;m!==null;){if(m.key===j)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){r(p,m.sibling),m=s(m,g.children||[]),m.return=p,p=m;break e}else{r(p,m);break}else t(p,m);m=m.sibling}m=so(g,p.mode,k),m.return=p,p=m}return l(p);case Lt:return j=g._init,w(p,m,j(g._payload),k)}if(hn(g))return v(p,m,g,k);if(sn(g))return x(p,m,g,k);hs(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(r(p,m.sibling),m=s(m,g),m.return=p,p=m):(r(p,m),m=no(g,p.mode,k),m.return=p,p=m),l(p)):r(p,m)}return w}var Hr=xd(!0),vd=xd(!1),Ks=Yt(null),Gs=null,Tr=null,Al=null;function zl(){Al=Tr=Gs=null}function Dl(e){var t=Ks.current;re(Ks),e._currentValue=t}function Uo(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function $r(e,t){Gs=e,Al=Tr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ze=!0),e.firstContext=null)}function et(e){var t=e._currentValue;if(Al!==e)if(e={context:e,memoizedValue:t,next:null},Tr===null){if(Gs===null)throw Error(F(308));Tr=e,Gs.dependencies={lanes:0,firstContext:e}}else Tr=Tr.next=e;return t}var nr=null;function Ml(e){nr===null?nr=[e]:nr.push(e)}function yd(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Ml(t)):(r.next=s.next,s.next=r),t.interleaved=r,St(e,n)}function St(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Tt=!1;function Ul(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,K&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,St(e,r)}return s=n.interleaved,s===null?(t.next=t,Ml(n)):(t.next=s.next,s.next=t),n.interleaved=t,St(e,r)}function Cs(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,kl(e,r)}}function iu(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=l:a=a.next=l,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Js(e,t,r,n){var s=e.updateQueue;Tt=!1;var a=s.firstBaseUpdate,l=s.lastBaseUpdate,i=s.shared.pending;if(i!==null){s.shared.pending=null;var u=i,c=u.next;u.next=null,l===null?a=c:l.next=c,l=u;var f=e.alternate;f!==null&&(f=f.updateQueue,i=f.lastBaseUpdate,i!==l&&(i===null?f.firstBaseUpdate=c:i.next=c,f.lastBaseUpdate=u))}if(a!==null){var d=s.baseState;l=0,f=c=u=null,i=a;do{var h=i.lane,b=i.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:b,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var v=e,x=i;switch(h=t,b=r,x.tag){case 1:if(v=x.payload,typeof v=="function"){d=v.call(b,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,h=typeof v=="function"?v.call(b,d,h):v,h==null)break e;d=oe({},d,h);break e;case 2:Tt=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[i]:h.push(i))}else b={eventTime:b,lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},f===null?(c=f=b,u=d):f=f.next=b,l|=h;if(i=i.next,i===null){if(i=s.shared.pending,i===null)break;h=i,i=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(f===null&&(u=d),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);mr|=l,e.lanes=l,e.memoizedState=d}}function uu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(F(191,s));s.call(n)}}}var Zn={},gt=Yt(Zn),$n=Yt(Zn),In=Yt(Zn);function sr(e){if(e===Zn)throw Error(F(174));return e}function $l(e,t){switch(X(In,t),X($n,e),X(gt,Zn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:yo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=yo(t,e)}re(gt),X(gt,t)}function qr(){re(gt),re($n),re(In)}function bd(e){sr(In.current);var t=sr(gt.current),r=yo(t,e.type);t!==r&&(X($n,e),X(gt,r))}function Il(e){$n.current===e&&(re(gt),re($n))}var se=Yt(0);function Ys(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ya=[];function Bl(){for(var e=0;e<Ya.length;e++)Ya[e]._workInProgressVersionPrimary=null;Ya.length=0}var Ss=Pt.ReactCurrentDispatcher,Xa=Pt.ReactCurrentBatchConfig,fr=0,ae=null,me=null,xe=null,Xs=!1,Cn=!1,Bn=0,nh=0;function je(){throw Error(F(321))}function Vl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ut(e[r],t[r]))return!1;return!0}function Wl(e,t,r,n,s,a){if(fr=a,ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ss.current=e===null||e.memoizedState===null?lh:ih,e=r(n,s),Cn){a=0;do{if(Cn=!1,Bn=0,25<=a)throw Error(F(301));a+=1,xe=me=null,t.updateQueue=null,Ss.current=uh,e=r(n,s)}while(Cn)}if(Ss.current=Zs,t=me!==null&&me.next!==null,fr=0,xe=me=ae=null,Xs=!1,t)throw Error(F(300));return e}function Hl(){var e=Bn!==0;return Bn=0,e}function mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?ae.memoizedState=xe=e:xe=xe.next=e,xe}function tt(){if(me===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=me.next;var t=xe===null?ae.memoizedState:xe.next;if(t!==null)xe=t,me=e;else{if(e===null)throw Error(F(310));me=e,e={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},xe===null?ae.memoizedState=xe=e:xe=xe.next=e}return xe}function Vn(e,t){return typeof t=="function"?t(e):t}function Za(e){var t=tt(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=me,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var l=s.next;s.next=a.next,a.next=l}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var i=l=null,u=null,c=a;do{var f=c.lane;if((fr&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(i=u=d,l=n):u=u.next=d,ae.lanes|=f,mr|=f}c=c.next}while(c!==null&&c!==a);u===null?l=n:u.next=i,ut(n,t.memoizedState)||(ze=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,ae.lanes|=a,mr|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function eo(e){var t=tt(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var l=s=s.next;do a=e(a,l.action),l=l.next;while(l!==s);ut(a,t.memoizedState)||(ze=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function jd(){}function Nd(e,t){var r=ae,n=tt(),s=t(),a=!ut(n.memoizedState,s);if(a&&(n.memoizedState=s,ze=!0),n=n.queue,ql(Sd.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||xe!==null&&xe.memoizedState.tag&1){if(r.flags|=2048,Wn(9,Cd.bind(null,r,n,s,t),void 0,null),ve===null)throw Error(F(349));fr&30||kd(r,t,s)}return s}function kd(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Cd(e,t,r,n){t.value=r,t.getSnapshot=n,Ed(t)&&Pd(e)}function Sd(e,t,r){return r(function(){Ed(t)&&Pd(e)})}function Ed(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ut(e,r)}catch{return!0}}function Pd(e){var t=St(e,1);t!==null&&it(t,e,1,-1)}function cu(e){var t=mt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:e},t.queue=e,e=e.dispatch=oh.bind(null,ae,e),[t.memoizedState,e]}function Wn(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Rd(){return tt().memoizedState}function Es(e,t,r,n){var s=mt();ae.flags|=e,s.memoizedState=Wn(1|t,r,void 0,n===void 0?null:n)}function ha(e,t,r,n){var s=tt();n=n===void 0?null:n;var a=void 0;if(me!==null){var l=me.memoizedState;if(a=l.destroy,n!==null&&Vl(n,l.deps)){s.memoizedState=Wn(t,r,a,n);return}}ae.flags|=e,s.memoizedState=Wn(1|t,r,a,n)}function du(e,t){return Es(8390656,8,e,t)}function ql(e,t){return ha(2048,8,e,t)}function _d(e,t){return ha(4,2,e,t)}function Ld(e,t){return ha(4,4,e,t)}function Td(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Od(e,t,r){return r=r!=null?r.concat([e]):null,ha(4,4,Td.bind(null,t,e),r)}function Ql(){}function Fd(e,t){var r=tt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Vl(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ad(e,t){var r=tt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Vl(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function zd(e,t,r){return fr&21?(ut(r,t)||(r=Ic(),ae.lanes|=r,mr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ze=!0),e.memoizedState=r)}function sh(e,t){var r=J;J=r!==0&&4>r?r:4,e(!0);var n=Xa.transition;Xa.transition={};try{e(!1),t()}finally{J=r,Xa.transition=n}}function Dd(){return tt().memoizedState}function ah(e,t,r){var n=Ht(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Md(e))Ud(t,r);else if(r=yd(e,t,r,n),r!==null){var s=_e();it(r,e,n,s),$d(r,t,n)}}function oh(e,t,r){var n=Ht(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Md(e))Ud(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,i=a(l,r);if(s.hasEagerState=!0,s.eagerState=i,ut(i,l)){var u=t.interleaved;u===null?(s.next=s,Ml(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}r=yd(e,t,s,n),r!==null&&(s=_e(),it(r,e,n,s),$d(r,t,n))}}function Md(e){var t=e.alternate;return e===ae||t!==null&&t===ae}function Ud(e,t){Cn=Xs=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function $d(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,kl(e,r)}}var Zs={readContext:et,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useInsertionEffect:je,useLayoutEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useMutableSource:je,useSyncExternalStore:je,useId:je,unstable_isNewReconciler:!1},lh={readContext:et,useCallback:function(e,t){return mt().memoizedState=[e,t===void 0?null:t],e},useContext:et,useEffect:du,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Es(4194308,4,Td.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Es(4194308,4,e,t)},useInsertionEffect:function(e,t){return Es(4,2,e,t)},useMemo:function(e,t){var r=mt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=mt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=ah.bind(null,ae,e),[n.memoizedState,e]},useRef:function(e){var t=mt();return e={current:e},t.memoizedState=e},useState:cu,useDebugValue:Ql,useDeferredValue:function(e){return mt().memoizedState=e},useTransition:function(){var e=cu(!1),t=e[0];return e=sh.bind(null,e[1]),mt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ae,s=mt();if(ne){if(r===void 0)throw Error(F(407));r=r()}else{if(r=t(),ve===null)throw Error(F(349));fr&30||kd(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,du(Sd.bind(null,n,a,e),[e]),n.flags|=2048,Wn(9,Cd.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=mt(),t=ve.identifierPrefix;if(ne){var r=bt,n=wt;r=(n&~(1<<32-lt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Bn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=nh++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ih={readContext:et,useCallback:Fd,useContext:et,useEffect:ql,useImperativeHandle:Od,useInsertionEffect:_d,useLayoutEffect:Ld,useMemo:Ad,useReducer:Za,useRef:Rd,useState:function(){return Za(Vn)},useDebugValue:Ql,useDeferredValue:function(e){var t=tt();return zd(t,me.memoizedState,e)},useTransition:function(){var e=Za(Vn)[0],t=tt().memoizedState;return[e,t]},useMutableSource:jd,useSyncExternalStore:Nd,useId:Dd,unstable_isNewReconciler:!1},uh={readContext:et,useCallback:Fd,useContext:et,useEffect:ql,useImperativeHandle:Od,useInsertionEffect:_d,useLayoutEffect:Ld,useMemo:Ad,useReducer:eo,useRef:Rd,useState:function(){return eo(Vn)},useDebugValue:Ql,useDeferredValue:function(e){var t=tt();return me===null?t.memoizedState=e:zd(t,me.memoizedState,e)},useTransition:function(){var e=eo(Vn)[0],t=tt().memoizedState;return[e,t]},useMutableSource:jd,useSyncExternalStore:Nd,useId:Dd,unstable_isNewReconciler:!1};function st(e,t){if(e&&e.defaultProps){t=oe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function $o(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:oe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ga={isMounted:function(e){return(e=e._reactInternals)?vr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=_e(),s=Ht(e),a=jt(n,s);a.payload=t,r!=null&&(a.callback=r),t=Vt(e,a,s),t!==null&&(it(t,e,s,n),Cs(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=_e(),s=Ht(e),a=jt(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Vt(e,a,s),t!==null&&(it(t,e,s,n),Cs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=_e(),n=Ht(e),s=jt(r,n);s.tag=2,t!=null&&(s.callback=t),t=Vt(e,s,n),t!==null&&(it(t,e,n,r),Cs(t,e,n))}};function fu(e,t,r,n,s,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,l):t.prototype&&t.prototype.isPureReactComponent?!zn(r,n)||!zn(s,a):!0}function Id(e,t,r){var n=!1,s=Gt,a=t.contextType;return typeof a=="object"&&a!==null?a=et(a):(s=Me(t)?cr:Se.current,n=t.contextTypes,a=(n=n!=null)?Vr(e,s):Gt),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ga,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function mu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ga.enqueueReplaceState(t,t.state,null)}function Io(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Ul(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=et(a):(a=Me(t)?cr:Se.current,s.context=Vr(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&($o(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ga.enqueueReplaceState(s,s.state,null),Js(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Qr(e,t){try{var r="",n=t;do r+=Dm(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function to(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Bo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ch=typeof WeakMap=="function"?WeakMap:Map;function Bd(e,t,r){r=jt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ta||(ta=!0,Xo=n),Bo(e,t)},r}function Vd(e,t,r){r=jt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Bo(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Bo(e,t),typeof n!="function"&&(Wt===null?Wt=new Set([this]):Wt.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function pu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new ch;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=kh.bind(null,e,t,r),t.then(e,e))}function hu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gu(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=jt(-1,1),t.tag=2,Vt(r,t,1))),r.lanes|=1),e)}var dh=Pt.ReactCurrentOwner,ze=!1;function Re(e,t,r,n){t.child=e===null?vd(t,null,r,n):Hr(t,e.child,r,n)}function xu(e,t,r,n,s){r=r.render;var a=t.ref;return $r(t,s),n=Wl(e,t,r,n,a,s),r=Hl(),e!==null&&!ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Et(e,t,s)):(ne&&r&&Tl(t),t.flags|=1,Re(e,t,n,s),t.child)}function vu(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!ti(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Wd(e,t,a,n,s)):(e=Ls(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var l=a.memoizedProps;if(r=r.compare,r=r!==null?r:zn,r(l,n)&&e.ref===t.ref)return Et(e,t,s)}return t.flags|=1,e=qt(a,n),e.ref=t.ref,e.return=t,t.child=e}function Wd(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(zn(a,n)&&e.ref===t.ref)if(ze=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(ze=!0);else return t.lanes=e.lanes,Et(e,t,s)}return Vo(e,t,r,n,s)}function Hd(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},X(Fr,Be),Be|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,X(Fr,Be),Be|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,X(Fr,Be),Be|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,X(Fr,Be),Be|=n;return Re(e,t,s,r),t.child}function qd(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Vo(e,t,r,n,s){var a=Me(r)?cr:Se.current;return a=Vr(t,a),$r(t,s),r=Wl(e,t,r,n,a,s),n=Hl(),e!==null&&!ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Et(e,t,s)):(ne&&n&&Tl(t),t.flags|=1,Re(e,t,r,s),t.child)}function yu(e,t,r,n,s){if(Me(r)){var a=!0;Hs(t)}else a=!1;if($r(t,s),t.stateNode===null)Ps(e,t),Id(t,r,n),Io(t,r,n,s),n=!0;else if(e===null){var l=t.stateNode,i=t.memoizedProps;l.props=i;var u=l.context,c=r.contextType;typeof c=="object"&&c!==null?c=et(c):(c=Me(r)?cr:Se.current,c=Vr(t,c));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";d||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(i!==n||u!==c)&&mu(t,l,n,c),Tt=!1;var h=t.memoizedState;l.state=h,Js(t,n,l,s),u=t.memoizedState,i!==n||h!==u||De.current||Tt?(typeof f=="function"&&($o(t,r,f,n),u=t.memoizedState),(i=Tt||fu(t,r,i,n,h,u,c))?(d||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),l.props=n,l.state=u,l.context=c,n=i):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,wd(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:st(t.type,i),l.props=c,d=t.pendingProps,h=l.context,u=r.contextType,typeof u=="object"&&u!==null?u=et(u):(u=Me(r)?cr:Se.current,u=Vr(t,u));var b=r.getDerivedStateFromProps;(f=typeof b=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(i!==d||h!==u)&&mu(t,l,n,u),Tt=!1,h=t.memoizedState,l.state=h,Js(t,n,l,s);var v=t.memoizedState;i!==d||h!==v||De.current||Tt?(typeof b=="function"&&($o(t,r,b,n),v=t.memoizedState),(c=Tt||fu(t,r,c,n,h,v,u)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,v,u),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,v,u)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),l.props=n,l.state=v,l.context=u,n=c):(typeof l.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Wo(e,t,r,n,a,s)}function Wo(e,t,r,n,s,a){qd(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return s&&su(t,r,!1),Et(e,t,a);n=t.stateNode,dh.current=t;var i=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=Hr(t,e.child,null,a),t.child=Hr(t,null,i,a)):Re(e,t,i,a),t.memoizedState=n.state,s&&su(t,r,!0),t.child}function Qd(e){var t=e.stateNode;t.pendingContext?nu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&nu(e,t.context,!1),$l(e,t.containerInfo)}function wu(e,t,r,n,s){return Wr(),Fl(s),t.flags|=256,Re(e,t,r,n),t.child}var Ho={dehydrated:null,treeContext:null,retryLane:0};function qo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Kd(e,t,r){var n=t.pendingProps,s=se.current,a=!1,l=(t.flags&128)!==0,i;if((i=l)||(i=e!==null&&e.memoizedState===null?!1:(s&2)!==0),i?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),X(se,s&1),e===null)return Mo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,a?(n=t.mode,a=t.child,l={mode:"hidden",children:l},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=ya(l,n,0,null),e=lr(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=qo(r),t.memoizedState=Ho,e):Kl(t,l));if(s=e.memoizedState,s!==null&&(i=s.dehydrated,i!==null))return fh(e,t,l,n,i,s,r);if(a){a=n.fallback,l=t.mode,s=e.child,i=s.sibling;var u={mode:"hidden",children:n.children};return!(l&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=qt(s,u),n.subtreeFlags=s.subtreeFlags&14680064),i!==null?a=qt(i,a):(a=lr(a,l,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,l=e.child.memoizedState,l=l===null?qo(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~r,t.memoizedState=Ho,n}return a=e.child,e=a.sibling,n=qt(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Kl(e,t){return t=ya({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gs(e,t,r,n){return n!==null&&Fl(n),Hr(t,e.child,null,r),e=Kl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fh(e,t,r,n,s,a,l){if(r)return t.flags&256?(t.flags&=-257,n=to(Error(F(422))),gs(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=ya({mode:"visible",children:n.children},s,0,null),a=lr(a,s,l,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Hr(t,e.child,null,l),t.child.memoizedState=qo(l),t.memoizedState=Ho,a);if(!(t.mode&1))return gs(e,t,l,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var i=n.dgst;return n=i,a=Error(F(419)),n=to(a,n,void 0),gs(e,t,l,n)}if(i=(l&e.childLanes)!==0,ze||i){if(n=ve,n!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|l)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,St(e,s),it(n,e,s,-1))}return ei(),n=to(Error(F(421))),gs(e,t,l,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Ch.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Ve=Bt(s.nextSibling),We=t,ne=!0,ot=null,e!==null&&(Ge[Je++]=wt,Ge[Je++]=bt,Ge[Je++]=dr,wt=e.id,bt=e.overflow,dr=t),t=Kl(t,n.children),t.flags|=4096,t)}function bu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Uo(e.return,t,r)}function ro(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function Gd(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(Re(e,t,n.children,r),n=se.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bu(e,r,t);else if(e.tag===19)bu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(X(se,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ys(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),ro(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ys(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}ro(t,!0,r,null,a);break;case"together":ro(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ps(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Et(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),mr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,r=qt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=qt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function mh(e,t,r){switch(t.tag){case 3:Qd(t),Wr();break;case 5:bd(t);break;case 1:Me(t.type)&&Hs(t);break;case 4:$l(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;X(Ks,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(X(se,se.current&1),t.flags|=128,null):r&t.child.childLanes?Kd(e,t,r):(X(se,se.current&1),e=Et(e,t,r),e!==null?e.sibling:null);X(se,se.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Gd(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),X(se,se.current),n)break;return null;case 22:case 23:return t.lanes=0,Hd(e,t,r)}return Et(e,t,r)}var Jd,Qo,Yd,Xd;Jd=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Qo=function(){};Yd=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,sr(gt.current);var a=null;switch(r){case"input":s=ho(e,s),n=ho(e,n),a=[];break;case"select":s=oe({},s,{value:void 0}),n=oe({},n,{value:void 0}),a=[];break;case"textarea":s=vo(e,s),n=vo(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Vs)}wo(r,n);var l;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var i=s[c];for(l in i)i.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Rn.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var u=n[c];if(i=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==i&&(u!=null||i!=null))if(c==="style")if(i){for(l in i)!i.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in u)u.hasOwnProperty(l)&&i[l]!==u[l]&&(r||(r={}),r[l]=u[l])}else r||(a||(a=[]),a.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,i=i?i.__html:void 0,u!=null&&i!==u&&(a=a||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(a=a||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Rn.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&te("scroll",e),a||i===u||(a=[])):(a=a||[]).push(c,u))}r&&(a=a||[]).push("style",r);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};Xd=function(e,t,r,n){r!==n&&(t.flags|=4)};function dn(e,t){if(!ne)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ne(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function ph(e,t,r){var n=t.pendingProps;switch(Ol(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(t),null;case 1:return Me(t.type)&&Ws(),Ne(t),null;case 3:return n=t.stateNode,qr(),re(De),re(Se),Bl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ps(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ot!==null&&(tl(ot),ot=null))),Qo(e,t),Ne(t),null;case 5:Il(t);var s=sr(In.current);if(r=t.type,e!==null&&t.stateNode!=null)Yd(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(F(166));return Ne(t),null}if(e=sr(gt.current),ps(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[pt]=t,n[Un]=a,e=(t.mode&1)!==0,r){case"dialog":te("cancel",n),te("close",n);break;case"iframe":case"object":case"embed":te("load",n);break;case"video":case"audio":for(s=0;s<xn.length;s++)te(xn[s],n);break;case"source":te("error",n);break;case"img":case"image":case"link":te("error",n),te("load",n);break;case"details":te("toggle",n);break;case"input":_i(n,a),te("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},te("invalid",n);break;case"textarea":Ti(n,a),te("invalid",n)}wo(r,a),s=null;for(var l in a)if(a.hasOwnProperty(l)){var i=a[l];l==="children"?typeof i=="string"?n.textContent!==i&&(a.suppressHydrationWarning!==!0&&ms(n.textContent,i,e),s=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(a.suppressHydrationWarning!==!0&&ms(n.textContent,i,e),s=["children",""+i]):Rn.hasOwnProperty(l)&&i!=null&&l==="onScroll"&&te("scroll",n)}switch(r){case"input":as(n),Li(n,a,!0);break;case"textarea":as(n),Oi(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Vs)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Sc(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[pt]=t,e[Un]=n,Jd(e,t,!1,!1),t.stateNode=e;e:{switch(l=bo(r,n),r){case"dialog":te("cancel",e),te("close",e),s=n;break;case"iframe":case"object":case"embed":te("load",e),s=n;break;case"video":case"audio":for(s=0;s<xn.length;s++)te(xn[s],e);s=n;break;case"source":te("error",e),s=n;break;case"img":case"image":case"link":te("error",e),te("load",e),s=n;break;case"details":te("toggle",e),s=n;break;case"input":_i(e,n),s=ho(e,n),te("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=oe({},n,{value:void 0}),te("invalid",e);break;case"textarea":Ti(e,n),s=vo(e,n),te("invalid",e);break;default:s=n}wo(r,s),i=s;for(a in i)if(i.hasOwnProperty(a)){var u=i[a];a==="style"?Rc(e,u):a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Ec(e,u)):a==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&_n(e,u):typeof u=="number"&&_n(e,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Rn.hasOwnProperty(a)?u!=null&&a==="onScroll"&&te("scroll",e):u!=null&&vl(e,a,u,l))}switch(r){case"input":as(e),Li(e,n,!1);break;case"textarea":as(e),Oi(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Kt(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?zr(e,!!n.multiple,a,!1):n.defaultValue!=null&&zr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Vs)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ne(t),null;case 6:if(e&&t.stateNode!=null)Xd(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(F(166));if(r=sr(In.current),sr(gt.current),ps(t)){if(n=t.stateNode,r=t.memoizedProps,n[pt]=t,(a=n.nodeValue!==r)&&(e=We,e!==null))switch(e.tag){case 3:ms(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ms(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[pt]=t,t.stateNode=n}return Ne(t),null;case 13:if(re(se),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ne&&Ve!==null&&t.mode&1&&!(t.flags&128))gd(),Wr(),t.flags|=98560,a=!1;else if(a=ps(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(F(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(F(317));a[pt]=t}else Wr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ne(t),a=!1}else ot!==null&&(tl(ot),ot=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||se.current&1?pe===0&&(pe=3):ei())),t.updateQueue!==null&&(t.flags|=4),Ne(t),null);case 4:return qr(),Qo(e,t),e===null&&Dn(t.stateNode.containerInfo),Ne(t),null;case 10:return Dl(t.type._context),Ne(t),null;case 17:return Me(t.type)&&Ws(),Ne(t),null;case 19:if(re(se),a=t.memoizedState,a===null)return Ne(t),null;if(n=(t.flags&128)!==0,l=a.rendering,l===null)if(n)dn(a,!1);else{if(pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Ys(e),l!==null){for(t.flags|=128,dn(a,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return X(se,se.current&1|2),t.child}e=e.sibling}a.tail!==null&&ie()>Kr&&(t.flags|=128,n=!0,dn(a,!1),t.lanes=4194304)}else{if(!n)if(e=Ys(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),dn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!ne)return Ne(t),null}else 2*ie()-a.renderingStartTime>Kr&&r!==1073741824&&(t.flags|=128,n=!0,dn(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(r=a.last,r!==null?r.sibling=l:t.child=l,a.last=l)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ie(),t.sibling=null,r=se.current,X(se,n?r&1|2:r&1),t):(Ne(t),null);case 22:case 23:return Zl(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Be&1073741824&&(Ne(t),t.subtreeFlags&6&&(t.flags|=8192)):Ne(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function hh(e,t){switch(Ol(t),t.tag){case 1:return Me(t.type)&&Ws(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qr(),re(De),re(Se),Bl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Il(t),null;case 13:if(re(se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));Wr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return re(se),null;case 4:return qr(),null;case 10:return Dl(t.type._context),null;case 22:case 23:return Zl(),null;case 24:return null;default:return null}}var xs=!1,ke=!1,gh=typeof WeakSet=="function"?WeakSet:Set,D=null;function Or(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){le(e,t,n)}else r.current=null}function Ko(e,t,r){try{r()}catch(n){le(e,t,n)}}var ju=!1;function xh(e,t){if(Lo=$s,e=nd(),Ll(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var l=0,i=-1,u=-1,c=0,f=0,d=e,h=null;t:for(;;){for(var b;d!==r||s!==0&&d.nodeType!==3||(i=l+s),d!==a||n!==0&&d.nodeType!==3||(u=l+n),d.nodeType===3&&(l+=d.nodeValue.length),(b=d.firstChild)!==null;)h=d,d=b;for(;;){if(d===e)break t;if(h===r&&++c===s&&(i=l),h===a&&++f===n&&(u=l),(b=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=b}r=i===-1||u===-1?null:{start:i,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(To={focusedElem:e,selectionRange:r},$s=!1,D=t;D!==null;)if(t=D,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,D=e;else for(;D!==null;){t=D;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,w=v.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?x:st(t.type,x),w);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(k){le(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,D=e;break}D=t.return}return v=ju,ju=!1,v}function Sn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Ko(t,r,a)}s=s.next}while(s!==n)}}function xa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Go(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Zd(e){var t=e.alternate;t!==null&&(e.alternate=null,Zd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[pt],delete t[Un],delete t[Ao],delete t[Zp],delete t[eh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ef(e){return e.tag===5||e.tag===3||e.tag===4}function Nu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ef(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jo(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Vs));else if(n!==4&&(e=e.child,e!==null))for(Jo(e,t,r),e=e.sibling;e!==null;)Jo(e,t,r),e=e.sibling}function Yo(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Yo(e,t,r),e=e.sibling;e!==null;)Yo(e,t,r),e=e.sibling}var ye=null,at=!1;function _t(e,t,r){for(r=r.child;r!==null;)tf(e,t,r),r=r.sibling}function tf(e,t,r){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(ua,r)}catch{}switch(r.tag){case 5:ke||Or(r,t);case 6:var n=ye,s=at;ye=null,_t(e,t,r),ye=n,at=s,ye!==null&&(at?(e=ye,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ye.removeChild(r.stateNode));break;case 18:ye!==null&&(at?(e=ye,r=r.stateNode,e.nodeType===8?Ga(e.parentNode,r):e.nodeType===1&&Ga(e,r),Fn(e)):Ga(ye,r.stateNode));break;case 4:n=ye,s=at,ye=r.stateNode.containerInfo,at=!0,_t(e,t,r),ye=n,at=s;break;case 0:case 11:case 14:case 15:if(!ke&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&Ko(r,t,l),s=s.next}while(s!==n)}_t(e,t,r);break;case 1:if(!ke&&(Or(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(i){le(r,t,i)}_t(e,t,r);break;case 21:_t(e,t,r);break;case 22:r.mode&1?(ke=(n=ke)||r.memoizedState!==null,_t(e,t,r),ke=n):_t(e,t,r);break;default:_t(e,t,r)}}function ku(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new gh),t.forEach(function(n){var s=Sh.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function rt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,l=t,i=l;e:for(;i!==null;){switch(i.tag){case 5:ye=i.stateNode,at=!1;break e;case 3:ye=i.stateNode.containerInfo,at=!0;break e;case 4:ye=i.stateNode.containerInfo,at=!0;break e}i=i.return}if(ye===null)throw Error(F(160));tf(a,l,s),ye=null,at=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){le(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rf(t,e),t=t.sibling}function rf(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rt(t,e),dt(e),n&4){try{Sn(3,e,e.return),xa(3,e)}catch(x){le(e,e.return,x)}try{Sn(5,e,e.return)}catch(x){le(e,e.return,x)}}break;case 1:rt(t,e),dt(e),n&512&&r!==null&&Or(r,r.return);break;case 5:if(rt(t,e),dt(e),n&512&&r!==null&&Or(r,r.return),e.flags&32){var s=e.stateNode;try{_n(s,"")}catch(x){le(e,e.return,x)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,l=r!==null?r.memoizedProps:a,i=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{i==="input"&&a.type==="radio"&&a.name!=null&&kc(s,a),bo(i,l);var c=bo(i,a);for(l=0;l<u.length;l+=2){var f=u[l],d=u[l+1];f==="style"?Rc(s,d):f==="dangerouslySetInnerHTML"?Ec(s,d):f==="children"?_n(s,d):vl(s,f,d,c)}switch(i){case"input":go(s,a);break;case"textarea":Cc(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var b=a.value;b!=null?zr(s,!!a.multiple,b,!1):h!==!!a.multiple&&(a.defaultValue!=null?zr(s,!!a.multiple,a.defaultValue,!0):zr(s,!!a.multiple,a.multiple?[]:"",!1))}s[Un]=a}catch(x){le(e,e.return,x)}}break;case 6:if(rt(t,e),dt(e),n&4){if(e.stateNode===null)throw Error(F(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(x){le(e,e.return,x)}}break;case 3:if(rt(t,e),dt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Fn(t.containerInfo)}catch(x){le(e,e.return,x)}break;case 4:rt(t,e),dt(e);break;case 13:rt(t,e),dt(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Yl=ie())),n&4&&ku(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(ke=(c=ke)||f,rt(t,e),ke=c):rt(t,e),dt(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(D=e,f=e.child;f!==null;){for(d=D=f;D!==null;){switch(h=D,b=h.child,h.tag){case 0:case 11:case 14:case 15:Sn(4,h,h.return);break;case 1:Or(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(x){le(n,r,x)}}break;case 5:Or(h,h.return);break;case 22:if(h.memoizedState!==null){Su(d);continue}}b!==null?(b.return=h,D=b):Su(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,c?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(i=d.stateNode,u=d.memoizedProps.style,l=u!=null&&u.hasOwnProperty("display")?u.display:null,i.style.display=Pc("display",l))}catch(x){le(e,e.return,x)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(x){le(e,e.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:rt(t,e),dt(e),n&4&&ku(e);break;case 21:break;default:rt(t,e),dt(e)}}function dt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(ef(r)){var n=r;break e}r=r.return}throw Error(F(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(_n(s,""),n.flags&=-33);var a=Nu(e);Yo(e,a,s);break;case 3:case 4:var l=n.stateNode.containerInfo,i=Nu(e);Jo(e,i,l);break;default:throw Error(F(161))}}catch(u){le(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vh(e,t,r){D=e,nf(e)}function nf(e,t,r){for(var n=(e.mode&1)!==0;D!==null;){var s=D,a=s.child;if(s.tag===22&&n){var l=s.memoizedState!==null||xs;if(!l){var i=s.alternate,u=i!==null&&i.memoizedState!==null||ke;i=xs;var c=ke;if(xs=l,(ke=u)&&!c)for(D=s;D!==null;)l=D,u=l.child,l.tag===22&&l.memoizedState!==null?Eu(s):u!==null?(u.return=l,D=u):Eu(s);for(;a!==null;)D=a,nf(a),a=a.sibling;D=s,xs=i,ke=c}Cu(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,D=a):Cu(e)}}function Cu(e){for(;D!==null;){var t=D;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ke||xa(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ke)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:st(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&uu(t,a,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}uu(t,l,r)}break;case 5:var i=t.stateNode;if(r===null&&t.flags&4){r=i;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Fn(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}ke||t.flags&512&&Go(t)}catch(h){le(t,t.return,h)}}if(t===e){D=null;break}if(r=t.sibling,r!==null){r.return=t.return,D=r;break}D=t.return}}function Su(e){for(;D!==null;){var t=D;if(t===e){D=null;break}var r=t.sibling;if(r!==null){r.return=t.return,D=r;break}D=t.return}}function Eu(e){for(;D!==null;){var t=D;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{xa(4,t)}catch(u){le(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(u){le(t,s,u)}}var a=t.return;try{Go(t)}catch(u){le(t,a,u)}break;case 5:var l=t.return;try{Go(t)}catch(u){le(t,l,u)}}}catch(u){le(t,t.return,u)}if(t===e){D=null;break}var i=t.sibling;if(i!==null){i.return=t.return,D=i;break}D=t.return}}var yh=Math.ceil,ea=Pt.ReactCurrentDispatcher,Gl=Pt.ReactCurrentOwner,Ze=Pt.ReactCurrentBatchConfig,K=0,ve=null,de=null,we=0,Be=0,Fr=Yt(0),pe=0,Hn=null,mr=0,va=0,Jl=0,En=null,Fe=null,Yl=0,Kr=1/0,xt=null,ta=!1,Xo=null,Wt=null,vs=!1,zt=null,ra=0,Pn=0,Zo=null,Rs=-1,_s=0;function _e(){return K&6?ie():Rs!==-1?Rs:Rs=ie()}function Ht(e){return e.mode&1?K&2&&we!==0?we&-we:rh.transition!==null?(_s===0&&(_s=Ic()),_s):(e=J,e!==0||(e=window.event,e=e===void 0?16:Kc(e.type)),e):1}function it(e,t,r,n){if(50<Pn)throw Pn=0,Zo=null,Error(F(185));Jn(e,r,n),(!(K&2)||e!==ve)&&(e===ve&&(!(K&2)&&(va|=r),pe===4&&Ft(e,we)),Ue(e,n),r===1&&K===0&&!(t.mode&1)&&(Kr=ie()+500,pa&&Xt()))}function Ue(e,t){var r=e.callbackNode;rp(e,t);var n=Us(e,e===ve?we:0);if(n===0)r!==null&&zi(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&zi(r),t===1)e.tag===0?th(Pu.bind(null,e)):md(Pu.bind(null,e)),Yp(function(){!(K&6)&&Xt()}),r=null;else{switch(Bc(n)){case 1:r=Nl;break;case 4:r=Uc;break;case 16:r=Ms;break;case 536870912:r=$c;break;default:r=Ms}r=ff(r,sf.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function sf(e,t){if(Rs=-1,_s=0,K&6)throw Error(F(327));var r=e.callbackNode;if(Ir()&&e.callbackNode!==r)return null;var n=Us(e,e===ve?we:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=na(e,n);else{t=n;var s=K;K|=2;var a=of();(ve!==e||we!==t)&&(xt=null,Kr=ie()+500,or(e,t));do try{jh();break}catch(i){af(e,i)}while(!0);zl(),ea.current=a,K=s,de!==null?t=0:(ve=null,we=0,t=pe)}if(t!==0){if(t===2&&(s=So(e),s!==0&&(n=s,t=el(e,s))),t===1)throw r=Hn,or(e,0),Ft(e,n),Ue(e,ie()),r;if(t===6)Ft(e,n);else{if(s=e.current.alternate,!(n&30)&&!wh(s)&&(t=na(e,n),t===2&&(a=So(e),a!==0&&(n=a,t=el(e,a))),t===1))throw r=Hn,or(e,0),Ft(e,n),Ue(e,ie()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(F(345));case 2:tr(e,Fe,xt);break;case 3:if(Ft(e,n),(n&130023424)===n&&(t=Yl+500-ie(),10<t)){if(Us(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){_e(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Fo(tr.bind(null,e,Fe,xt),t);break}tr(e,Fe,xt);break;case 4:if(Ft(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var l=31-lt(n);a=1<<l,l=t[l],l>s&&(s=l),n&=~a}if(n=s,n=ie()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*yh(n/1960))-n,10<n){e.timeoutHandle=Fo(tr.bind(null,e,Fe,xt),n);break}tr(e,Fe,xt);break;case 5:tr(e,Fe,xt);break;default:throw Error(F(329))}}}return Ue(e,ie()),e.callbackNode===r?sf.bind(null,e):null}function el(e,t){var r=En;return e.current.memoizedState.isDehydrated&&(or(e,t).flags|=256),e=na(e,t),e!==2&&(t=Fe,Fe=r,t!==null&&tl(t)),e}function tl(e){Fe===null?Fe=e:Fe.push.apply(Fe,e)}function wh(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!ut(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ft(e,t){for(t&=~Jl,t&=~va,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-lt(t),n=1<<r;e[r]=-1,t&=~n}}function Pu(e){if(K&6)throw Error(F(327));Ir();var t=Us(e,0);if(!(t&1))return Ue(e,ie()),null;var r=na(e,t);if(e.tag!==0&&r===2){var n=So(e);n!==0&&(t=n,r=el(e,n))}if(r===1)throw r=Hn,or(e,0),Ft(e,t),Ue(e,ie()),r;if(r===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,tr(e,Fe,xt),Ue(e,ie()),null}function Xl(e,t){var r=K;K|=1;try{return e(t)}finally{K=r,K===0&&(Kr=ie()+500,pa&&Xt())}}function pr(e){zt!==null&&zt.tag===0&&!(K&6)&&Ir();var t=K;K|=1;var r=Ze.transition,n=J;try{if(Ze.transition=null,J=1,e)return e()}finally{J=n,Ze.transition=r,K=t,!(K&6)&&Xt()}}function Zl(){Be=Fr.current,re(Fr)}function or(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Jp(r)),de!==null)for(r=de.return;r!==null;){var n=r;switch(Ol(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ws();break;case 3:qr(),re(De),re(Se),Bl();break;case 5:Il(n);break;case 4:qr();break;case 13:re(se);break;case 19:re(se);break;case 10:Dl(n.type._context);break;case 22:case 23:Zl()}r=r.return}if(ve=e,de=e=qt(e.current,null),we=Be=t,pe=0,Hn=null,Jl=va=mr=0,Fe=En=null,nr!==null){for(t=0;t<nr.length;t++)if(r=nr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var l=a.next;a.next=s,n.next=l}r.pending=n}nr=null}return e}function af(e,t){do{var r=de;try{if(zl(),Ss.current=Zs,Xs){for(var n=ae.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Xs=!1}if(fr=0,xe=me=ae=null,Cn=!1,Bn=0,Gl.current=null,r===null||r.return===null){pe=1,Hn=t,de=null;break}e:{var a=e,l=r.return,i=r,u=t;if(t=we,i.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=i,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var b=hu(l);if(b!==null){b.flags&=-257,gu(b,l,i,a,t),b.mode&1&&pu(a,c,t),t=b,u=c;var v=t.updateQueue;if(v===null){var x=new Set;x.add(u),t.updateQueue=x}else v.add(u);break e}else{if(!(t&1)){pu(a,c,t),ei();break e}u=Error(F(426))}}else if(ne&&i.mode&1){var w=hu(l);if(w!==null){!(w.flags&65536)&&(w.flags|=256),gu(w,l,i,a,t),Fl(Qr(u,i));break e}}a=u=Qr(u,i),pe!==4&&(pe=2),En===null?En=[a]:En.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var p=Bd(a,u,t);iu(a,p);break e;case 1:i=u;var m=a.type,g=a.stateNode;if(!(a.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Wt===null||!Wt.has(g)))){a.flags|=65536,t&=-t,a.lanes|=t;var k=Vd(a,i,t);iu(a,k);break e}}a=a.return}while(a!==null)}uf(r)}catch(L){t=L,de===r&&r!==null&&(de=r=r.return);continue}break}while(!0)}function of(){var e=ea.current;return ea.current=Zs,e===null?Zs:e}function ei(){(pe===0||pe===3||pe===2)&&(pe=4),ve===null||!(mr&268435455)&&!(va&268435455)||Ft(ve,we)}function na(e,t){var r=K;K|=2;var n=of();(ve!==e||we!==t)&&(xt=null,or(e,t));do try{bh();break}catch(s){af(e,s)}while(!0);if(zl(),K=r,ea.current=n,de!==null)throw Error(F(261));return ve=null,we=0,pe}function bh(){for(;de!==null;)lf(de)}function jh(){for(;de!==null&&!Qm();)lf(de)}function lf(e){var t=df(e.alternate,e,Be);e.memoizedProps=e.pendingProps,t===null?uf(e):de=t,Gl.current=null}function uf(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=hh(r,t),r!==null){r.flags&=32767,de=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pe=6,de=null;return}}else if(r=ph(r,t,Be),r!==null){de=r;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);pe===0&&(pe=5)}function tr(e,t,r){var n=J,s=Ze.transition;try{Ze.transition=null,J=1,Nh(e,t,r,n)}finally{Ze.transition=s,J=n}return null}function Nh(e,t,r,n){do Ir();while(zt!==null);if(K&6)throw Error(F(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(np(e,a),e===ve&&(de=ve=null,we=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||vs||(vs=!0,ff(Ms,function(){return Ir(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Ze.transition,Ze.transition=null;var l=J;J=1;var i=K;K|=4,Gl.current=null,xh(e,r),rf(r,e),Vp(To),$s=!!Lo,To=Lo=null,e.current=r,vh(r),Km(),K=i,J=l,Ze.transition=a}else e.current=r;if(vs&&(vs=!1,zt=e,ra=s),a=e.pendingLanes,a===0&&(Wt=null),Ym(r.stateNode),Ue(e,ie()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ta)throw ta=!1,e=Xo,Xo=null,e;return ra&1&&e.tag!==0&&Ir(),a=e.pendingLanes,a&1?e===Zo?Pn++:(Pn=0,Zo=e):Pn=0,Xt(),null}function Ir(){if(zt!==null){var e=Bc(ra),t=Ze.transition,r=J;try{if(Ze.transition=null,J=16>e?16:e,zt===null)var n=!1;else{if(e=zt,zt=null,ra=0,K&6)throw Error(F(331));var s=K;for(K|=4,D=e.current;D!==null;){var a=D,l=a.child;if(D.flags&16){var i=a.deletions;if(i!==null){for(var u=0;u<i.length;u++){var c=i[u];for(D=c;D!==null;){var f=D;switch(f.tag){case 0:case 11:case 15:Sn(8,f,a)}var d=f.child;if(d!==null)d.return=f,D=d;else for(;D!==null;){f=D;var h=f.sibling,b=f.return;if(Zd(f),f===c){D=null;break}if(h!==null){h.return=b,D=h;break}D=b}}}var v=a.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}D=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,D=l;else e:for(;D!==null;){if(a=D,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Sn(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,D=p;break e}D=a.return}}var m=e.current;for(D=m;D!==null;){l=D;var g=l.child;if(l.subtreeFlags&2064&&g!==null)g.return=l,D=g;else e:for(l=m;D!==null;){if(i=D,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:xa(9,i)}}catch(L){le(i,i.return,L)}if(i===l){D=null;break e}var k=i.sibling;if(k!==null){k.return=i.return,D=k;break e}D=i.return}}if(K=s,Xt(),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(ua,e)}catch{}n=!0}return n}finally{J=r,Ze.transition=t}}return!1}function Ru(e,t,r){t=Qr(r,t),t=Bd(e,t,1),e=Vt(e,t,1),t=_e(),e!==null&&(Jn(e,1,t),Ue(e,t))}function le(e,t,r){if(e.tag===3)Ru(e,e,r);else for(;t!==null;){if(t.tag===3){Ru(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Wt===null||!Wt.has(n))){e=Qr(r,e),e=Vd(t,e,1),t=Vt(t,e,1),e=_e(),t!==null&&(Jn(t,1,e),Ue(t,e));break}}t=t.return}}function kh(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=_e(),e.pingedLanes|=e.suspendedLanes&r,ve===e&&(we&r)===r&&(pe===4||pe===3&&(we&130023424)===we&&500>ie()-Yl?or(e,0):Jl|=r),Ue(e,t)}function cf(e,t){t===0&&(e.mode&1?(t=is,is<<=1,!(is&130023424)&&(is=4194304)):t=1);var r=_e();e=St(e,t),e!==null&&(Jn(e,t,r),Ue(e,r))}function Ch(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),cf(e,r)}function Sh(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(F(314))}n!==null&&n.delete(t),cf(e,r)}var df;df=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||De.current)ze=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ze=!1,mh(e,t,r);ze=!!(e.flags&131072)}else ze=!1,ne&&t.flags&1048576&&pd(t,Qs,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ps(e,t),e=t.pendingProps;var s=Vr(t,Se.current);$r(t,r),s=Wl(null,t,n,e,s,r);var a=Hl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Me(n)?(a=!0,Hs(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ul(t),s.updater=ga,t.stateNode=s,s._reactInternals=t,Io(t,n,e,r),t=Wo(null,t,n,!0,a,r)):(t.tag=0,ne&&a&&Tl(t),Re(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ps(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Ph(n),e=st(n,e),s){case 0:t=Vo(null,t,n,e,r);break e;case 1:t=yu(null,t,n,e,r);break e;case 11:t=xu(null,t,n,e,r);break e;case 14:t=vu(null,t,n,st(n.type,e),r);break e}throw Error(F(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:st(n,s),Vo(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:st(n,s),yu(e,t,n,s,r);case 3:e:{if(Qd(t),e===null)throw Error(F(387));n=t.pendingProps,a=t.memoizedState,s=a.element,wd(e,t),Js(t,n,null,r);var l=t.memoizedState;if(n=l.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Qr(Error(F(423)),t),t=wu(e,t,n,r,s);break e}else if(n!==s){s=Qr(Error(F(424)),t),t=wu(e,t,n,r,s);break e}else for(Ve=Bt(t.stateNode.containerInfo.firstChild),We=t,ne=!0,ot=null,r=vd(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Wr(),n===s){t=Et(e,t,r);break e}Re(e,t,n,r)}t=t.child}return t;case 5:return bd(t),e===null&&Mo(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,l=s.children,Oo(n,s)?l=null:a!==null&&Oo(n,a)&&(t.flags|=32),qd(e,t),Re(e,t,l,r),t.child;case 6:return e===null&&Mo(t),null;case 13:return Kd(e,t,r);case 4:return $l(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Hr(t,null,n,r):Re(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:st(n,s),xu(e,t,n,s,r);case 7:return Re(e,t,t.pendingProps,r),t.child;case 8:return Re(e,t,t.pendingProps.children,r),t.child;case 12:return Re(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,l=s.value,X(Ks,n._currentValue),n._currentValue=l,a!==null)if(ut(a.value,l)){if(a.children===s.children&&!De.current){t=Et(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var i=a.dependencies;if(i!==null){l=a.child;for(var u=i.firstContext;u!==null;){if(u.context===n){if(a.tag===1){u=jt(-1,r&-r),u.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}a.lanes|=r,u=a.alternate,u!==null&&(u.lanes|=r),Uo(a.return,r,t),i.lanes|=r;break}u=u.next}}else if(a.tag===10)l=a.type===t.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(F(341));l.lanes|=r,i=l.alternate,i!==null&&(i.lanes|=r),Uo(l,r,t),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===t){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}Re(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,$r(t,r),s=et(s),n=n(s),t.flags|=1,Re(e,t,n,r),t.child;case 14:return n=t.type,s=st(n,t.pendingProps),s=st(n.type,s),vu(e,t,n,s,r);case 15:return Wd(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:st(n,s),Ps(e,t),t.tag=1,Me(n)?(e=!0,Hs(t)):e=!1,$r(t,r),Id(t,n,s),Io(t,n,s,r),Wo(null,t,n,!0,e,r);case 19:return Gd(e,t,r);case 22:return Hd(e,t,r)}throw Error(F(156,t.tag))};function ff(e,t){return Mc(e,t)}function Eh(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ye(e,t,r,n){return new Eh(e,t,r,n)}function ti(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ph(e){if(typeof e=="function")return ti(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wl)return 11;if(e===bl)return 14}return 2}function qt(e,t){var r=e.alternate;return r===null?(r=Ye(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ls(e,t,r,n,s,a){var l=2;if(n=e,typeof e=="function")ti(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case kr:return lr(r.children,s,a,t);case yl:l=8,s|=8;break;case co:return e=Ye(12,r,t,s|2),e.elementType=co,e.lanes=a,e;case fo:return e=Ye(13,r,t,s),e.elementType=fo,e.lanes=a,e;case mo:return e=Ye(19,r,t,s),e.elementType=mo,e.lanes=a,e;case bc:return ya(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yc:l=10;break e;case wc:l=9;break e;case wl:l=11;break e;case bl:l=14;break e;case Lt:l=16,n=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=Ye(l,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function lr(e,t,r,n){return e=Ye(7,e,n,t),e.lanes=r,e}function ya(e,t,r,n){return e=Ye(22,e,n,t),e.elementType=bc,e.lanes=r,e.stateNode={isHidden:!1},e}function no(e,t,r){return e=Ye(6,e,null,t),e.lanes=r,e}function so(e,t,r){return t=Ye(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Rh(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ma(0),this.expirationTimes=Ma(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ma(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ri(e,t,r,n,s,a,l,i,u){return e=new Rh(e,t,r,i,u),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ye(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ul(a),e}function _h(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function mf(e){if(!e)return Gt;e=e._reactInternals;e:{if(vr(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Me(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var r=e.type;if(Me(r))return fd(e,r,t)}return t}function pf(e,t,r,n,s,a,l,i,u){return e=ri(r,n,!0,e,s,a,l,i,u),e.context=mf(null),r=e.current,n=_e(),s=Ht(r),a=jt(n,s),a.callback=t??null,Vt(r,a,s),e.current.lanes=s,Jn(e,s,n),Ue(e,n),e}function wa(e,t,r,n){var s=t.current,a=_e(),l=Ht(s);return r=mf(r),t.context===null?t.context=r:t.pendingContext=r,t=jt(a,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Vt(s,t,l),e!==null&&(it(e,s,l,a),Cs(e,s,l)),l}function sa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _u(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ni(e,t){_u(e,t),(e=e.alternate)&&_u(e,t)}function Lh(){return null}var hf=typeof reportError=="function"?reportError:function(e){console.error(e)};function si(e){this._internalRoot=e}ba.prototype.render=si.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));wa(e,t,null,null)};ba.prototype.unmount=si.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pr(function(){wa(null,e,null,null)}),t[Ct]=null}};function ba(e){this._internalRoot=e}ba.prototype.unstable_scheduleHydration=function(e){if(e){var t=Hc();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ot.length&&t!==0&&t<Ot[r].priority;r++);Ot.splice(r,0,e),r===0&&Qc(e)}};function ai(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ja(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Lu(){}function Th(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var c=sa(l);a.call(c)}}var l=pf(t,n,e,0,null,!1,!1,"",Lu);return e._reactRootContainer=l,e[Ct]=l.current,Dn(e.nodeType===8?e.parentNode:e),pr(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var i=n;n=function(){var c=sa(u);i.call(c)}}var u=ri(e,0,!1,null,null,!1,!1,"",Lu);return e._reactRootContainer=u,e[Ct]=u.current,Dn(e.nodeType===8?e.parentNode:e),pr(function(){wa(t,u,r,n)}),u}function Na(e,t,r,n,s){var a=r._reactRootContainer;if(a){var l=a;if(typeof s=="function"){var i=s;s=function(){var u=sa(l);i.call(u)}}wa(t,l,e,s)}else l=Th(r,t,e,s,n);return sa(l)}Vc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=gn(t.pendingLanes);r!==0&&(kl(t,r|1),Ue(t,ie()),!(K&6)&&(Kr=ie()+500,Xt()))}break;case 13:pr(function(){var n=St(e,1);if(n!==null){var s=_e();it(n,e,1,s)}}),ni(e,1)}};Cl=function(e){if(e.tag===13){var t=St(e,134217728);if(t!==null){var r=_e();it(t,e,134217728,r)}ni(e,134217728)}};Wc=function(e){if(e.tag===13){var t=Ht(e),r=St(e,t);if(r!==null){var n=_e();it(r,e,t,n)}ni(e,t)}};Hc=function(){return J};qc=function(e,t){var r=J;try{return J=e,t()}finally{J=r}};No=function(e,t,r){switch(t){case"input":if(go(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=ma(n);if(!s)throw Error(F(90));Nc(n),go(n,s)}}}break;case"textarea":Cc(e,r);break;case"select":t=r.value,t!=null&&zr(e,!!r.multiple,t,!1)}};Tc=Xl;Oc=pr;var Oh={usingClientEntryPoint:!1,Events:[Xn,Pr,ma,_c,Lc,Xl]},fn={findFiberByHostInstance:rr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Fh={bundleType:fn.bundleType,version:fn.version,rendererPackageName:fn.rendererPackageName,rendererConfig:fn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=zc(e),e===null?null:e.stateNode},findFiberByHostInstance:fn.findFiberByHostInstance||Lh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ys=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ys.isDisabled&&ys.supportsFiber)try{ua=ys.inject(Fh),ht=ys}catch{}}qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Oh;qe.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ai(t))throw Error(F(200));return _h(e,t,null,r)};qe.createRoot=function(e,t){if(!ai(e))throw Error(F(299));var r=!1,n="",s=hf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ri(e,1,!1,null,null,r,!1,n,s),e[Ct]=t.current,Dn(e.nodeType===8?e.parentNode:e),new si(t)};qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=zc(t),e=e===null?null:e.stateNode,e};qe.flushSync=function(e){return pr(e)};qe.hydrate=function(e,t,r){if(!ja(t))throw Error(F(200));return Na(null,e,t,!0,r)};qe.hydrateRoot=function(e,t,r){if(!ai(e))throw Error(F(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",l=hf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=pf(t,null,e,1,r??null,s,!1,a,l),e[Ct]=t.current,Dn(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new ba(t)};qe.render=function(e,t,r){if(!ja(t))throw Error(F(200));return Na(null,e,t,!1,r)};qe.unmountComponentAtNode=function(e){if(!ja(e))throw Error(F(40));return e._reactRootContainer?(pr(function(){Na(null,null,e,!1,function(){e._reactRootContainer=null,e[Ct]=null})}),!0):!1};qe.unstable_batchedUpdates=Xl;qe.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ja(r))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return Na(e,t,r,!1,n)};qe.version="18.3.1-next-f1338f8080-20240426";function gf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gf)}catch(e){console.error(e)}}gf(),hc.exports=qe;var Ah=hc.exports,xf,Tu=Ah;xf=Tu.createRoot,Tu.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qn(){return qn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qn.apply(this,arguments)}var Dt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Dt||(Dt={}));const Ou="popstate";function zh(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:l,hash:i}=n.location;return rl("",{pathname:a,search:l,hash:i},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:aa(s)}return Mh(t,r,null,e)}function ue(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vf(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Dh(){return Math.random().toString(36).substr(2,8)}function Fu(e,t){return{usr:e.state,key:e.key,idx:t}}function rl(e,t,r,n){return r===void 0&&(r=null),qn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Xr(t):t,{state:r,key:t&&t.key||n||Dh()})}function aa(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Xr(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Mh(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,l=s.history,i=Dt.Pop,u=null,c=f();c==null&&(c=0,l.replaceState(qn({},l.state,{idx:c}),""));function f(){return(l.state||{idx:null}).idx}function d(){i=Dt.Pop;let w=f(),p=w==null?null:w-c;c=w,u&&u({action:i,location:x.location,delta:p})}function h(w,p){i=Dt.Push;let m=rl(x.location,w,p);c=f()+1;let g=Fu(m,c),k=x.createHref(m);try{l.pushState(g,"",k)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;s.location.assign(k)}a&&u&&u({action:i,location:x.location,delta:1})}function b(w,p){i=Dt.Replace;let m=rl(x.location,w,p);c=f();let g=Fu(m,c),k=x.createHref(m);l.replaceState(g,"",k),a&&u&&u({action:i,location:x.location,delta:0})}function v(w){let p=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof w=="string"?w:aa(w);return m=m.replace(/ $/,"%20"),ue(p,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,p)}let x={get action(){return i},get location(){return e(s,l)},listen(w){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Ou,d),u=w,()=>{s.removeEventListener(Ou,d),u=null}},createHref(w){return t(s,w)},createURL:v,encodeLocation(w){let p=v(w);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:b,go(w){return l.go(w)}};return x}var Au;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Au||(Au={}));function Uh(e,t,r){return r===void 0&&(r="/"),$h(e,t,r)}function $h(e,t,r,n){let s=typeof t=="string"?Xr(t):t,a=oi(s.pathname||"/",r);if(a==null)return null;let l=yf(e);Ih(l);let i=null;for(let u=0;i==null&&u<l.length;++u){let c=Zh(a);i=Jh(l[u],c)}return i}function yf(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,l,i)=>{let u={relativePath:i===void 0?a.path||"":i,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};u.relativePath.startsWith("/")&&(ue(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let c=Qt([n,u.relativePath]),f=r.concat(u);a.children&&a.children.length>0&&(ue(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),yf(a.children,t,f,c)),!(a.path==null&&!a.index)&&t.push({path:c,score:Kh(c,a.index),routesMeta:f})};return e.forEach((a,l)=>{var i;if(a.path===""||!((i=a.path)!=null&&i.includes("?")))s(a,l);else for(let u of wf(a.path))s(a,l,u)}),t}function wf(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let l=wf(n.join("/")),i=[];return i.push(...l.map(u=>u===""?a:[a,u].join("/"))),s&&i.push(...l),i.map(u=>e.startsWith("/")&&u===""?"/":u)}function Ih(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Gh(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Bh=/^:[\w-]+$/,Vh=3,Wh=2,Hh=1,qh=10,Qh=-2,zu=e=>e==="*";function Kh(e,t){let r=e.split("/"),n=r.length;return r.some(zu)&&(n+=Qh),t&&(n+=Wh),r.filter(s=>!zu(s)).reduce((s,a)=>s+(Bh.test(a)?Vh:a===""?Hh:qh),n)}function Gh(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Jh(e,t,r){let{routesMeta:n}=e,s={},a="/",l=[];for(let i=0;i<n.length;++i){let u=n[i],c=i===n.length-1,f=a==="/"?t:t.slice(a.length)||"/",d=Yh({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),h=u.route;if(!d)return null;Object.assign(s,d.params),l.push({params:s,pathname:Qt([a,d.pathname]),pathnameBase:n0(Qt([a,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(a=Qt([a,d.pathnameBase]))}return l}function Yh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Xh(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),i=s.slice(1);return{params:n.reduce((c,f,d)=>{let{paramName:h,isOptional:b}=f;if(h==="*"){let x=i[d]||"";l=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const v=i[d];return b&&!v?c[h]=void 0:c[h]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:l,pattern:e}}function Xh(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),vf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,i,u)=>(n.push({paramName:i,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Zh(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return vf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function oi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function e0(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Xr(e):e;return{pathname:r?r.startsWith("/")?r:t0(r,t):t,search:s0(n),hash:a0(s)}}function t0(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function ao(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function r0(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function li(e,t){let r=r0(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function ii(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Xr(e):(s=qn({},e),ue(!s.pathname||!s.pathname.includes("?"),ao("?","pathname","search",s)),ue(!s.pathname||!s.pathname.includes("#"),ao("#","pathname","hash",s)),ue(!s.search||!s.search.includes("#"),ao("#","search","hash",s)));let a=e===""||s.pathname==="",l=a?"/":s.pathname,i;if(l==null)i=r;else{let d=t.length-1;if(!n&&l.startsWith("..")){let h=l.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}i=d>=0?t[d]:"/"}let u=e0(s,i),c=l&&l!=="/"&&l.endsWith("/"),f=(a||l===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}const Qt=e=>e.join("/").replace(/\/\/+/g,"/"),n0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),s0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,a0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function o0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const bf=["post","put","patch","delete"];new Set(bf);const l0=["get",...bf];new Set(l0);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qn(){return Qn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qn.apply(this,arguments)}const ui=y.createContext(null),i0=y.createContext(null),Zt=y.createContext(null),ka=y.createContext(null),Rt=y.createContext({outlet:null,matches:[],isDataRoute:!1}),jf=y.createContext(null);function u0(e,t){let{relative:r}=t===void 0?{}:t;Zr()||ue(!1);let{basename:n,navigator:s}=y.useContext(Zt),{hash:a,pathname:l,search:i}=kf(e,{relative:r}),u=l;return n!=="/"&&(u=l==="/"?n:Qt([n,l])),s.createHref({pathname:u,search:i,hash:a})}function Zr(){return y.useContext(ka)!=null}function yr(){return Zr()||ue(!1),y.useContext(ka).location}function Nf(e){y.useContext(Zt).static||y.useLayoutEffect(e)}function ci(){let{isDataRoute:e}=y.useContext(Rt);return e?N0():c0()}function c0(){Zr()||ue(!1);let e=y.useContext(ui),{basename:t,future:r,navigator:n}=y.useContext(Zt),{matches:s}=y.useContext(Rt),{pathname:a}=yr(),l=JSON.stringify(li(s,r.v7_relativeSplatPath)),i=y.useRef(!1);return Nf(()=>{i.current=!0}),y.useCallback(function(c,f){if(f===void 0&&(f={}),!i.current)return;if(typeof c=="number"){n.go(c);return}let d=ii(c,JSON.parse(l),a,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Qt([t,d.pathname])),(f.replace?n.replace:n.push)(d,f.state,f)},[t,n,l,a,e])}function d0(){let{matches:e}=y.useContext(Rt),t=e[e.length-1];return t?t.params:{}}function kf(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=y.useContext(Zt),{matches:s}=y.useContext(Rt),{pathname:a}=yr(),l=JSON.stringify(li(s,n.v7_relativeSplatPath));return y.useMemo(()=>ii(e,JSON.parse(l),a,r==="path"),[e,l,a,r])}function f0(e,t){return m0(e,t)}function m0(e,t,r,n){Zr()||ue(!1);let{navigator:s}=y.useContext(Zt),{matches:a}=y.useContext(Rt),l=a[a.length-1],i=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let c=yr(),f;if(t){var d;let w=typeof t=="string"?Xr(t):t;u==="/"||(d=w.pathname)!=null&&d.startsWith(u)||ue(!1),f=w}else f=c;let h=f.pathname||"/",b=h;if(u!=="/"){let w=u.replace(/^\//,"").split("/");b="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=Uh(e,{pathname:b}),x=v0(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},i,w.params),pathname:Qt([u,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:Qt([u,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,r,n);return t&&x?y.createElement(ka.Provider,{value:{location:Qn({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Dt.Pop}},x):x}function p0(){let e=j0(),t=o0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:s},r):null,null)}const h0=y.createElement(p0,null);class g0 extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?y.createElement(Rt.Provider,{value:this.props.routeContext},y.createElement(jf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function x0(e){let{routeContext:t,match:r,children:n}=e,s=y.useContext(ui);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),y.createElement(Rt.Provider,{value:t},n)}function v0(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,i=(s=r)==null?void 0:s.errors;if(i!=null){let f=l.findIndex(d=>d.route.id&&(i==null?void 0:i[d.route.id])!==void 0);f>=0||ue(!1),l=l.slice(0,Math.min(l.length,f+1))}let u=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<l.length;f++){let d=l[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=f),d.route.id){let{loaderData:h,errors:b}=r,v=d.route.loader&&h[d.route.id]===void 0&&(!b||b[d.route.id]===void 0);if(d.route.lazy||v){u=!0,c>=0?l=l.slice(0,c+1):l=[l[0]];break}}}return l.reduceRight((f,d,h)=>{let b,v=!1,x=null,w=null;r&&(b=i&&d.route.id?i[d.route.id]:void 0,x=d.route.errorElement||h0,u&&(c<0&&h===0?(k0("route-fallback"),v=!0,w=null):c===h&&(v=!0,w=d.route.hydrateFallbackElement||null)));let p=t.concat(l.slice(0,h+1)),m=()=>{let g;return b?g=x:v?g=w:d.route.Component?g=y.createElement(d.route.Component,null):d.route.element?g=d.route.element:g=f,y.createElement(x0,{match:d,routeContext:{outlet:f,matches:p,isDataRoute:r!=null},children:g})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?y.createElement(g0,{location:r.location,revalidation:r.revalidation,component:x,error:b,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var Cf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Cf||{}),Sf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Sf||{});function y0(e){let t=y.useContext(ui);return t||ue(!1),t}function w0(e){let t=y.useContext(i0);return t||ue(!1),t}function b0(e){let t=y.useContext(Rt);return t||ue(!1),t}function Ef(e){let t=b0(),r=t.matches[t.matches.length-1];return r.route.id||ue(!1),r.route.id}function j0(){var e;let t=y.useContext(jf),r=w0(),n=Ef();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function N0(){let{router:e}=y0(Cf.UseNavigateStable),t=Ef(Sf.UseNavigateStable),r=y.useRef(!1);return Nf(()=>{r.current=!0}),y.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Qn({fromRouteId:t},a)))},[e,t])}const Du={};function k0(e,t,r){Du[e]||(Du[e]=!0)}function C0(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function vn(e){let{to:t,replace:r,state:n,relative:s}=e;Zr()||ue(!1);let{future:a,static:l}=y.useContext(Zt),{matches:i}=y.useContext(Rt),{pathname:u}=yr(),c=ci(),f=ii(t,li(i,a.v7_relativeSplatPath),u,s==="path"),d=JSON.stringify(f);return y.useEffect(()=>c(JSON.parse(d),{replace:r,state:n,relative:s}),[c,d,s,r,n]),null}function Pe(e){ue(!1)}function S0(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Dt.Pop,navigator:a,static:l=!1,future:i}=e;Zr()&&ue(!1);let u=t.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:u,navigator:a,static:l,future:Qn({v7_relativeSplatPath:!1},i)}),[u,i,a,l]);typeof n=="string"&&(n=Xr(n));let{pathname:f="/",search:d="",hash:h="",state:b=null,key:v="default"}=n,x=y.useMemo(()=>{let w=oi(f,u);return w==null?null:{location:{pathname:w,search:d,hash:h,state:b,key:v},navigationType:s}},[u,f,d,h,b,v,s]);return x==null?null:y.createElement(Zt.Provider,{value:c},y.createElement(ka.Provider,{children:r,value:x}))}function E0(e){let{children:t,location:r}=e;return f0(nl(t),r)}new Promise(()=>{});function nl(e,t){t===void 0&&(t=[]);let r=[];return y.Children.forEach(e,(n,s)=>{if(!y.isValidElement(n))return;let a=[...t,s];if(n.type===y.Fragment){r.push.apply(r,nl(n.props.children,a));return}n.type!==Pe&&ue(!1),!n.props.index||!n.props.children||ue(!1);let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=nl(n.props.children,a)),r.push(l)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sl(){return sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sl.apply(this,arguments)}function P0(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function R0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function _0(e,t){return e.button===0&&(!t||t==="_self")&&!R0(e)}function al(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function L0(e,t){let r=al(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(a=>{r.append(s,a)})}),r}const T0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],O0="6";try{window.__reactRouterVersion=O0}catch{}const F0="startTransition",Mu=km[F0];function A0(e){let{basename:t,children:r,future:n,window:s}=e,a=y.useRef();a.current==null&&(a.current=zh({window:s,v5Compat:!0}));let l=a.current,[i,u]=y.useState({action:l.action,location:l.location}),{v7_startTransition:c}=n||{},f=y.useCallback(d=>{c&&Mu?Mu(()=>u(d)):u(d)},[u,c]);return y.useLayoutEffect(()=>l.listen(f),[l,f]),y.useEffect(()=>C0(n),[n]),y.createElement(S0,{basename:t,children:r,location:i.location,navigationType:i.action,navigator:l,future:n})}const z0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",D0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mt=y.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:a,replace:l,state:i,target:u,to:c,preventScrollReset:f,viewTransition:d}=t,h=P0(t,T0),{basename:b}=y.useContext(Zt),v,x=!1;if(typeof c=="string"&&D0.test(c)&&(v=c,z0))try{let g=new URL(window.location.href),k=c.startsWith("//")?new URL(g.protocol+c):new URL(c),L=oi(k.pathname,b);k.origin===g.origin&&L!=null?c=L+k.search+k.hash:x=!0}catch{}let w=u0(c,{relative:s}),p=M0(c,{replace:l,state:i,target:u,preventScrollReset:f,relative:s,viewTransition:d});function m(g){n&&n(g),g.defaultPrevented||p(g)}return y.createElement("a",sl({},h,{href:v||w,onClick:x||a?n:m,ref:r,target:u}))});var Uu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Uu||(Uu={}));var $u;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})($u||($u={}));function M0(e,t){let{target:r,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:i}=t===void 0?{}:t,u=ci(),c=yr(),f=kf(e,{relative:l});return y.useCallback(d=>{if(_0(d,r)){d.preventDefault();let h=n!==void 0?n:aa(c)===aa(f);u(e,{replace:h,state:s,preventScrollReset:a,relative:l,viewTransition:i})}},[c,u,f,n,s,r,e,a,l,i])}function Pf(e){let t=y.useRef(al(e)),r=y.useRef(!1),n=yr(),s=y.useMemo(()=>L0(n.search,r.current?null:t.current),[n.search]),a=ci(),l=y.useCallback((i,u)=>{const c=al(typeof i=="function"?i(s):i);r.current=!0,a("?"+c,u)},[a,s]);return[s,l]}function Rf(e,t){return function(){return e.apply(t,arguments)}}const{toString:U0}=Object.prototype,{getPrototypeOf:di}=Object,{iterator:Ca,toStringTag:_f}=Symbol,Sa=(e=>t=>{const r=U0.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ct=e=>(e=e.toLowerCase(),t=>Sa(t)===e),Ea=e=>t=>typeof t===e,{isArray:en}=Array,Kn=Ea("undefined");function $0(e){return e!==null&&!Kn(e)&&e.constructor!==null&&!Kn(e.constructor)&&$e(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Lf=ct("ArrayBuffer");function I0(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Lf(e.buffer),t}const B0=Ea("string"),$e=Ea("function"),Tf=Ea("number"),Pa=e=>e!==null&&typeof e=="object",V0=e=>e===!0||e===!1,Ts=e=>{if(Sa(e)!=="object")return!1;const t=di(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(_f in e)&&!(Ca in e)},W0=ct("Date"),H0=ct("File"),q0=ct("Blob"),Q0=ct("FileList"),K0=e=>Pa(e)&&$e(e.pipe),G0=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||$e(e.append)&&((t=Sa(e))==="formdata"||t==="object"&&$e(e.toString)&&e.toString()==="[object FormData]"))},J0=ct("URLSearchParams"),[Y0,X0,Z0,eg]=["ReadableStream","Request","Response","Headers"].map(ct),tg=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function es(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),en(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{const a=r?Object.getOwnPropertyNames(e):Object.keys(e),l=a.length;let i;for(n=0;n<l;n++)i=a[n],t.call(null,e[i],i,e)}}function Of(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const ar=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ff=e=>!Kn(e)&&e!==ar;function ol(){const{caseless:e}=Ff(this)&&this||{},t={},r=(n,s)=>{const a=e&&Of(t,s)||s;Ts(t[a])&&Ts(n)?t[a]=ol(t[a],n):Ts(n)?t[a]=ol({},n):en(n)?t[a]=n.slice():t[a]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&es(arguments[n],r);return t}const rg=(e,t,r,{allOwnKeys:n}={})=>(es(t,(s,a)=>{r&&$e(s)?e[a]=Rf(s,r):e[a]=s},{allOwnKeys:n}),e),ng=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),sg=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},ag=(e,t,r,n)=>{let s,a,l;const i={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)l=s[a],(!n||n(l,e,t))&&!i[l]&&(t[l]=e[l],i[l]=!0);e=r!==!1&&di(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},og=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},lg=e=>{if(!e)return null;if(en(e))return e;let t=e.length;if(!Tf(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},ig=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&di(Uint8Array)),ug=(e,t)=>{const n=(e&&e[Ca]).call(e);let s;for(;(s=n.next())&&!s.done;){const a=s.value;t.call(e,a[0],a[1])}},cg=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},dg=ct("HTMLFormElement"),fg=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),Iu=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),mg=ct("RegExp"),Af=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};es(r,(s,a)=>{let l;(l=t(s,a,e))!==!1&&(n[a]=l||s)}),Object.defineProperties(e,n)},pg=e=>{Af(e,(t,r)=>{if($e(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if($e(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},hg=(e,t)=>{const r={},n=s=>{s.forEach(a=>{r[a]=!0})};return en(e)?n(e):n(String(e).split(t)),r},gg=()=>{},xg=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function vg(e){return!!(e&&$e(e.append)&&e[_f]==="FormData"&&e[Ca])}const yg=e=>{const t=new Array(10),r=(n,s)=>{if(Pa(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[s]=n;const a=en(n)?[]:{};return es(n,(l,i)=>{const u=r(l,s+1);!Kn(u)&&(a[i]=u)}),t[s]=void 0,a}}return n};return r(e,0)},wg=ct("AsyncFunction"),bg=e=>e&&(Pa(e)||$e(e))&&$e(e.then)&&$e(e.catch),zf=((e,t)=>e?setImmediate:t?((r,n)=>(ar.addEventListener("message",({source:s,data:a})=>{s===ar&&a===r&&n.length&&n.shift()()},!1),s=>{n.push(s),ar.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",$e(ar.postMessage)),jg=typeof queueMicrotask<"u"?queueMicrotask.bind(ar):typeof process<"u"&&process.nextTick||zf,Ng=e=>e!=null&&$e(e[Ca]),C={isArray:en,isArrayBuffer:Lf,isBuffer:$0,isFormData:G0,isArrayBufferView:I0,isString:B0,isNumber:Tf,isBoolean:V0,isObject:Pa,isPlainObject:Ts,isReadableStream:Y0,isRequest:X0,isResponse:Z0,isHeaders:eg,isUndefined:Kn,isDate:W0,isFile:H0,isBlob:q0,isRegExp:mg,isFunction:$e,isStream:K0,isURLSearchParams:J0,isTypedArray:ig,isFileList:Q0,forEach:es,merge:ol,extend:rg,trim:tg,stripBOM:ng,inherits:sg,toFlatObject:ag,kindOf:Sa,kindOfTest:ct,endsWith:og,toArray:lg,forEachEntry:ug,matchAll:cg,isHTMLForm:dg,hasOwnProperty:Iu,hasOwnProp:Iu,reduceDescriptors:Af,freezeMethods:pg,toObjectSet:hg,toCamelCase:fg,noop:gg,toFiniteNumber:xg,findKey:Of,global:ar,isContextDefined:Ff,isSpecCompliantForm:vg,toJSONObject:yg,isAsyncFn:wg,isThenable:bg,setImmediate:zf,asap:jg,isIterable:Ng};function V(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}C.inherits(V,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:C.toJSONObject(this.config),code:this.code,status:this.status}}});const Df=V.prototype,Mf={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Mf[e]={value:e}});Object.defineProperties(V,Mf);Object.defineProperty(Df,"isAxiosError",{value:!0});V.from=(e,t,r,n,s,a)=>{const l=Object.create(Df);return C.toFlatObject(e,l,function(u){return u!==Error.prototype},i=>i!=="isAxiosError"),V.call(l,e.message,t,r,n,s),l.cause=e,l.name=e.name,a&&Object.assign(l,a),l};const kg=null;function ll(e){return C.isPlainObject(e)||C.isArray(e)}function Uf(e){return C.endsWith(e,"[]")?e.slice(0,-2):e}function Bu(e,t,r){return e?e.concat(t).map(function(s,a){return s=Uf(s),!r&&a?"["+s+"]":s}).join(r?".":""):t}function Cg(e){return C.isArray(e)&&!e.some(ll)}const Sg=C.toFlatObject(C,{},null,function(t){return/^is[A-Z]/.test(t)});function Ra(e,t,r){if(!C.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=C.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,w){return!C.isUndefined(w[x])});const n=r.metaTokens,s=r.visitor||f,a=r.dots,l=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&C.isSpecCompliantForm(t);if(!C.isFunction(s))throw new TypeError("visitor must be a function");function c(v){if(v===null)return"";if(C.isDate(v))return v.toISOString();if(C.isBoolean(v))return v.toString();if(!u&&C.isBlob(v))throw new V("Blob is not supported. Use a Buffer instead.");return C.isArrayBuffer(v)||C.isTypedArray(v)?u&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function f(v,x,w){let p=v;if(v&&!w&&typeof v=="object"){if(C.endsWith(x,"{}"))x=n?x:x.slice(0,-2),v=JSON.stringify(v);else if(C.isArray(v)&&Cg(v)||(C.isFileList(v)||C.endsWith(x,"[]"))&&(p=C.toArray(v)))return x=Uf(x),p.forEach(function(g,k){!(C.isUndefined(g)||g===null)&&t.append(l===!0?Bu([x],k,a):l===null?x:x+"[]",c(g))}),!1}return ll(v)?!0:(t.append(Bu(w,x,a),c(v)),!1)}const d=[],h=Object.assign(Sg,{defaultVisitor:f,convertValue:c,isVisitable:ll});function b(v,x){if(!C.isUndefined(v)){if(d.indexOf(v)!==-1)throw Error("Circular reference detected in "+x.join("."));d.push(v),C.forEach(v,function(p,m){(!(C.isUndefined(p)||p===null)&&s.call(t,p,C.isString(m)?m.trim():m,x,h))===!0&&b(p,x?x.concat(m):[m])}),d.pop()}}if(!C.isObject(e))throw new TypeError("data must be an object");return b(e),t}function Vu(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function fi(e,t){this._pairs=[],e&&Ra(e,this,t)}const $f=fi.prototype;$f.append=function(t,r){this._pairs.push([t,r])};$f.toString=function(t){const r=t?function(n){return t.call(this,n,Vu)}:Vu;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function Eg(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function If(e,t,r){if(!t)return e;const n=r&&r.encode||Eg;C.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let a;if(s?a=s(t,r):a=C.isURLSearchParams(t)?t.toString():new fi(t,r).toString(n),a){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class Wu{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){C.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Bf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Pg=typeof URLSearchParams<"u"?URLSearchParams:fi,Rg=typeof FormData<"u"?FormData:null,_g=typeof Blob<"u"?Blob:null,Lg={isBrowser:!0,classes:{URLSearchParams:Pg,FormData:Rg,Blob:_g},protocols:["http","https","file","blob","url","data"]},mi=typeof window<"u"&&typeof document<"u",il=typeof navigator=="object"&&navigator||void 0,Tg=mi&&(!il||["ReactNative","NativeScript","NS"].indexOf(il.product)<0),Og=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Fg=mi&&window.location.href||"http://localhost",Ag=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mi,hasStandardBrowserEnv:Tg,hasStandardBrowserWebWorkerEnv:Og,navigator:il,origin:Fg},Symbol.toStringTag,{value:"Module"})),Ce={...Ag,...Lg};function zg(e,t){return Ra(e,new Ce.classes.URLSearchParams,Object.assign({visitor:function(r,n,s,a){return Ce.isNode&&C.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function Dg(e){return C.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Mg(e){const t={},r=Object.keys(e);let n;const s=r.length;let a;for(n=0;n<s;n++)a=r[n],t[a]=e[a];return t}function Vf(e){function t(r,n,s,a){let l=r[a++];if(l==="__proto__")return!0;const i=Number.isFinite(+l),u=a>=r.length;return l=!l&&C.isArray(s)?s.length:l,u?(C.hasOwnProp(s,l)?s[l]=[s[l],n]:s[l]=n,!i):((!s[l]||!C.isObject(s[l]))&&(s[l]=[]),t(r,n,s[l],a)&&C.isArray(s[l])&&(s[l]=Mg(s[l])),!i)}if(C.isFormData(e)&&C.isFunction(e.entries)){const r={};return C.forEachEntry(e,(n,s)=>{t(Dg(n),s,r,0)}),r}return null}function Ug(e,t,r){if(C.isString(e))try{return(t||JSON.parse)(e),C.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const ts={transitional:Bf,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,a=C.isObject(t);if(a&&C.isHTMLForm(t)&&(t=new FormData(t)),C.isFormData(t))return s?JSON.stringify(Vf(t)):t;if(C.isArrayBuffer(t)||C.isBuffer(t)||C.isStream(t)||C.isFile(t)||C.isBlob(t)||C.isReadableStream(t))return t;if(C.isArrayBufferView(t))return t.buffer;if(C.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let i;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return zg(t,this.formSerializer).toString();if((i=C.isFileList(t))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Ra(i?{"files[]":t}:t,u&&new u,this.formSerializer)}}return a||s?(r.setContentType("application/json",!1),Ug(t)):t}],transformResponse:[function(t){const r=this.transitional||ts.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(C.isResponse(t)||C.isReadableStream(t))return t;if(t&&C.isString(t)&&(n&&!this.responseType||s)){const l=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(i){if(l)throw i.name==="SyntaxError"?V.from(i,V.ERR_BAD_RESPONSE,this,null,this.response):i}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ce.classes.FormData,Blob:Ce.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};C.forEach(["delete","get","head","post","put","patch"],e=>{ts.headers[e]={}});const $g=C.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ig=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(l){s=l.indexOf(":"),r=l.substring(0,s).trim().toLowerCase(),n=l.substring(s+1).trim(),!(!r||t[r]&&$g[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Hu=Symbol("internals");function mn(e){return e&&String(e).trim().toLowerCase()}function Os(e){return e===!1||e==null?e:C.isArray(e)?e.map(Os):String(e)}function Bg(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Vg=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function oo(e,t,r,n,s){if(C.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!C.isString(t)){if(C.isString(n))return t.indexOf(n)!==-1;if(C.isRegExp(n))return n.test(t)}}function Wg(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Hg(e,t){const r=C.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,a,l){return this[n].call(this,t,s,a,l)},configurable:!0})})}let Ie=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function a(i,u,c){const f=mn(u);if(!f)throw new Error("header name must be a non-empty string");const d=C.findKey(s,f);(!d||s[d]===void 0||c===!0||c===void 0&&s[d]!==!1)&&(s[d||u]=Os(i))}const l=(i,u)=>C.forEach(i,(c,f)=>a(c,f,u));if(C.isPlainObject(t)||t instanceof this.constructor)l(t,r);else if(C.isString(t)&&(t=t.trim())&&!Vg(t))l(Ig(t),r);else if(C.isObject(t)&&C.isIterable(t)){let i={},u,c;for(const f of t){if(!C.isArray(f))throw TypeError("Object iterator must return a key-value pair");i[c=f[0]]=(u=i[c])?C.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}l(i,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=mn(t),t){const n=C.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return Bg(s);if(C.isFunction(r))return r.call(this,s,n);if(C.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=mn(t),t){const n=C.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||oo(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function a(l){if(l=mn(l),l){const i=C.findKey(n,l);i&&(!r||oo(n,n[i],i,r))&&(delete n[i],s=!0)}}return C.isArray(t)?t.forEach(a):a(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const a=r[n];(!t||oo(this,this[a],a,t,!0))&&(delete this[a],s=!0)}return s}normalize(t){const r=this,n={};return C.forEach(this,(s,a)=>{const l=C.findKey(n,a);if(l){r[l]=Os(s),delete r[a];return}const i=t?Wg(a):String(a).trim();i!==a&&delete r[a],r[i]=Os(s),n[i]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return C.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&C.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[Hu]=this[Hu]={accessors:{}}).accessors,s=this.prototype;function a(l){const i=mn(l);n[i]||(Hg(s,l),n[i]=!0)}return C.isArray(t)?t.forEach(a):a(t),this}};Ie.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);C.reduceDescriptors(Ie.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});C.freezeMethods(Ie);function lo(e,t){const r=this||ts,n=t||r,s=Ie.from(n.headers);let a=n.data;return C.forEach(e,function(i){a=i.call(r,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function Wf(e){return!!(e&&e.__CANCEL__)}function tn(e,t,r){V.call(this,e??"canceled",V.ERR_CANCELED,t,r),this.name="CanceledError"}C.inherits(tn,V,{__CANCEL__:!0});function Hf(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new V("Request failed with status code "+r.status,[V.ERR_BAD_REQUEST,V.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function qg(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Qg(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,a=0,l;return t=t!==void 0?t:1e3,function(u){const c=Date.now(),f=n[a];l||(l=c),r[s]=u,n[s]=c;let d=a,h=0;for(;d!==s;)h+=r[d++],d=d%e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),c-l<t)return;const b=f&&c-f;return b?Math.round(h*1e3/b):void 0}}function Kg(e,t){let r=0,n=1e3/t,s,a;const l=(c,f=Date.now())=>{r=f,s=null,a&&(clearTimeout(a),a=null),e.apply(null,c)};return[(...c)=>{const f=Date.now(),d=f-r;d>=n?l(c,f):(s=c,a||(a=setTimeout(()=>{a=null,l(s)},n-d)))},()=>s&&l(s)]}const oa=(e,t,r=3)=>{let n=0;const s=Qg(50,250);return Kg(a=>{const l=a.loaded,i=a.lengthComputable?a.total:void 0,u=l-n,c=s(u),f=l<=i;n=l;const d={loaded:l,total:i,progress:i?l/i:void 0,bytes:u,rate:c||void 0,estimated:c&&i&&f?(i-l)/c:void 0,event:a,lengthComputable:i!=null,[t?"download":"upload"]:!0};e(d)},r)},qu=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Qu=e=>(...t)=>C.asap(()=>e(...t)),Gg=Ce.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Ce.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Ce.origin),Ce.navigator&&/(msie|trident)/i.test(Ce.navigator.userAgent)):()=>!0,Jg=Ce.hasStandardBrowserEnv?{write(e,t,r,n,s,a){const l=[e+"="+encodeURIComponent(t)];C.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),C.isString(n)&&l.push("path="+n),C.isString(s)&&l.push("domain="+s),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Yg(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Xg(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function qf(e,t,r){let n=!Yg(t);return e&&(n||r==!1)?Xg(e,t):t}const Ku=e=>e instanceof Ie?{...e}:e;function hr(e,t){t=t||{};const r={};function n(c,f,d,h){return C.isPlainObject(c)&&C.isPlainObject(f)?C.merge.call({caseless:h},c,f):C.isPlainObject(f)?C.merge({},f):C.isArray(f)?f.slice():f}function s(c,f,d,h){if(C.isUndefined(f)){if(!C.isUndefined(c))return n(void 0,c,d,h)}else return n(c,f,d,h)}function a(c,f){if(!C.isUndefined(f))return n(void 0,f)}function l(c,f){if(C.isUndefined(f)){if(!C.isUndefined(c))return n(void 0,c)}else return n(void 0,f)}function i(c,f,d){if(d in t)return n(c,f);if(d in e)return n(void 0,c)}const u={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:i,headers:(c,f,d)=>s(Ku(c),Ku(f),d,!0)};return C.forEach(Object.keys(Object.assign({},e,t)),function(f){const d=u[f]||s,h=d(e[f],t[f],f);C.isUndefined(h)&&d!==i||(r[f]=h)}),r}const Qf=e=>{const t=hr({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:a,headers:l,auth:i}=t;t.headers=l=Ie.from(l),t.url=If(qf(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&l.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):"")));let u;if(C.isFormData(r)){if(Ce.hasStandardBrowserEnv||Ce.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((u=l.getContentType())!==!1){const[c,...f]=u?u.split(";").map(d=>d.trim()).filter(Boolean):[];l.setContentType([c||"multipart/form-data",...f].join("; "))}}if(Ce.hasStandardBrowserEnv&&(n&&C.isFunction(n)&&(n=n(t)),n||n!==!1&&Gg(t.url))){const c=s&&a&&Jg.read(a);c&&l.set(s,c)}return t},Zg=typeof XMLHttpRequest<"u",ex=Zg&&function(e){return new Promise(function(r,n){const s=Qf(e);let a=s.data;const l=Ie.from(s.headers).normalize();let{responseType:i,onUploadProgress:u,onDownloadProgress:c}=s,f,d,h,b,v;function x(){b&&b(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(f),s.signal&&s.signal.removeEventListener("abort",f)}let w=new XMLHttpRequest;w.open(s.method.toUpperCase(),s.url,!0),w.timeout=s.timeout;function p(){if(!w)return;const g=Ie.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),L={data:!i||i==="text"||i==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:g,config:e,request:w};Hf(function(R){r(R),x()},function(R){n(R),x()},L),w=null}"onloadend"in w?w.onloadend=p:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(p)},w.onabort=function(){w&&(n(new V("Request aborted",V.ECONNABORTED,e,w)),w=null)},w.onerror=function(){n(new V("Network Error",V.ERR_NETWORK,e,w)),w=null},w.ontimeout=function(){let k=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const L=s.transitional||Bf;s.timeoutErrorMessage&&(k=s.timeoutErrorMessage),n(new V(k,L.clarifyTimeoutError?V.ETIMEDOUT:V.ECONNABORTED,e,w)),w=null},a===void 0&&l.setContentType(null),"setRequestHeader"in w&&C.forEach(l.toJSON(),function(k,L){w.setRequestHeader(L,k)}),C.isUndefined(s.withCredentials)||(w.withCredentials=!!s.withCredentials),i&&i!=="json"&&(w.responseType=s.responseType),c&&([h,v]=oa(c,!0),w.addEventListener("progress",h)),u&&w.upload&&([d,b]=oa(u),w.upload.addEventListener("progress",d),w.upload.addEventListener("loadend",b)),(s.cancelToken||s.signal)&&(f=g=>{w&&(n(!g||g.type?new tn(null,e,w):g),w.abort(),w=null)},s.cancelToken&&s.cancelToken.subscribe(f),s.signal&&(s.signal.aborted?f():s.signal.addEventListener("abort",f)));const m=qg(s.url);if(m&&Ce.protocols.indexOf(m)===-1){n(new V("Unsupported protocol "+m+":",V.ERR_BAD_REQUEST,e));return}w.send(a||null)})},tx=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const a=function(c){if(!s){s=!0,i();const f=c instanceof Error?c:this.reason;n.abort(f instanceof V?f:new tn(f instanceof Error?f.message:f))}};let l=t&&setTimeout(()=>{l=null,a(new V(`timeout ${t} of ms exceeded`,V.ETIMEDOUT))},t);const i=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(a):c.removeEventListener("abort",a)}),e=null)};e.forEach(c=>c.addEventListener("abort",a));const{signal:u}=n;return u.unsubscribe=()=>C.asap(i),u}},rx=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},nx=async function*(e,t){for await(const r of sx(e))yield*rx(r,t)},sx=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Gu=(e,t,r,n)=>{const s=nx(e,t);let a=0,l,i=u=>{l||(l=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:c,value:f}=await s.next();if(c){i(),u.close();return}let d=f.byteLength;if(r){let h=a+=d;r(h)}u.enqueue(new Uint8Array(f))}catch(c){throw i(c),c}},cancel(u){return i(u),s.return()}},{highWaterMark:2})},_a=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Kf=_a&&typeof ReadableStream=="function",ax=_a&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Gf=(e,...t)=>{try{return!!e(...t)}catch{return!1}},ox=Kf&&Gf(()=>{let e=!1;const t=new Request(Ce.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Ju=64*1024,ul=Kf&&Gf(()=>C.isReadableStream(new Response("").body)),la={stream:ul&&(e=>e.body)};_a&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!la[t]&&(la[t]=C.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new V(`Response type '${t}' is not supported`,V.ERR_NOT_SUPPORT,n)})})})(new Response);const lx=async e=>{if(e==null)return 0;if(C.isBlob(e))return e.size;if(C.isSpecCompliantForm(e))return(await new Request(Ce.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(C.isArrayBufferView(e)||C.isArrayBuffer(e))return e.byteLength;if(C.isURLSearchParams(e)&&(e=e+""),C.isString(e))return(await ax(e)).byteLength},ix=async(e,t)=>{const r=C.toFiniteNumber(e.getContentLength());return r??lx(t)},ux=_a&&(async e=>{let{url:t,method:r,data:n,signal:s,cancelToken:a,timeout:l,onDownloadProgress:i,onUploadProgress:u,responseType:c,headers:f,withCredentials:d="same-origin",fetchOptions:h}=Qf(e);c=c?(c+"").toLowerCase():"text";let b=tx([s,a&&a.toAbortSignal()],l),v;const x=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let w;try{if(u&&ox&&r!=="get"&&r!=="head"&&(w=await ix(f,n))!==0){let L=new Request(t,{method:"POST",body:n,duplex:"half"}),j;if(C.isFormData(n)&&(j=L.headers.get("content-type"))&&f.setContentType(j),L.body){const[R,_]=qu(w,oa(Qu(u)));n=Gu(L.body,Ju,R,_)}}C.isString(d)||(d=d?"include":"omit");const p="credentials"in Request.prototype;v=new Request(t,{...h,signal:b,method:r.toUpperCase(),headers:f.normalize().toJSON(),body:n,duplex:"half",credentials:p?d:void 0});let m=await fetch(v,h);const g=ul&&(c==="stream"||c==="response");if(ul&&(i||g&&x)){const L={};["status","statusText","headers"].forEach(S=>{L[S]=m[S]});const j=C.toFiniteNumber(m.headers.get("content-length")),[R,_]=i&&qu(j,oa(Qu(i),!0))||[];m=new Response(Gu(m.body,Ju,R,()=>{_&&_(),x&&x()}),L)}c=c||"text";let k=await la[C.findKey(la,c)||"text"](m,e);return!g&&x&&x(),await new Promise((L,j)=>{Hf(L,j,{data:k,headers:Ie.from(m.headers),status:m.status,statusText:m.statusText,config:e,request:v})})}catch(p){throw x&&x(),p&&p.name==="TypeError"&&/Load failed|fetch/i.test(p.message)?Object.assign(new V("Network Error",V.ERR_NETWORK,e,v),{cause:p.cause||p}):V.from(p,p&&p.code,e,v)}}),cl={http:kg,xhr:ex,fetch:ux};C.forEach(cl,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Yu=e=>`- ${e}`,cx=e=>C.isFunction(e)||e===null||e===!1,Jf={getAdapter:e=>{e=C.isArray(e)?e:[e];const{length:t}=e;let r,n;const s={};for(let a=0;a<t;a++){r=e[a];let l;if(n=r,!cx(r)&&(n=cl[(l=String(r)).toLowerCase()],n===void 0))throw new V(`Unknown adapter '${l}'`);if(n)break;s[l||"#"+a]=n}if(!n){const a=Object.entries(s).map(([i,u])=>`adapter ${i} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=t?a.length>1?`since :
`+a.map(Yu).join(`
`):" "+Yu(a[0]):"as no adapter specified";throw new V("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:cl};function io(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new tn(null,e)}function Xu(e){return io(e),e.headers=Ie.from(e.headers),e.data=lo.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Jf.getAdapter(e.adapter||ts.adapter)(e).then(function(n){return io(e),n.data=lo.call(e,e.transformResponse,n),n.headers=Ie.from(n.headers),n},function(n){return Wf(n)||(io(e),n&&n.response&&(n.response.data=lo.call(e,e.transformResponse,n.response),n.response.headers=Ie.from(n.response.headers))),Promise.reject(n)})}const Yf="1.10.0",La={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{La[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Zu={};La.transitional=function(t,r,n){function s(a,l){return"[Axios v"+Yf+"] Transitional option '"+a+"'"+l+(n?". "+n:"")}return(a,l,i)=>{if(t===!1)throw new V(s(l," has been removed"+(r?" in "+r:"")),V.ERR_DEPRECATED);return r&&!Zu[l]&&(Zu[l]=!0,console.warn(s(l," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,l,i):!0}};La.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function dx(e,t,r){if(typeof e!="object")throw new V("options must be an object",V.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const a=n[s],l=t[a];if(l){const i=e[a],u=i===void 0||l(i,a,e);if(u!==!0)throw new V("option "+a+" must be "+u,V.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new V("Unknown option "+a,V.ERR_BAD_OPTION)}}const Fs={assertOptions:dx,validators:La},ft=Fs.validators;let ir=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Wu,response:new Wu}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=hr(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:a}=r;n!==void 0&&Fs.assertOptions(n,{silentJSONParsing:ft.transitional(ft.boolean),forcedJSONParsing:ft.transitional(ft.boolean),clarifyTimeoutError:ft.transitional(ft.boolean)},!1),s!=null&&(C.isFunction(s)?r.paramsSerializer={serialize:s}:Fs.assertOptions(s,{encode:ft.function,serialize:ft.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Fs.assertOptions(r,{baseUrl:ft.spelling("baseURL"),withXsrfToken:ft.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=a&&C.merge(a.common,a[r.method]);a&&C.forEach(["delete","get","head","post","put","patch","common"],v=>{delete a[v]}),r.headers=Ie.concat(l,a);const i=[];let u=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(u=u&&x.synchronous,i.unshift(x.fulfilled,x.rejected))});const c=[];this.interceptors.response.forEach(function(x){c.push(x.fulfilled,x.rejected)});let f,d=0,h;if(!u){const v=[Xu.bind(this),void 0];for(v.unshift.apply(v,i),v.push.apply(v,c),h=v.length,f=Promise.resolve(r);d<h;)f=f.then(v[d++],v[d++]);return f}h=i.length;let b=r;for(d=0;d<h;){const v=i[d++],x=i[d++];try{b=v(b)}catch(w){x.call(this,w);break}}try{f=Xu.call(this,b)}catch(v){return Promise.reject(v)}for(d=0,h=c.length;d<h;)f=f.then(c[d++],c[d++]);return f}getUri(t){t=hr(this.defaults,t);const r=qf(t.baseURL,t.url,t.allowAbsoluteUrls);return If(r,t.params,t.paramsSerializer)}};C.forEach(["delete","get","head","options"],function(t){ir.prototype[t]=function(r,n){return this.request(hr(n||{},{method:t,url:r,data:(n||{}).data}))}});C.forEach(["post","put","patch"],function(t){function r(n){return function(a,l,i){return this.request(hr(i||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}ir.prototype[t]=r(),ir.prototype[t+"Form"]=r(!0)});let fx=class Xf{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(s=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](s);n._listeners=null}),this.promise.then=s=>{let a;const l=new Promise(i=>{n.subscribe(i),a=i}).then(s);return l.cancel=function(){n.unsubscribe(a)},l},t(function(a,l,i){n.reason||(n.reason=new tn(a,l,i),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Xf(function(s){t=s}),cancel:t}}};function mx(e){return function(r){return e.apply(null,r)}}function px(e){return C.isObject(e)&&e.isAxiosError===!0}const dl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(dl).forEach(([e,t])=>{dl[t]=e});function Zf(e){const t=new ir(e),r=Rf(ir.prototype.request,t);return C.extend(r,ir.prototype,t,{allOwnKeys:!0}),C.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return Zf(hr(e,s))},r}const ce=Zf(ts);ce.Axios=ir;ce.CanceledError=tn;ce.CancelToken=fx;ce.isCancel=Wf;ce.VERSION=Yf;ce.toFormData=Ra;ce.AxiosError=V;ce.Cancel=ce.CanceledError;ce.all=function(t){return Promise.all(t)};ce.spread=mx;ce.isAxiosError=px;ce.mergeConfig=hr;ce.AxiosHeaders=Ie;ce.formToJSON=e=>Vf(C.isHTMLForm(e)?new FormData(e):e);ce.getAdapter=Jf.getAdapter;ce.HttpStatusCode=dl;ce.default=ce;const{Axios:Kx,AxiosError:Gx,CanceledError:Jx,isCancel:Yx,CancelToken:Xx,VERSION:Zx,all:ev,Cancel:tv,isAxiosError:rv,spread:nv,toFormData:sv,AxiosHeaders:av,HttpStatusCode:ov,formToJSON:lv,getAdapter:iv,mergeConfig:uv}=ce,hx="https://sf-alumnos-backend-new.onrender.com/api",q=ce.create({baseURL:hx,headers:{"Content-Type":"application/json"}});q.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));q.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("usuario"),window.location.pathname!=="/login"&&(window.location.href="/login")),Promise.reject(e)});const Xe={obtenerTodos:()=>q.get("/usuarios"),obtenerPorId:e=>q.get(`/usuarios/${e}`),crear:e=>q.post("/usuarios",e),actualizar:(e,t)=>q.put(`/usuarios/${e}`,t),eliminar:e=>q.delete(`/usuarios/${e}`),cambiarEstado:(e,t)=>q.patch(`/usuarios/${e}/estado`,{activo:t}),eliminarCompleto:e=>q.delete(`/usuarios/${e}/completo`),login:e=>q.post("/auth/login",e),cambiarContrasena:(e,t)=>q.put(`/usuarios/${e}/cambiar-contrasena`,t),obtenerFavoritos:e=>q.get(`/usuarios/${e}/favoritos`),agregarFavorito:(e,t)=>q.post(`/usuarios/${e}/favoritos/${t}`),quitarFavorito:(e,t)=>q.delete(`/usuarios/${e}/favoritos/${t}`),alternarFavorito:(e,t)=>q.put(`/usuarios/${e}/favoritos/${t}`)},yn={obtenerTodos:()=>q.get("/pagos"),obtenerPorUsuario:e=>q.get(`/pagos/usuario/${e}`),crear:e=>q.post("/pagos",e),actualizar:(e,t)=>q.put(`/pagos/${e}`,t),eliminar:e=>q.delete(`/pagos/${e}`),agregarClases:(e,t)=>q.post(`/pagos/${e}/clases`,{fechasClases:t})},Nt={obtenerTodas:()=>q.get("/clases"),obtenerEstudiantesPorDia:()=>q.get("/clases/estudiantes-por-dia"),obtenerPorUsuario:e=>q.get(`/clases/usuario/${e}`),obtenerPorPago:e=>q.get(`/clases/pago/${e}`),obtenerSeparadas:e=>q.get(`/clases/usuario/${e}/separadas`),obtenerResumen:e=>q.get(`/clases/resumen/${e}`),obtenerPorFecha:e=>q.get(`/clases/fecha/${e}`),actualizarEstado:(e,t)=>q.put(`/clases/${e}/estado`,t)},Ar={obtenerTodas:()=>q.get("/partituras"),buscar:e=>q.get(`/partituras/buscar?q=${encodeURIComponent(e)}`),obtenerPorCompositor:e=>q.get(`/partituras/compositor/${encodeURIComponent(e)}`),crear:e=>q.post("/partituras",e),actualizar:(e,t)=>q.put(`/partituras/${e}`,t),eliminar:e=>q.delete(`/partituras/${e}`)},ur={obtenerPorClase:e=>q.get(`/resumenes-clase/clase/${e}`),obtenerPorUsuario:(e,t={})=>{const r=new URLSearchParams(t).toString();return q.get(`/resumenes-clase/usuario/${e}${r?`?${r}`:""}`)},obtenerEstadisticas:e=>q.get(`/resumenes-clase/estadisticas/${e}`),crearOActualizar:e=>q.post("/resumenes-clase",e),eliminar:e=>q.delete(`/resumenes-clase/${e}`)},em=y.createContext(),Oe=()=>{const e=y.useContext(em);if(!e)throw new Error("useAuth debe ser usado dentro de un AuthProvider");return e},gx=({children:e})=>{const[t,r]=y.useState(null),[n,s]=y.useState(!0);y.useEffect(()=>{const f=localStorage.getItem("token"),d=localStorage.getItem("usuario");f&&d&&r(JSON.parse(d)),s(!1)},[]);const c={usuario:t,login:async(f,d)=>{var h,b,v;try{console.log("Intentando login con:",{email:f,password:"***"}),console.log("API URL:","https://sf-alumnos-backend-new.onrender.com/api");const x=await Xe.login({email:f,password:d});console.log("Respuesta del servidor:",x);const{token:w,usuario:p}=x.data;return localStorage.setItem("token",w),localStorage.setItem("usuario",JSON.stringify(p)),r(p),console.log("Usuario logueado:",p),{success:!0}}catch(x){return console.error("Error en login:",x),console.error("Detalles del error:",(h=x.response)==null?void 0:h.data),{success:!1,error:((v=(b=x.response)==null?void 0:b.data)==null?void 0:v.message)||"Error al iniciar sesión"}}},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("usuario"),r(null)},isAdmin:()=>(t==null?void 0:t.rol)==="administrador",isAuthenticated:()=>t!==null,loading:n};return o.jsx(em.Provider,{value:c,children:e})},xx=()=>{const[e,t]=y.useState({email:"",password:""}),[r,n]=y.useState(""),[s,a]=y.useState(!1),{login:l}=Oe(),i=c=>{t({...e,[c.target.name]:c.target.value})},u=async c=>{c.preventDefault(),a(!0),n("");const f=await l(e.email,e.password);f.success||n(f.error),a(!1)};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sistema de Gestión de Alumnos"}),o.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Ingresa tus credenciales para acceder"})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[o.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),o.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email",value:e.email,onChange:i})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"sr-only",children:"Contraseña"}),o.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Contraseña",value:e.password,onChange:i})]})]}),r&&o.jsx("div",{className:"text-red-600 text-sm text-center",children:r}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:s?"Ingresando...":"Ingresar"})})]})]})})},vx=()=>{const{usuario:e,isAdmin:t}=Oe();return o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Bienvenido, ",e==null?void 0:e.nombre,"! 🎻"]}),o.jsx("p",{className:"text-gray-600",children:t()?"Panel de administración":"Tu espacio personal de aprendizaje"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-xl shadow-sm border border-blue-200",children:[o.jsxs("h3",{className:"text-lg font-semibold text-blue-900 mb-3 flex items-center",children:[o.jsx("span",{className:"mr-2",children:"👤"}),"Tu Perfil"]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("p",{className:"text-blue-700",children:[o.jsx("span",{className:"font-medium",children:"Nombre:"})," ",e==null?void 0:e.nombre," ",e==null?void 0:e.apellido]}),o.jsxs("p",{className:"text-blue-700",children:[o.jsx("span",{className:"font-medium",children:"Email:"})," ",e==null?void 0:e.email]}),o.jsxs("p",{className:"text-blue-700",children:[o.jsx("span",{className:"font-medium",children:"Rol:"}),o.jsx("span",{className:`ml-2 inline-flex px-2 py-1 text-xs font-semibold rounded-full ${t()?"bg-purple-100 text-purple-800":"bg-green-100 text-green-800"}`,children:e==null?void 0:e.rol})]})]})]}),t()&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-xl shadow-sm border border-green-200",children:[o.jsxs("h3",{className:"text-lg font-semibold text-green-900 mb-3 flex items-center",children:[o.jsx("span",{className:"mr-2",children:"👥"}),"Gestión de Usuarios"]}),o.jsx("p",{className:"text-green-700 mb-4",children:"Administra los usuarios del sistema"}),o.jsx(Mt,{to:"/usuarios",className:"inline-block bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:"Ver Usuarios"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-xl shadow-sm border border-purple-200",children:[o.jsxs("h3",{className:"text-lg font-semibold text-purple-900 mb-3 flex items-center",children:[o.jsx("span",{className:"mr-2",children:"⚙️"}),"Panel de Administración"]}),o.jsx("p",{className:"text-purple-700 mb-4",children:"Acceso completo al sistema"}),o.jsx("span",{className:"inline-block bg-purple-600 text-white px-4 py-2 rounded-lg text-sm",children:"Administrador"})]})]}),!t()&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-xl shadow-sm border border-blue-200",children:[o.jsxs("h3",{className:"text-lg font-semibold text-blue-900 mb-3 flex items-center",children:[o.jsx("span",{className:"mr-2",children:"🎼"}),"Partituras"]}),o.jsx("p",{className:"text-blue-700 mb-4",children:"Explora y marca tus partituras favoritas"}),o.jsx(Mt,{to:"/partituras",className:"inline-block bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:"Ver Partituras"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-xl shadow-sm border border-green-200",children:[o.jsxs("h3",{className:"text-lg font-semibold text-green-900 mb-3 flex items-center",children:[o.jsx("span",{className:"mr-2",children:"📚"}),"Mis Clases"]}),o.jsx("p",{className:"text-green-700 mb-4",children:"Revisa el resumen de tus clases anteriores"}),o.jsx(Mt,{to:"/resumen-clases",className:"inline-block bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:"Ver Mis Clases"})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 p-6 rounded-xl shadow-sm border border-indigo-200",children:[o.jsxs("h3",{className:"text-lg font-semibold text-indigo-900 mb-3 flex items-center",children:[o.jsx("span",{className:"mr-2",children:"🔒"}),"Seguridad"]}),o.jsx("p",{className:"text-indigo-700 mb-4",children:"Cambia tu contraseña cuando sea necesario"}),o.jsx(Mt,{to:"/cambiar-contrasena",className:"inline-block bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:"Cambiar Contraseña"})]})]}),o.jsxs("div",{className:"mt-8 bg-gradient-to-r from-yellow-50 to-amber-50 p-6 rounded-xl shadow-sm border border-yellow-200",children:[o.jsxs("h3",{className:"text-lg font-semibold text-yellow-900 mb-3 flex items-center",children:[o.jsx("span",{className:"mr-2",children:"💡"}),"Información Importante"]}),o.jsx("p",{className:"text-yellow-700",children:(e==null?void 0:e.rol)==="usuario"?"Si esta es tu primera vez ingresando, recuerda cambiar tu contraseña provisional.":"Como administrador, puedes gestionar todos los usuarios del sistema."})]})]})},yx=({usuario:e,onSubmit:t,onCancel:r})=>{const[n,s]=y.useState({nombre:"",apellido:"",email:"",password:"",rol:"usuario"}),[a,l]=y.useState(!1),[i,u]=y.useState("");y.useEffect(()=>{e&&s({nombre:e.nombre||"",apellido:e.apellido||"",email:e.email||"",password:"",rol:e.rol||"usuario"})},[e]);const c=d=>{s({...n,[d.target.name]:d.target.value})},f=async d=>{var h,b;d.preventDefault(),l(!0),u("");try{if(e){const v={...n};v.password||delete v.password,await Xe.actualizar(e._id,v)}else await Xe.crear(n);t()}catch(v){u(((b=(h=v.response)==null?void 0:h.data)==null?void 0:b.message)||"Error al guardar usuario")}finally{l(!1)}};return o.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:o.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:o.jsxs("div",{className:"mt-3",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 text-center mb-4",children:e?"Editar Usuario":"Nuevo Usuario"}),o.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre"}),o.jsx("input",{type:"text",name:"nombre",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:n.nombre,onChange:c})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Apellido"}),o.jsx("input",{type:"text",name:"apellido",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:n.apellido,onChange:c})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),o.jsx("input",{type:"email",name:"email",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:n.email,onChange:c})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e?"Nueva Contraseña (dejar vacío para no cambiar)":"Contraseña Provisoria"}),o.jsx("input",{type:"password",name:"password",required:!e,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:n.password,onChange:c})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Rol"}),o.jsxs("select",{name:"rol",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:n.rol,onChange:c,children:[o.jsx("option",{value:"usuario",children:"Usuario"}),o.jsx("option",{value:"administrador",children:"Administrador"})]})]}),i&&o.jsx("div",{className:"text-red-600 text-sm",children:i}),o.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:"Cancelar"}),o.jsx("button",{type:"submit",disabled:a,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50",children:a?"Guardando...":"Guardar"})]})]})]})})})},gr=({title:e="Cargando...",subtitle:t=null,showRenderMessage:r=!1,size:n="large"})=>{const[s,a]=y.useState(!1);y.useEffect(()=>{if(r){const u=setTimeout(()=>{a(!0)},3e3);return()=>clearTimeout(u)}},[r]);const l={small:"h-8 w-8",medium:"h-12 w-12",large:"h-16 w-16"},i={small:"min-h-32",medium:"min-h-48",large:"min-h-64"};return o.jsx("div",{className:`flex justify-center items-center ${i[n]}`,children:o.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[o.jsxs("div",{className:"relative mb-6",children:[o.jsxs("div",{className:`${l[n]} mx-auto relative`,children:[o.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-indigo-100 dark:border-gray-700"}),o.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-indigo-500 animate-spin"})]}),o.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:o.jsx("div",{className:"w-2 h-2 bg-indigo-500 rounded-full animate-pulse"})})]}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:e}),t&&o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:t}),r&&o.jsx("div",{className:`transition-all duration-500 ${s?"opacity-100 transform translate-y-0":"opacity-0 transform translate-y-2"}`,children:o.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx("svg",{className:"w-5 h-5 text-blue-500 mt-0.5 mr-3 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"font-medium text-blue-800 dark:text-blue-200 mb-1",children:"Despertando el servidor..."}),o.jsx("p",{className:"text-blue-700 dark:text-blue-300",children:"El servidor está iniciando en Render.com. Esto puede tomar unos momentos la primera vez."})]})]})})}),o.jsxs("div",{className:"flex justify-center space-x-1 mt-4",children:[o.jsx("div",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce"}),o.jsx("div",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.jsx("div",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})})},wx=()=>{const[e,t]=y.useState([]),[r,n]=y.useState(!0),[s,a]=y.useState(""),[l,i]=y.useState(!1),[u,c]=y.useState(null),[f,d]=y.useState(null),[h,b]=y.useState(null),[v,x]=y.useState({}),{isAdmin:w}=Oe();y.useEffect(()=>{p()},[]);const p=async()=>{try{n(!0);const S=await Xe.obtenerTodos();t(S.data)}catch{a("Error al cargar usuarios")}finally{n(!1)}},m=()=>{c(null),i(!0)},g=S=>{c(S),i(!0)},k=async S=>{try{await Xe.eliminar(S),t(e.filter(N=>N._id!==S)),d(null)}catch{a("Error al eliminar usuario")}},L=async(S,N)=>{try{x(E=>({...E,[S]:!0})),await Xe.cambiarEstado(S,N),t(e.map(E=>E._id===S?{...E,activo:N}:E))}catch{a(`Error al ${N?"reactivar":"pausar"} usuario`)}finally{x(E=>({...E,[S]:!1}))}},j=async S=>{try{x(E=>({...E,[S]:!0}));const N=await Xe.eliminarCompleto(S);if(t(e.filter(E=>E._id!==S)),b(null),N.data.estadisticas){const E=N.data.estadisticas;alert(`Usuario "${E.usuario}" eliminado completamente.
Clases eliminadas: ${E.clasesEliminadas}
Pagos eliminados: ${E.pagosEliminados}`)}}catch{a("Error al eliminar usuario completo")}finally{x(N=>({...N,[S]:!1})),b(null)}},R=()=>{i(!1),c(null),p()},_=()=>{i(!1),c(null)};return r?o.jsx(gr,{title:"Cargando usuarios...",subtitle:"Obteniendo la lista de usuarios del sistema",showRenderMessage:!0,size:"medium"}):o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestión de Usuarios"}),w()&&o.jsx("button",{onClick:m,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded",children:"Nuevo Usuario"})]}),s&&o.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:s}),o.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:o.jsx("ul",{className:"divide-y divide-gray-200",children:e.map(S=>{var N,E;return o.jsx("li",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-500 flex items-center justify-center",children:o.jsxs("span",{className:"text-white font-medium",children:[(N=S.nombre)==null?void 0:N.charAt(0),(E=S.apellido)==null?void 0:E.charAt(0)]})})}),o.jsxs("div",{className:"ml-4",children:[o.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[S.nombre," ",S.apellido,S.activo===!1&&o.jsx("span",{className:"ml-2 inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800",children:"Pausado"})]}),o.jsx("div",{className:"text-sm text-gray-500",children:S.email}),o.jsx("div",{className:"text-xs text-gray-400",children:o.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${S.rol==="administrador"?"bg-purple-100 text-purple-800":"bg-green-100 text-green-800"}`,children:S.rol})})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx(Mt,{to:`/clases?usuario=${S._id}`,className:"text-blue-600 hover:text-blue-900 text-sm font-medium",children:"Ver Clases"}),w()&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>g(S),className:"text-indigo-600 hover:text-indigo-900 text-sm font-medium",children:"Editar"}),S.rol!=="administrador"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>L(S._id,!S.activo),disabled:v[S._id],className:`text-sm font-medium ${S.activo?"text-orange-600 hover:text-orange-900":"text-green-600 hover:text-green-900"} ${v[S._id]?"opacity-50 cursor-not-allowed":""}`,children:v[S._id]?"Procesando...":S.activo?"Pausar":"Reactivar"}),o.jsx("button",{onClick:()=>d(S._id),className:"text-red-600 hover:text-red-900 text-sm font-medium",children:"Eliminar"}),o.jsx("button",{onClick:()=>b(S._id),className:"text-red-800 hover:text-red-900 text-sm font-bold",children:"Eliminar Todo"})]}),S.rol==="administrador"&&o.jsx("button",{onClick:()=>d(S._id),className:"text-red-600 hover:text-red-900 text-sm font-medium",children:"Eliminar"})]})]})]})},S._id)})})}),e.length===0&&!r&&o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-gray-500",children:"No hay usuarios registrados"})}),l&&o.jsx(yx,{usuario:u,onSubmit:R,onCancel:_}),f&&o.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:o.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:o.jsxs("div",{className:"mt-3 text-center",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Confirmar Eliminación"}),o.jsx("div",{className:"mt-2 px-7 py-3",children:o.jsx("p",{className:"text-sm text-gray-500",children:"¿Estás seguro de que quieres eliminar este usuario? Esta acción no se puede deshacer."})}),o.jsxs("div",{className:"flex justify-center space-x-2 pt-4",children:[o.jsx("button",{onClick:()=>d(null),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:"Cancelar"}),o.jsx("button",{onClick:()=>k(f),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Eliminar"})]})]})})}),h&&o.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:o.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:o.jsxs("div",{className:"mt-3 text-center",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"⚠️ Eliminación Completa"}),o.jsxs("div",{className:"mt-2 px-7 py-3",children:[o.jsxs("p",{className:"text-sm text-gray-500 mb-3",children:[o.jsx("strong",{children:"¡ATENCIÓN!"})," Esta acción eliminará:"]}),o.jsxs("ul",{className:"text-sm text-red-600 text-left list-disc list-inside space-y-1",children:[o.jsx("li",{children:"El usuario completamente"}),o.jsx("li",{children:"Todos sus pagos"}),o.jsx("li",{children:"Todas sus clases"})]}),o.jsx("p",{className:"text-sm text-gray-500 mt-3",children:o.jsx("strong",{children:"Esta acción NO se puede deshacer."})})]}),o.jsxs("div",{className:"flex justify-center space-x-2 pt-4",children:[o.jsx("button",{onClick:()=>b(null),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:"Cancelar"}),o.jsx("button",{onClick:()=>j(h),disabled:v[h],className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:v[h]?"Eliminando...":"Eliminar Todo"})]})]})})})]})},bx=()=>{const[e,t]=y.useState({contrasenaActual:"",nuevaContrasena:"",confirmarContrasena:""}),[r,n]=y.useState(!1),[s,a]=y.useState(""),[l,i]=y.useState(""),{usuario:u}=Oe(),c=d=>{t({...e,[d.target.name]:d.target.value})},f=async d=>{var h,b;if(d.preventDefault(),n(!0),a(""),i(""),e.nuevaContrasena!==e.confirmarContrasena){a("Las contraseñas no coinciden"),n(!1);return}if(e.nuevaContrasena.length<6){a("La contraseña debe tener al menos 6 caracteres"),n(!1);return}try{await Xe.cambiarContrasena(u._id,{contrasenaActual:e.contrasenaActual,nuevaContrasena:e.nuevaContrasena}),i("Contraseña cambiada exitosamente"),t({contrasenaActual:"",nuevaContrasena:"",confirmarContrasena:""})}catch(v){a(((b=(h=v.response)==null?void 0:h.data)==null?void 0:b.message)||"Error al cambiar contraseña")}finally{n(!1)}};return o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-lg shadow-md p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Cambiar Contraseña"}),o.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contraseña Actual"}),o.jsx("input",{type:"password",name:"contrasenaActual",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:e.contrasenaActual,onChange:c})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nueva Contraseña"}),o.jsx("input",{type:"password",name:"nuevaContrasena",required:!0,minLength:"6",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:e.nuevaContrasena,onChange:c})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Confirmar Nueva Contraseña"}),o.jsx("input",{type:"password",name:"confirmarContrasena",required:!0,minLength:"6",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:e.confirmarContrasena,onChange:c})]}),s&&o.jsx("div",{className:"text-red-600 text-sm",children:s}),l&&o.jsx("div",{className:"text-green-600 text-sm",children:l}),o.jsx("button",{type:"submit",disabled:r,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:r?"Cambiando...":"Cambiar Contraseña"})]})]})})},Ta=e=>{if(!e)return null;const t=new Date(e);return t.getUTCHours()!==0||t.getUTCMinutes()!==0||t.getUTCSeconds()!==0?t:new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),12,0,0,0)},jx=(e,t={})=>{if(!e)return"";const r=Ta(e),s={...{weekday:"long",year:"numeric",month:"long",day:"numeric"},...t},a=typeof navigator<"u"&&navigator.language||"es-ES";return r.toLocaleDateString(a,s)},Ae=e=>{if(!e)return"";const t=Ta(e),r={weekday:void 0,year:"numeric",month:"long",day:"numeric"};return t.toLocaleDateString("es-ES",r)},Nx=e=>jx(e,{weekday:void 0,year:"numeric",month:"short",day:"numeric"}),kx=e=>{if(!e)return"";const t=Ta(e),r=t.getDate().toString().padStart(2,"0"),n=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getFullYear().toString().slice(-2);return`${r}/${n}/${s}`},Cx=e=>{if(!e)return"";const t=Ta(e),r=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],n=t.getDate(),s=r[t.getMonth()],a=t.getFullYear();return`${s} ${n}, ${a}`},Sx=e=>{if(!e)return null;if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[r,n,s]=e.split("-").map(Number);return new Date(Date.UTC(r,n-1,s,12,0,0,0))}const t=new Date(e);return new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),12,0,0,0))},Ex=e=>{const t=new Date(e),r=new Date;return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()},Px=e=>{const t=new Date(e),r={year:"numeric",month:"long"};return t.toLocaleDateString("es-ES",r)},Rx=e=>{const t=[],r=[];return e.forEach(n=>{if(Ex(n.fechaPago))t.push(n);else{const s=Px(n.fechaPago);let a=r.find(l=>l.mesAnio===s);a||(a={mesAnio:s,fecha:new Date(n.fechaPago),pagos:[]},r.push(a)),a.pagos.push(n)}}),r.sort((n,s)=>s.fecha-n.fecha),{pagosActuales:t,pagosHistoricos:r}},tm=e=>{let t=encodeURIComponent(e);return t=t.replace(/%2A/g,"*"),t},pi=e=>{const r=`https://api.whatsapp.com/send?text=${tm(e)}`;window.open(r,"_blank")},hi=({fecha:e,obrasEstudiadas:t=[],objetivosProximaClase:r=""})=>{let n=`🎼 *Resumen de Clase*
`;return n+=`📅 Fecha: ${e}

`,t.length>0&&(n+=`🎵 *Obras Estudiadas:*
`,t.forEach((s,a)=>{n+=`${a+1}. *${s.compositor}* - ${s.obra}
`,s.movimientosCompases&&(n+=`   📖 Movimientos/Compases: ${s.movimientosCompases}
`),s.comentarios&&(n+=`   💭 ${s.comentarios}
`),n+=`
`})),r&&(n+=`📋 *Próxima Clase:*
${r}`),n},ec=({pago:e,onEdit:t,onEliminar:r})=>{const n=l=>{if(!l||l.length===0)return"Sin clases";const i=l.reduce((c,f)=>{const d=new Date(f.fecha),h=`${d.getFullYear()}-${d.getMonth()}`;return c[h]||(c[h]={nombreMes:d.toLocaleString("es-ES",{month:"long"}),fechas:[]}),c[h].fechas.push(d.getDate()),c},{});return Object.values(i).map(c=>{const f=c.fechas.sort((b,v)=>b-v),d=c.nombreMes.charAt(0).toUpperCase()+c.nombreMes.slice(1),h=f.join("-");return`${d} ${h}`}).join(" - ")},s=async()=>{if(e.linkFactura)try{const l=document.createElement("a");l.href=e.linkFactura,l.download=`Factura_${e.usuario.nombre}_${e.usuario.apellido}_${Ae(e.fechaPago)}.pdf`,document.body.appendChild(l),l.click(),document.body.removeChild(l)}catch(l){console.error("Error al descargar factura:",l),window.open(e.linkFactura,"_blank")}},a=()=>{const l=`$${e.monto.toLocaleString()}`,i=n(e.clasesDetalle),u=Ae(e.fechaPago);let c=`⭐⭐⭐⭐⭐⭐⭐⭐⭐

`;c+=`*Pagado ${l} - ${i}*

`,e.descripcion&&e.descripcion.trim()!==""&&(c+=`💬 ${e.descripcion}

`),c+=`📅 ${u}

`,e.linkFactura&&(c+=`*Descargar factura*
📘📘📘📘📘📘📘📘📘
${e.linkFactura}`);const d=`https://api.whatsapp.com/send?text=${tm(c)}`;window.open(d,"_blank")};return o.jsxs("div",{className:"bg-white rounded-lg shadow-md border p-3",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("div",{children:o.jsxs("h3",{className:"text-base font-semibold text-gray-900",children:[e.usuario.nombre," ",e.usuario.apellido]})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:a,className:"text-green-600 hover:text-green-800 text-sm font-medium",title:"Compartir por WhatsApp",children:"📱"}),e.linkFactura&&o.jsx("button",{onClick:s,className:"text-purple-600 hover:text-purple-800 text-sm font-medium",title:"Descargar factura",children:"📄"}),o.jsx("button",{onClick:()=>t(e),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"✏️"}),o.jsx("button",{onClick:()=>r(e._id),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"🗑️"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-left",children:o.jsxs("span",{className:"font-semibold text-base text-gray-900",children:["$",e.monto.toLocaleString()]})}),o.jsx("div",{className:"text-left",children:o.jsx("span",{className:"text-sm text-gray-600",children:e.clasesDetalle?n(e.clasesDetalle):"Cargando..."})}),e.descripcion&&o.jsx("div",{className:"mt-2 p-2 bg-amber-100 rounded border border-amber-200",children:o.jsx("p",{className:"text-sm text-amber-800",children:e.descripcion})}),e.linkFactura&&o.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[o.jsx("span",{className:"text-xs text-blue-600",children:"📄 Factura digital"}),o.jsx("button",{onClick:s,className:"inline-flex items-center px-2 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 transition-colors",children:"⬇ Descargar"})]})]})]})},_x=()=>{const[e,t]=y.useState([]),[r,n]=y.useState([]),[s,a]=y.useState([]),[l,i]=y.useState([]),[u,c]=y.useState(!0),[f,d]=y.useState(""),[h,b]=y.useState(!1),[v,x]=y.useState(null),[w,p]=y.useState("periodo"),[m,g]=y.useState([""]),[k,L]=y.useState({show:!1,message:"",type:""}),[j,R]=y.useState({usuarioId:"",monto:"",fechaInicio:"",fechaFin:"",descripcion:"",linkFactura:""}),_=(A,O="success")=>{L({show:!0,message:A,type:O}),setTimeout(()=>{L({show:!1,message:"",type:""})},3e3)};y.useEffect(()=>{S()},[]);const S=async()=>{c(!0);try{const[A,O]=await Promise.all([yn.obtenerTodos(),Xe.obtenerTodos()]),M=A.data,$=await Promise.all(M.map(async Y=>{try{const fe=(await Nt.obtenerPorPago(Y._id)).data;return{...Y,totalClases:fe.length,clasesActivas:fe.filter(he=>he.activo!==!1).length,clasesDetalle:fe}}catch{console.error("Error al obtener clases para pago:",Y._id);try{const he=(await Nt.obtenerPorUsuario(Y.usuario._id)).data.filter(ge=>ge.pago&&ge.pago._id&&ge.pago._id.toString()===Y._id.toString());return{...Y,totalClases:he.length,clasesActivas:he.filter(ge=>ge.activo!==!1).length,clasesDetalle:he}}catch(fe){return console.error("Error en fallback para pago:",Y._id,fe),{...Y,totalClases:0,clasesActivas:0,clasesDetalle:[]}}}}));t($),i(O.data);const{pagosActuales:G,pagosHistoricos:W}=Rx($);n(G),a(W)}catch(A){d("Error al cargar los datos"),console.error("Error:",A)}finally{c(!1)}},N=async A=>{var O,M,$,G;A.preventDefault();try{let W={monto:j.monto,descripcion:j.descripcion,linkFactura:j.linkFactura};if(v){const Y=v.fechaInicio?v.fechaInicio.split("T")[0]:"",Z=v.fechaFin?v.fechaFin.split("T")[0]:"",fe=j.fechaInicio!==Y,he=j.fechaFin!==Z;if(console.log("🔍 Verificando cambios de fechas:"),console.log(`  Fecha inicio: ${Y} → ${j.fechaInicio} (cambió: ${fe})`),console.log(`  Fecha fin: ${Z} → ${j.fechaFin} (cambió: ${he})`),w==="individual"){const ge=m.filter(rs=>rs.trim()!=="");if(ge.length===0){_("Debe agregar al menos una fecha de clase.","error");return}W.fechasClases=ge}else if(w==="periodo")if(fe||he){if(!j.fechaInicio||!j.fechaFin){_("Debe especificar fechas de inicio y fin.","error");return}const ge=new Date(j.fechaInicio);if(new Date(j.fechaFin)<=ge){_("La fecha de fin debe ser posterior a la fecha de inicio.","error");return}W.fechaInicio=j.fechaInicio,W.fechaFin=j.fechaFin,console.log("📅 Incluyendo fechas cambiadas en la actualización")}else console.log("ℹ️  No se incluyen fechas - no hubo cambios")}else if(W.usuarioId=j.usuarioId,w==="individual"){const Y=m.filter(Z=>Z.trim()!=="");if(Y.length===0){_("Debe agregar al menos una fecha de clase para crear el pago.","error");return}W.fechasClases=Y}else if(w==="periodo"){if(!j.fechaInicio||!j.fechaFin){_("Debe especificar fechas de inicio y fin para crear clases automáticamente.","error");return}const Y=new Date(j.fechaInicio);if(new Date(j.fechaFin)<=Y){_("La fecha de fin debe ser posterior a la fecha de inicio.","error");return}W.fechaInicio=j.fechaInicio,W.fechaFin=j.fechaFin}if(v)console.log("🔄 Datos a enviar para actualización:",W),console.log("📝 Link de factura en formData:",j.linkFactura),console.log("📝 Link de factura en pagoData:",W.linkFactura),await yn.actualizar(v._id,W),_("Pago actualizado exitosamente","success");else{const Z=(await yn.crear(W)).data;let fe="Pago creado exitosamente";Z.clases&&Z.clases.length>0&&(fe+=` - Se crearon ${Z.clases.length} clases automáticamente`),W.linkFactura&&(fe+=" - Factura digital guardada"),_(fe,"success")}await S(),P(),b(!1)}catch(W){console.error("Error al guardar pago:",W),((M=(O=W.response)==null?void 0:O.data)==null?void 0:M.error)==="CLASES_REQUERIDAS"?_(W.response.data.message,"error"):(G=($=W.response)==null?void 0:$.data)!=null&&G.message?_(`Error: ${W.response.data.message}`,"error"):_("Error al guardar el pago. Verifique que todos los campos estén completos.","error")}},E=async A=>{if(window.confirm("¿Estás seguro de que quieres eliminar este pago?"))try{await yn.eliminar(A),await S(),_("Pago eliminado exitosamente","success")}catch(O){console.error("Error al eliminar pago:",O),_("Error al eliminar el pago","error")}},P=()=>{R({usuarioId:"",monto:"",fechaInicio:"",fechaFin:"",descripcion:"",linkFactura:""}),x(null),p("periodo"),g([""])},z=async A=>{x(A);const O=A.fechaInicio&&A.fechaFin?"periodo":"individual";if(p(O),R({usuarioId:A.usuario._id,monto:A.monto,fechaInicio:A.fechaInicio?A.fechaInicio.split("T")[0]:"",fechaFin:A.fechaFin?A.fechaFin.split("T")[0]:"",descripcion:A.descripcion||"",linkFactura:A.linkFactura||""}),O==="individual")try{const $=(await Nt.obtenerPorPago(A._id)).data.map(G=>new Date(G.fecha).toISOString().split("T")[0]);g($.length>0?$:[""])}catch(M){console.error("Error al cargar fechas de clases:",M),g([""])}else g([""]);b(!0)},U=()=>{g([...m,""])},H=A=>{const O=m.filter((M,$)=>$!==A);g(O.length>0?O:[""])},Ke=(A,O)=>{const M=[...m];M[A]=O,g(M)};return u?o.jsx(gr,{title:"Cargando pagos...",subtitle:"Obteniendo información de pagos y usuarios",showRenderMessage:!0,size:"medium"}):o.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[k.show&&o.jsx("div",{className:`fixed top-4 right-4 z-50 px-6 py-3 rounded-lg shadow-lg transform transition-all duration-300 ${k.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:k.type==="success"?"✅":"❌"}),o.jsx("span",{className:"font-medium",children:k.message})]})}),o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestión de Pagos"}),o.jsx("button",{onClick:()=>{P(),b(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 font-semibold",children:"➕ Nuevo Pago"})]}),f&&o.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:f}),r.length>0&&o.jsx("div",{className:"mb-8",children:o.jsxs("details",{open:!0,className:"border border-blue-200 rounded-lg bg-blue-50",children:[o.jsxs("summary",{className:"cursor-pointer bg-blue-100 hover:bg-blue-200 p-4 font-bold text-blue-900 flex justify-between items-center rounded-t-lg",children:[o.jsxs("span",{className:"flex items-center",children:["📅 Pagos de ",new Date().toLocaleDateString("es-ES",{month:"long",year:"numeric"}),o.jsx("span",{className:"ml-3 bg-blue-600 text-white text-sm font-medium px-2.5 py-0.5 rounded-full",children:r.length})]}),o.jsx("span",{className:"text-sm text-blue-700",children:"Mes actual"})]}),o.jsx("div",{className:"p-4",children:o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:r.map(A=>o.jsx(ec,{pago:A,onEdit:z,onEliminar:E},A._id))})})]})}),s.length>0&&o.jsxs("div",{className:"mb-8",children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:["Historial de Pagos",o.jsxs("span",{className:"ml-3 text-sm text-gray-600 font-normal",children:["(",s.reduce((A,O)=>A+O.pagos.length,0)," pagos)"]})]}),o.jsx("div",{className:"space-y-4",children:s.map(A=>o.jsxs("details",{className:"border border-gray-200 rounded-lg",children:[o.jsxs("summary",{className:"cursor-pointer bg-gray-50 hover:bg-gray-100 p-4 font-medium text-gray-900 flex justify-between items-center",children:[o.jsxs("span",{className:"capitalize",children:["📆 ",A.mesAnio]}),o.jsxs("span",{className:"text-sm text-gray-500 bg-gray-200 px-2 py-1 rounded-full",children:[A.pagos.length," ",A.pagos.length===1?"pago":"pagos"]})]}),o.jsx("div",{className:"p-4",children:o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:A.pagos.map(O=>o.jsx(ec,{pago:O,onEdit:z,onEliminar:E},O._id))})})]},A.mesAnio))})]}),r.length===0&&s.length===0&&!u&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"mx-auto w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:o.jsx("span",{className:"text-4xl",children:"💰"})}),o.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"No hay pagos registrados"}),o.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Crea el primer pago para comenzar a gestionar las clases"})]}),h&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[o.jsx("h3",{className:"text-lg font-bold mb-4",children:v?"Editar Pago":"Nuevo Pago"}),o.jsxs("form",{onSubmit:N,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usuario"}),o.jsxs("select",{value:j.usuarioId,onChange:A=>R({...j,usuarioId:A.target.value}),required:!0,className:"w-full p-2 border border-gray-300 rounded-md",children:[o.jsx("option",{value:"",children:"Seleccionar usuario..."}),l.map(A=>o.jsxs("option",{value:A._id,children:[A.nombre," ",A.apellido," (",A.email,")"]},A._id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monto ($)"}),o.jsx("input",{type:"number",value:j.monto,onChange:A=>R({...j,monto:A.target.value}),required:!0,min:"0",className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"56200"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de programación de clases"}),o.jsxs("div",{className:"flex gap-4 mb-4",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",value:"periodo",checked:w==="periodo",onChange:A=>p(A.target.value),className:"mr-2",disabled:v}),"Por período (semanal)"]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",value:"individual",checked:w==="individual",onChange:A=>p(A.target.value),className:"mr-2",disabled:v}),"Clases individuales"]})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3 mb-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-blue-600 mr-2",children:"💡"}),o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Importante:"})," Todo pago debe tener clases asociadas.",w==="periodo"?" Se crearán clases automáticamente cada semana entre las fechas seleccionadas.":" Debe especificar al menos una fecha de clase."]})]})}),v&&o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"💡 Tipo detectado automáticamente. Para cambiar el tipo, elimine y cree un nuevo pago."})]}),(w==="periodo"||v)&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de inicio"}),o.jsx("input",{type:"date",value:j.fechaInicio,onChange:A=>R({...j,fechaInicio:A.target.value}),required:w==="periodo",className:"w-full p-2 border border-gray-300 rounded-md"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de fin"}),o.jsx("input",{type:"date",value:j.fechaFin,onChange:A=>R({...j,fechaFin:A.target.value}),required:w==="periodo",className:"w-full p-2 border border-gray-300 rounded-md"})]})]}),w==="individual"&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Fechas de clases ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Agregue las fechas específicas en que se realizarán las clases. Mínimo: 1 fecha."}),m.map((A,O)=>o.jsxs("div",{className:"flex gap-2 mb-2",children:[o.jsx("input",{type:"date",value:A,onChange:M=>Ke(O,M.target.value),className:"flex-1 p-2 border border-gray-300 rounded-md",required:!0}),m.length>1&&o.jsx("button",{type:"button",onClick:()=>H(O),className:"px-3 py-2 bg-red-500 text-white rounded hover:bg-red-600",title:"Eliminar fecha",children:"🗑️"})]},O)),o.jsx("button",{type:"button",onClick:U,className:"w-full p-2 border-2 border-dashed border-gray-300 rounded-md text-gray-600 hover:border-blue-400 hover:text-blue-600",children:"➕ Agregar otra fecha"}),m.filter(A=>A.trim()!=="").length>0&&o.jsxs("p",{className:"text-sm text-green-600 mt-2",children:["✅ ",m.filter(A=>A.trim()!=="").length," fecha(s) programada(s)"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción (opcional)"}),o.jsx("textarea",{value:j.descripcion,onChange:A=>R({...j,descripcion:A.target.value}),className:"w-full p-2 border border-gray-300 rounded-md",rows:"3",placeholder:"Descripción del pago..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link de Factura Digital (opcional)"}),o.jsx("input",{type:"url",value:j.linkFactura,onChange:A=>R({...j,linkFactura:A.target.value}),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"https://ejemplo.com/factura.pdf"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"📄 Enlace a la factura digital para descarga (Google Drive, Dropbox, etc.)"})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>{b(!1),P()},className:"flex-1 px-4 py-2 text-gray-600 bg-gray-200 rounded hover:bg-gray-300",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:v?"Actualizar":"Crear"})]})]})]})})]})},gi=({claseId:e,usuarioId:t,fecha:r,onClose:n,onSave:s,resumenExistente:a,isStandalone:l=!1})=>{const[i,u]=y.useState(!0),[c,f]=y.useState(!1),[d,h]=y.useState([]),[b,v]=y.useState([]),[x,w]=y.useState({obrasEstudiadas:[],objetivosProximaClase:""}),[p,m]=y.useState({compositor:"",obra:"",movimientosCompases:"",comentarios:""});y.useEffect(()=>{g()},[e,a]);const g=async()=>{try{const P=await Ar.obtenerTodas();h(P.data);const z=[...new Set(P.data.map(U=>U.compositor))].sort();if(v(z),a)w({obrasEstudiadas:a.obrasEstudiadas||[],objetivosProximaClase:a.objetivosProximaClase||""});else{const U=await ur.obtenerPorClase(e);U.data&&U.data.obrasEstudiadas&&w({obrasEstudiadas:U.data.obrasEstudiadas||[],objetivosProximaClase:U.data.objetivosProximaClase||""})}}catch(P){console.error("Error al cargar datos:",P)}finally{u(!1)}},k=P=>d.filter(z=>z.compositor===P),L=()=>{if(!p.compositor||!p.obra){alert("Por favor selecciona compositor y obra");return}console.log("Buscando partitura:",{compositor:p.compositor,obra:p.obra}),console.log("Partituras disponibles:",d.map(H=>({id:H._id,compositor:H.compositor,obra:H.obra})));const P=d.find(H=>H.compositor===p.compositor&&H.obra===p.obra);if(!P){alert("⚠️ Obra no encontrada en la base de datos. Por favor verifica la selección."),console.error("Partitura no encontrada para:",{compositor:p.compositor,obra:p.obra});return}if(!P._id){alert("⚠️ Error: La partitura no tiene ID válido"),console.error("Partitura sin ID:",P);return}if(console.log("Partitura encontrada:",P),x.obrasEstudiadas.some(H=>H.compositor===p.compositor&&H.obra===p.obra)){alert("Esta obra ya está agregada");return}const U={id:Date.now(),partitura:P._id,compositor:p.compositor,obra:p.obra,movimientosCompases:p.movimientosCompases,comentarios:p.comentarios};console.log("Obra completa agregada:",U),w({...x,obrasEstudiadas:[...x.obrasEstudiadas,U]}),m({compositor:"",obra:"",movimientosCompases:"",comentarios:""})},j=P=>{const z=x.obrasEstudiadas.filter((U,H)=>H!==P);w({...x,obrasEstudiadas:z})},R=(P,z,U)=>{const H=[...x.obrasEstudiadas];H[P]={...H[P],[z]:U},w({...x,obrasEstudiadas:H})},_=async P=>{P.preventDefault(),f(!0);try{const z={claseId:e,obrasEstudiadas:x.obrasEstudiadas.filter(H=>H.partitura).map(H=>({partitura:H.partitura,compositor:H.compositor,obra:H.obra,movimientosCompases:H.movimientosCompases,comentarios:H.comentarios})),objetivosProximaClase:x.objetivosProximaClase};console.log("Datos enviados al backend:",z);const U=x.obrasEstudiadas.filter(H=>!H.partitura);U.length>0&&(console.warn("Obras sin partitura encontradas:",U),alert(`⚠️ Hay ${U.length} obra(s) sin partitura válida que serán omitidas. Por favor, verifica las obras seleccionadas.`)),await ur.crearOActualizar(z),console.log("💾 Resumen guardado exitosamente, llamando onSave..."),s&&s(),alert("✅ Resumen de clase guardado exitosamente"),n()}catch(z){console.error("Error al guardar resumen:",z),alert("❌ Error al guardar el resumen")}finally{f(!1)}},S=async()=>{try{f(!0);const P={claseId:e,obrasEstudiadas:x.obrasEstudiadas.filter(U=>U.partitura).map(U=>({partitura:U.partitura,compositor:U.compositor,obra:U.obra,movimientosCompases:U.movimientosCompases,comentarios:U.comentarios})),objetivosProximaClase:x.objetivosProximaClase};await ur.crearOActualizar(P);const z=hi({fecha:Ae(r),obrasEstudiadas:x.obrasEstudiadas,objetivosProximaClase:x.objetivosProximaClase});console.log("Mensaje generado:",z),pi(z),console.log("💾 Resumen guardado exitosamente (WhatsApp), llamando onSave..."),s&&s(),alert("✅ Resumen guardado y WhatsApp abierto"),n()}catch(P){console.error("Error al guardar y enviar por WhatsApp:",P),alert("❌ Error al procesar la acción")}finally{f(!1)}};if(i)return o.jsx("div",{className:`${l?"":"fixed inset-0 bg-black bg-opacity-50"} flex items-center justify-center ${l?"p-6":"z-50"}`,children:o.jsxs("div",{className:"bg-white rounded-lg p-6",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),o.jsx("p",{className:"mt-2 text-center",children:"Cargando..."})]})});const N=l?"bg-white rounded-lg w-full":"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",E=l?"w-full":"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto";return o.jsx("div",{className:N,children:o.jsx("div",{className:E,children:o.jsxs("div",{className:"p-6",children:[!l&&o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"📚 Resumen de Clase"}),o.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 text-2xl font-bold",children:"×"})]}),o.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:[o.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Información de la Clase"}),o.jsx("div",{className:"text-sm",children:o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-700 font-medium",children:"Fecha:"}),o.jsx("span",{className:"text-blue-900 ml-2",children:Ae(r)})]})})]}),o.jsxs("form",{onSubmit:_,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"🎼 Obras Estudiadas"}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[o.jsx("h4",{className:"font-medium mb-3",children:"Agregar Nueva Obra"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Compositor"}),o.jsxs("select",{value:p.compositor,onChange:P=>m({...p,compositor:P.target.value,obra:""}),className:"w-full p-2 border border-gray-300 rounded-md",children:[o.jsx("option",{value:"",children:"Seleccionar compositor..."}),b.map(P=>o.jsx("option",{value:P,children:P},P))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Obra"}),o.jsxs("select",{value:p.obra,onChange:P=>m({...p,obra:P.target.value}),disabled:!p.compositor,className:"w-full p-2 border border-gray-300 rounded-md disabled:bg-gray-100",children:[o.jsx("option",{value:"",children:"Seleccionar obra..."}),p.compositor&&k(p.compositor).map(P=>o.jsx("option",{value:P.obra,children:P.obra},P._id))]})]})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Movimientos o Compases"}),o.jsx("input",{type:"text",value:p.movimientosCompases,onChange:P=>m({...p,movimientosCompases:P.target.value}),placeholder:"Ej: 1er movimiento, compases 1-32, Andante...",className:"w-full p-2 border border-gray-300 rounded-md"})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Comentarios"}),o.jsx("textarea",{value:p.comentarios,onChange:P=>m({...p,comentarios:P.target.value}),placeholder:"Qué se trabajó, dificultades encontradas, correcciones...",className:"w-full p-2 border border-gray-300 rounded-md",rows:"2"})]}),o.jsx("div",{className:"mt-4",children:o.jsx("button",{type:"button",onClick:L,disabled:!p.compositor||!p.obra,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"➕ Agregar Obra"})})]}),o.jsxs("div",{className:"space-y-3",children:[x.obrasEstudiadas.map((P,z)=>o.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 bg-white",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900",children:P.compositor}),o.jsx("p",{className:"text-gray-700",children:P.obra})]}),o.jsx("button",{type:"button",onClick:()=>j(z),className:"text-red-600 hover:text-red-800 text-lg",title:"Eliminar obra",children:"🗑️"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Movimientos/Compases"}),o.jsx("input",{type:"text",value:P.movimientosCompases||"",onChange:U=>R(z,"movimientosCompases",U.target.value),placeholder:"Ej: 1er movimiento, compases 1-32...",className:"w-full p-2 border border-gray-300 rounded-md text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Comentarios"}),o.jsx("textarea",{value:P.comentarios||"",onChange:U=>R(z,"comentarios",U.target.value),placeholder:"Qué se trabajó, correcciones...",className:"w-full p-2 border border-gray-300 rounded-md text-sm",rows:"2"})]})]})]},P.id||z)),x.obrasEstudiadas.length===0&&o.jsxs("div",{className:"text-center py-8 text-gray-500 border-2 border-dashed border-gray-300 rounded-lg",children:[o.jsx("p",{className:"text-lg",children:"🎼"}),o.jsx("p",{children:"No hay obras agregadas"}),o.jsx("p",{className:"text-sm",children:"Usa el formulario arriba para agregar obras estudiadas"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"📝 Próxima Clase"}),o.jsx("textarea",{value:x.objetivosProximaClase,onChange:P=>w({...x,objetivosProximaClase:P.target.value}),placeholder:"Qué trabajar la próxima clase, metas específicas...",className:"w-full p-3 border border-gray-300 rounded-md",rows:"3"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-6 border-t",children:[!l&&o.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-600 bg-gray-200 rounded-md hover:bg-gray-300",children:"Cancelar"}),o.jsx("button",{type:"submit",disabled:c,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:c?"Guardando...":"Guardar"}),o.jsx("button",{type:"button",onClick:S,disabled:c,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:c?"Procesando...":"📱 Enviar por WhatsApp"})]})]})]})})})},Lx=({resumen:e,onEdit:t,onDelete:r})=>{var i;const[n,s]=y.useState(!1);if(!e||!e.clase)return console.warn("ResumenClaseCard: resumen o clase es null/undefined",e),o.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-lg p-4 shadow-md",children:o.jsx("p",{className:"text-red-600",children:"⚠️ Error: Datos de resumen incompletos"})});const a=async()=>{var u;try{s(!0);const c=hi({fecha:(u=e.clase)!=null&&u.fecha?Ae(e.clase.fecha):"Fecha no disponible",obrasEstudiadas:e.obrasEstudiadas||[],objetivosProximaClase:e.objetivosProximaClase||""});pi(c)}catch(c){console.error("Error al enviar por WhatsApp:",c),alert("❌ Error al procesar el envío por WhatsApp")}finally{s(!1)}},l=async()=>{if(window.confirm("¿Estás seguro de que quieres eliminar este resumen?"))try{await ur.eliminar(e._id),r(e._id),alert("✅ Resumen eliminado exitosamente")}catch(u){console.error("Error al eliminar resumen:",u),alert("❌ Error al eliminar el resumen")}};return o.jsxs("div",{className:"bg-white border-2 border-blue-200 rounded-lg p-4 shadow-md hover:shadow-lg transition-shadow",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("div",{children:o.jsxs("p",{className:"text-sm text-gray-600 font-bold",children:["📅 ",(i=e.clase)!=null&&i.fecha?Ae(e.clase.fecha):"Fecha no disponible"]})}),o.jsx("button",{onClick:l,className:"text-red-500 hover:text-red-700 text-sm",title:"Eliminar resumen",children:"🗑️"})]}),e.obrasEstudiadas&&e.obrasEstudiadas.length>0&&o.jsxs("div",{className:"mb-4",children:[o.jsxs("h5",{className:"text-sm font-medium text-gray-700 mb-2 text-left",children:["🎼 Obras (",e.obrasEstudiadas.length,")"]}),o.jsx("div",{className:"space-y-2",children:e.obrasEstudiadas.map((u,c)=>o.jsxs("div",{className:"bg-gray-50 p-3 rounded-md text-left",children:[o.jsxs("div",{className:"font-medium text-gray-800",children:[u.compositor," - ",u.obra]}),u.movimientosCompases&&o.jsxs("div",{className:"text-sm text-blue-600 mt-1",children:["📍 ",u.movimientosCompases]}),u.comentarios&&o.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["💬 ",u.comentarios]})]},c))})]}),e.objetivosProximaClase&&o.jsxs("div",{className:"mb-4",children:[o.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2 text-left",children:"🎯 Próxima Clase"}),o.jsx("div",{className:"bg-green-50 p-3 rounded-md text-left",children:o.jsx("p",{className:"text-sm text-gray-700",children:e.objetivosProximaClase})})]}),o.jsxs("div",{className:"flex gap-2 pt-3 border-t border-gray-200",children:[o.jsx("button",{onClick:()=>t(e),className:"flex-1 px-3 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"✏️ Editar"}),o.jsx("button",{onClick:a,disabled:n,className:"flex-1 px-3 py-2 text-sm bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 transition-colors",children:n?"Enviando...":"📱 WhatsApp"})]})]})},yt={no_iniciada:{label:"No iniciada",color:"bg-gray-400 hover:bg-gray-500",textColor:"text-white",icon:"⚪"},tomada:{label:"Tomada",color:"bg-green-500 hover:bg-green-600",textColor:"text-white",icon:"🟢"},ausente:{label:"Ausente",color:"bg-red-500 hover:bg-red-600",textColor:"text-white",icon:"🔴"},reprogramar:{label:"Reprogramar",color:"bg-amber-500 hover:bg-amber-600",textColor:"text-white",icon:"🟡"},recuperada:{label:"Recuperada",color:"bg-purple-500 hover:bg-purple-600",textColor:"text-white",icon:"🟣"}},tc=({clase:e,onEstadoChange:t,usuarioId:r,onResumenGuardado:n})=>{var _;const[s,a]=y.useState(!1),[l,i]=y.useState(!1),[u,c]=y.useState(!1),[f,d]=y.useState(!1),[h,b]=y.useState(e.notas||""),[v,x]=y.useState(e.notas||""),[w,p]=y.useState(e.fechaReprogramada?new Date(e.fechaReprogramada).toISOString().split("T")[0]:"");y.useEffect(()=>{b(e.notas||""),x(e.notas||"")},[e.notas]);const m=yt[e.estado]||yt.no_iniciada,g=()=>{i(!0)},k=async S=>{if(S==="reprogramar"&&!w){alert("Por favor selecciona una fecha para reprogramar la clase");return}a(!0);try{const N={estado:S,notas:h};S==="reprogramar"&&w&&(N.fechaReprogramada=Sx(w)),await Nt.actualizarEstado(e._id,N),t(e._id),i(!1)}catch(N){console.error("Error al cambiar estado:",N),alert("Error al cambiar el estado de la clase")}finally{a(!1)}},L=async()=>{a(!0);try{const S={estado:e.estado,notas:v};e.fechaReprogramada&&(S.fechaReprogramada=e.fechaReprogramada),await Nt.actualizarEstado(e._id,S),b(v),t(e._id),d(!1)}catch(S){console.error("Error al actualizar notas:",S),alert("Error al actualizar las notas: "+(S.message||"Error desconocido"))}finally{a(!1)}},j=()=>{x(h),d(!0)},R=async()=>{if(window.confirm("¿Estás seguro de que quieres eliminar las notas de esta clase?")){a(!0);try{const N={estado:e.estado,notas:""};e.fechaReprogramada&&(N.fechaReprogramada=e.fechaReprogramada),await Nt.actualizarEstado(e._id,N),b(""),x(""),d(!1),t(e._id)}catch(N){console.error("Error al eliminar notas:",N),alert("Error al eliminar las notas: "+(N.message||"Error desconocido"))}finally{a(!1)}}};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:`${m.color} ${m.textColor} p-4 rounded-lg shadow-md transition-all duration-200 transform hover:scale-105`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-2xl",children:m.icon}),o.jsx("span",{className:"text-sm font-semibold",children:m.label})]}),o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"font-bold mb-1",children:Ae(e.fecha)}),e.pago&&o.jsxs("p",{className:"opacity-90",children:["Pago: $",(_=e.pago.monto)==null?void 0:_.toLocaleString()]}),e.fechaReprogramada&&o.jsxs("p",{className:"mt-2 text-xs bg-white bg-opacity-30 rounded px-2 py-1",children:["📅 Reprogramada para: ",Ae(e.fechaReprogramada)]}),h&&o.jsxs("p",{className:"mt-2 text-xs bg-white bg-opacity-20 rounded px-2 py-1",children:["📝 ",h]})]}),o.jsxs("div",{className:"mt-3 flex gap-1",children:[o.jsx("button",{onClick:g,className:"flex-1 px-2 py-1 bg-white bg-opacity-20 hover:bg-opacity-30 rounded text-xs font-medium transition-colors",children:"Estado"}),h&&o.jsx("button",{onClick:j,className:"px-2 py-1 bg-white bg-opacity-20 hover:bg-opacity-30 rounded text-xs font-medium transition-colors",title:"Editar notas",children:"✏️"}),o.jsx("a",{href:`/alumnos/admin/resumen-clase/${e._id}?usuarioId=${r}&fecha=${encodeURIComponent(e.fecha)}&newTab=true`,target:"_blank",rel:"noopener noreferrer",onClick:S=>{if(S.stopPropagation(),!r){S.preventDefault(),alert("Error: No se puede abrir el resumen. Usuario no seleccionado.");return}console.log("Abriendo resumen via enlace"),console.log("Usuario ID:",r),console.log("Clase ID:",e._id),console.log("URL generada:",`/alumnos/admin/resumen-clase/${e._id}?usuarioId=${r}&fecha=${encodeURIComponent(e.fecha)}&newTab=true`)},className:"flex-1 px-2 py-1 bg-white bg-opacity-20 hover:bg-opacity-30 rounded text-xs font-medium transition-colors text-center inline-block",children:"📝 Resumen"})]})]}),l&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[o.jsx("h3",{className:"text-lg font-bold mb-4",children:"Cambiar estado de clase"}),o.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["📅 Fecha original: ",Ae(e.fecha)]}),e.fechaReprogramada&&o.jsxs("p",{className:"text-sm text-amber-600 mb-4 bg-amber-50 p-2 rounded",children:["🔄 Reprogramada para: ",Ae(e.fechaReprogramada)]}),o.jsx("div",{className:"grid grid-cols-1 gap-2 mb-4",children:Object.entries(yt).map(([S,N])=>o.jsxs("button",{onClick:()=>k(S),disabled:s,className:`${N.color} ${N.textColor} p-2 rounded text-sm font-semibold disabled:opacity-50 flex items-center gap-2`,children:[o.jsx("span",{children:N.icon}),N.label]},S))}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas (opcional)"}),o.jsx("textarea",{value:h,onChange:S=>b(S.target.value),className:"w-full p-2 border border-gray-300 rounded-md text-sm",rows:"3",placeholder:"Agregar notas sobre la clase..."})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de reprogramación"}),o.jsx("p",{className:"text-xs text-gray-500 mb-2",children:'Solo necesaria si seleccionas "Reprogramar". Deja vacío para otros estados.'}),o.jsx("input",{type:"date",value:w,onChange:S=>p(S.target.value),className:"w-full p-2 border border-gray-300 rounded-md text-sm",min:new Date().toISOString().split("T")[0]})]}),o.jsx("div",{className:"flex gap-2",children:o.jsx("button",{onClick:()=>i(!1),className:"flex-1 px-4 py-2 text-gray-600 bg-gray-200 rounded hover:bg-gray-300",children:"Cancelar"})})]})}),u&&o.jsx(gi,{claseId:e._id,usuarioId:r,fecha:e.fecha,onClose:()=>c(!1),onSave:()=>{n&&n()}}),f&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[o.jsx("h3",{className:"text-lg font-bold mb-4",children:"Editar notas de la clase"}),o.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["📅 Fecha: ",Ae(e.fecha)]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notas"}),o.jsx("textarea",{value:v,onChange:S=>x(S.target.value),className:"w-full p-3 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:"4",placeholder:"Agregar notas sobre la clase..."})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>{d(!1),x(h)},disabled:s,className:"px-4 py-2 text-gray-600 bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:"Cancelar"}),h&&o.jsx("button",{onClick:R,disabled:s,className:"px-4 py-2 text-red-600 bg-red-100 rounded hover:bg-red-200 disabled:opacity-50",title:"Eliminar notas",children:"🗑️"}),o.jsx("button",{onClick:L,disabled:s,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:s?"Guardando...":"Guardar"})]})]})})]})},Tx=({usuarioSeleccionado:e})=>{var vi,yi,wi,bi,ji,Ni;const{usuario:t}=Oe(),[r]=Pf(),[n,s]=y.useState([]),[a,l]=y.useState([]),[i,u]=y.useState(null),[c,f]=y.useState([]),[d,h]=y.useState(e||r.get("usuario")||""),[b,v]=y.useState({}),[x,w]=y.useState(!1),[p,m]=y.useState(""),[g,k]=y.useState(!1),[L,j]=y.useState([]),[R,_]=y.useState(!1),[S,N]=y.useState([]),[E,P]=y.useState(null),[z,U]=y.useState([]),[H,Ke]=y.useState(!1),[A,O]=y.useState(null),M=(t==null?void 0:t.rol)==="administrador",$=T=>`clases_orden_${T}`,G=(T,B)=>{try{const I=$(T);localStorage.setItem(I,JSON.stringify(B))}catch(I){console.error("Error al guardar orden en localStorage:",I)}},W=T=>{try{const B=$(T),I=localStorage.getItem(B);return I?JSON.parse(I):null}catch(B){return console.error("Error al obtener orden de localStorage:",B),null}};y.useEffect(()=>{(async()=>{try{const B=await Xe.obtenerTodos();f(B.data)}catch(B){console.error("Error al obtener usuarios:",B)}})()},[]),y.useEffect(()=>{const T=r.get("usuario");T&&T!==d&&h(T)},[r]),y.useEffect(()=>{d?(N([]),P(null),Y(),Z()):(N([]),s([]),l([]),u(null),P(null),U([]))},[d]),y.useEffect(()=>{if(n.length>0&&d){const T=W(d);N(B=>{if(T&&T.length>0){const I=[],ee=[...n];return T.forEach(Ee=>{const br=ee.find(nn=>nn._id===Ee);if(br){I.push(br);const nn=ee.findIndex(am=>am._id===Ee);ee.splice(nn,1)}}),ee.forEach(Ee=>{I.push(Ee)}),I}else{const I=[...n].sort((Ee,br)=>new Date(Ee.fecha)-new Date(br.fecha)),ee=I.map(Ee=>Ee._id);return G(d,ee),I}})}else N([])},[n,d]),y.useEffect(()=>{M&&he()},[M]),y.useEffect(()=>{fe()},[n,a]),y.useEffect(()=>{const T=B=>{if(B.key==="resumen_update_event"&&B.newValue)try{const I=JSON.parse(B.newValue);console.log("📝 Evento de resumen detectado:",I),I.type==="resumen_guardado"&&I.usuarioId===d&&(console.log("🔄 Recargando resúmenes por actualización desde nueva pestaña..."),Z())}catch(I){console.error("Error al procesar evento de resumen:",I)}};return window.addEventListener("storage",T),()=>{window.removeEventListener("storage",T)}},[d]);const Y=async()=>{if(d){w(!0),m("");try{const T=await Nt.obtenerSeparadas(d);s(T.data.clasesUltimoPago),l(T.data.historialClases),u(T.data.ultimoPago)}catch(T){m("Error al cargar las clases"),console.error("Error:",T)}finally{w(!1)}}},Z=async()=>{if(!d){U([]);return}console.log("🔄 Cargando resúmenes para usuario:",d),Ke(!0);try{const T=await ur.obtenerPorUsuario(d);console.log("📝 Respuesta de resúmenes:",T.data);const B=(T.data.resumenes||[]).filter(I=>I&&I.clase&&I.clase.fecha);console.log("✅ Resúmenes válidos:",B.length,"de",(T.data.resumenes||[]).length),B.length!==(T.data.resumenes||[]).length&&console.warn("⚠️ Se filtraron resúmenes con datos incompletos de clase"),U(B)}catch(T){console.error("❌ Error al cargar resúmenes:",T),U([])}finally{Ke(!1)}},fe=()=>{if(!d){v({no_iniciada:0,tomada:0,ausente:0,reprogramar:0,recuperada:0});return}try{const T=[...n,...a];if(T.length===0){v({no_iniciada:0,tomada:0,ausente:0,reprogramar:0,recuperada:0});return}const I={no_iniciada:0,tomada:0,ausente:0,reprogramar:0,recuperada:0,...T.reduce((ee,Ee)=>(ee[Ee.estado]=(ee[Ee.estado]||0)+1,ee),{})};v(I)}catch(T){console.error("Error al calcular resumen:",T)}},he=async()=>{_(!0);try{const T=await Nt.obtenerEstudiantesPorDia();j(T.data)}catch(T){console.error("Error al cargar estudiantes por día:",T)}finally{_(!1)}},ge=T=>{Y().then(()=>{N(B=>{const I=[...B],ee=I.findIndex(Ee=>Ee._id===T);if(ee!==-1){const[Ee]=I.splice(ee,1);if(I.push(Ee),d){const br=I.map(nn=>nn._id);G(d,br)}}return I})})},rs=()=>{if(d&&n.length>0){const T=[...n].sort((I,ee)=>new Date(I.fecha)-new Date(ee.fecha));N(T);const B=T.map(I=>I._id);G(d,B)}},xi=T=>{P(E===T?null:T)},wr=T=>E?T.filter(B=>B.estado===E):T,rm=T=>{O(T)},nm=T=>{U(B=>B.filter(I=>I._id!==T))},sm=()=>{console.log("💾 Resumen guardado, recargando lista de resúmenes..."),Z(),O(null)},rn=c.find(T=>T._id===d);return o.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Gestión de Clases"}),M&&o.jsx("div",{className:"mb-8",children:o.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:R?o.jsx(gr,{title:"Cargando estudiantes...",subtitle:"Agrupando por días de la semana",size:"small"}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:L.filter(T=>T.dia!=="1").map(T=>o.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-2 text-sm",children:T.nombreDia}),o.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:[T.estudiantes.length," estudiante",T.estudiantes.length!==1?"s":""]}),T.estudiantes.length>0?o.jsxs("div",{className:"space-y-2",children:[T.estudiantes.map(B=>o.jsx("div",{className:"p-2 bg-blue-50 rounded text-xs cursor-pointer hover:bg-blue-100 transition-colors",onClick:()=>h(B._id),children:o.jsx("div",{className:"font-medium text-blue-900",children:B.nombre})},B._id)),"                        "]}):o.jsx("div",{className:"text-xs text-gray-400 italic",children:"Sin estudiantes"})]},T.dia))})})}),!d&&o.jsxs("div",{className:"mb-6 bg-gray-50 rounded-lg p-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"🔍 Búsqueda Manual de Usuario"}),o.jsx("div",{className:"flex gap-4 items-end",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seleccionar Usuario Específico"}),o.jsxs("select",{value:d,onChange:T=>h(T.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:[o.jsx("option",{value:"",children:"Seleccionar usuario..."}),c.map(T=>o.jsxs("option",{value:T._id,children:[T.nombre," ",T.apellido," (",T.email,")"]},T._id))]})]})})]}),d&&o.jsxs(o.Fragment,{children:[rn&&o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-6 shadow-sm",children:[o.jsxs("div",{className:"hidden md:grid md:grid-cols-12 md:gap-6 md:items-center",children:[o.jsx("div",{className:"col-span-4",children:o.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["👤 ",rn.nombre," ",rn.apellido]})}),o.jsx("div",{className:"col-span-4",children:i&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-green-700",children:["Último Pago - $",(vi=i.monto)==null?void 0:vi.toLocaleString()]}),i.descripcion&&o.jsx("p",{className:"text-green-600 text-sm",children:i.descripcion})]})}),o.jsx("div",{className:"col-span-4",children:Object.keys(b).length>0&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[o.jsx("p",{className:"text-xs text-gray-500",children:"📊 Resumen Total (Todas las clases)"}),E&&o.jsx("button",{onClick:()=>P(null),className:"text-xs text-red-600 hover:text-red-800 font-medium bg-red-50 px-2 py-1 rounded",title:"Limpiar filtro",children:"✕ Limpiar filtro"})]}),o.jsx("div",{className:"grid grid-cols-5 gap-1",children:Object.entries(yt).map(([T,B])=>{const I=E===T,ee=(b[T]||0)>0;return o.jsx("div",{className:`
                                p-1 rounded text-center border transition-all duration-200 cursor-pointer
                                ${I?`${B.color} ${B.textColor} ring-2 ring-offset-1 ring-blue-500 shadow-md`:ee?"bg-gray-50 hover:bg-gray-100 hover:shadow-md transform hover:scale-105":"bg-gray-50 opacity-60"}
                                ${ee?"":"cursor-not-allowed"}
                              `,title:`${B.label}: ${b[T]||0} clase${(b[T]||0)!==1?"s":""}${ee?" - Click para filtrar":""}`,onClick:()=>ee&&xi(T),children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("span",{className:"text-xs mb-0.5",children:B.icon}),o.jsx("span",{className:`text-xs font-medium mb-0.5 leading-tight ${I?"text-white":"text-gray-600"}`,children:B.label}),o.jsx("p",{className:`text-sm font-bold ${I?"text-white":"text-gray-800"}`,children:b[T]||0})]})},T)})})]})})]}),o.jsxs("div",{className:"md:hidden",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:["👤 ",rn.nombre," ",rn.apellido]}),i&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-base font-semibold text-green-700",children:["Último Pago - $",(yi=i.monto)==null?void 0:yi.toLocaleString()]}),i.descripcion&&o.jsx("p",{className:"text-green-600 text-sm",children:i.descripcion})]})]}),Object.keys(b).length>0&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[o.jsx("p",{className:"text-xs text-gray-500",children:"📊 Resumen Total (Todas las clases)"}),E&&o.jsx("button",{onClick:()=>P(null),className:"text-xs text-red-600 hover:text-red-800 font-medium bg-red-50 px-2 py-1 rounded",title:"Limpiar filtro",children:"✕ Limpiar filtro"})]}),o.jsx("div",{className:"grid grid-cols-5 gap-2",children:Object.entries(yt).map(([T,B])=>{const I=E===T,ee=(b[T]||0)>0;return o.jsx("div",{className:`
                              p-2 rounded text-center border transition-all duration-200 cursor-pointer
                              ${I?`${B.color} ${B.textColor} ring-2 ring-offset-1 ring-blue-500 shadow-md`:ee?"bg-gray-50 hover:bg-gray-100 hover:shadow-md transform hover:scale-105":"bg-gray-50 opacity-60"}
                              ${ee?"":"cursor-not-allowed"}
                            `,title:`${B.label}: ${b[T]||0} clase${(b[T]||0)!==1?"s":""}${ee?" - Click para filtrar":""}`,onClick:()=>ee&&xi(T),children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("span",{className:"text-sm mb-1",children:B.icon}),o.jsx("span",{className:`text-xs font-medium mb-1 leading-tight ${I?"text-white":"text-gray-600"}`,children:B.label}),o.jsx("p",{className:`text-base font-bold ${I?"text-white":"text-gray-800"}`,children:b[T]||0})]})},T)})})]})]})]}),z.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["📚 Resúmenes de Clase Guardados (",z.length,")"]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:z.map(T=>o.jsx(Lx,{resumen:T,onEdit:rm,onDelete:nm},T._id))})]}),x?o.jsx(gr,{title:"Cargando clases...",subtitle:"Obteniendo información de las clases",showRenderMessage:!0,size:"small"}):p?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("p",{className:"text-red-600",children:p}),o.jsx("button",{onClick:Y,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Reintentar"})]}):i?n.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-gray-600",children:"No hay clases programadas para el último pago."})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:E?`${wr(n).length} Clases Filtradas`:`${n.length} Clases Actuales`}),o.jsx("p",{className:"text-sm text-gray-600",children:E?o.jsxs(o.Fragment,{children:["Mostrando solo: ",o.jsx("span",{className:"font-medium text-blue-600",children:(wi=yt[E])==null?void 0:wi.label})," • Total de clases: ",n.length+a.length]}):o.jsxs(o.Fragment,{children:["Pago actual • Total de clases: ",n.length+a.length]})})]}),o.jsxs("div",{className:"flex gap-2",children:[E&&o.jsxs("button",{onClick:()=>P(null),className:"inline-flex items-center gap-2 px-3 py-2 text-sm text-red-600 bg-red-50 rounded-lg hover:bg-red-100 transition-colors",title:"Limpiar filtro",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Limpiar filtro"]}),o.jsxs("button",{onClick:rs,className:"inline-flex items-center gap-2 px-3 py-2 text-sm text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",title:"Resetear orden a cronológico",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Resetear orden"]})]})]}),E&&wr(n).length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsxs("p",{className:"text-gray-600",children:['No hay clases con estado "',(bi=yt[E])==null?void 0:bi.label,'" en el pago actual.']}),o.jsx("button",{onClick:()=>P(null),className:"mt-2 px-4 py-2 text-blue-600 bg-blue-50 rounded hover:bg-blue-100",children:"Ver todas las clases"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:wr(S.length>0?S:n).map(T=>o.jsx(tc,{clase:T,usuarioId:d,onEstadoChange:ge,onResumenGuardado:Z},T._id))})]}),a.length>0&&o.jsx("div",{className:"mt-8",children:o.jsxs("details",{className:"bg-gray-50 rounded-lg overflow-hidden",open:g,onToggle:T=>k(T.target.open),children:[o.jsx("summary",{className:"cursor-pointer p-4 bg-gray-100 hover:bg-gray-200 transition-colors",children:o.jsxs("h3",{className:"text-lg font-semibold text-gray-800 inline-flex items-center gap-2",children:["📋 Historial de Clases",E?o.jsxs("span",{className:"text-sm font-normal text-gray-600",children:["(",wr(a).length," de ",a.length," - ",(ji=yt[E])==null?void 0:ji.label,")"]}):o.jsxs("span",{className:"text-sm font-normal text-gray-600",children:["(",a.length,")"]}),o.jsx("span",{className:"text-sm font-normal text-gray-600",children:"(Pagos anteriores - incluidas en el resumen total)"})]})}),o.jsx("div",{className:"p-4",children:E&&wr(a).length===0?o.jsx("div",{className:"text-center py-4",children:o.jsxs("p",{className:"text-gray-600",children:['No hay clases con estado "',(Ni=yt[E])==null?void 0:Ni.label,'" en el historial.']})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:wr(a).map(T=>o.jsx(tc,{clase:T,usuarioId:d,onEstadoChange:ge,onResumenGuardado:Z},T._id))})})]})})]}):o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-gray-600",children:"No hay pagos registrados para este usuario."})})]}),A&&o.jsx(gi,{claseId:A.clase._id,usuarioId:d,fecha:A.clase.fecha,resumenExistente:A,onClose:()=>O(null),onSave:sm})]})},Ox=()=>{const{usuario:e}=Oe(),[t,r]=y.useState([]),[n,s]=y.useState(!0),[a,l]=y.useState(""),[i,u]=y.useState(""),[c,f]=y.useState([]),[d,h]=y.useState(new Set),[b,v]=y.useState(!1),x=y.useRef(null),w=()=>{if(!x.current)return;const j=Array.from(x.current.querySelectorAll(".partitura-card"));if(j.length===0)return;j.forEach(N=>{N.style.height="auto"});const R=[];let _=[],S=null;j.forEach(N=>{const E=N.offsetTop;S===null||E===S?(_.push(N),S=E):(R.push(_),_=[N],S=E)}),_.length>0&&R.push(_),R.forEach(N=>{const E=Math.max(...N.map(P=>P.offsetHeight));N.forEach(P=>{P.style.height=`${E}px`})})};y.useEffect(()=>{const j=setTimeout(()=>{w()},100);return()=>clearTimeout(j)},[c]),y.useEffect(()=>{const j=()=>{const R=setTimeout(()=>{w()},100);return()=>clearTimeout(R)};return window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]),y.useEffect(()=>{p()},[]),y.useEffect(()=>{let j=t;if(i.trim()){const R=k(i);j=j.filter(_=>{var S;return k(_.compositor).includes(R)||k(_.obra).includes(R)||((S=_.movimientos)==null?void 0:S.some(N=>N.nombre&&k(N.nombre).includes(R)))})}b&&(j=j.filter(R=>d.has(R._id))),f(j)},[i,t,d,b]);const p=async()=>{var j,R;try{s(!0);const S=(await Ar.obtenerTodas()).data||[];r(S),f(S),S.length===0&&l("No se encontraron partituras en la base de datos")}catch(_){l("Error al cargar partituras: "+(((R=(j=_.response)==null?void 0:j.data)==null?void 0:R.message)||_.message))}finally{s(!1)}},m=async j=>{var _,S,N,E;if(!(e!=null&&e._id)){console.error("Usuario no autenticado");return}const R=d.has(j);h(R?P=>{const z=new Set(P);return z.delete(j),z}:P=>new Set([...P,j]));try{await Xe.alternarFavorito(e._id,j)}catch(P){console.error("Error al alternar favorito:",P),console.error("Detalles del error:",{status:(_=P.response)==null?void 0:_.status,message:(N=(S=P.response)==null?void 0:S.data)==null?void 0:N.message,url:(E=P.config)==null?void 0:E.url}),h(R?z=>new Set([...z,j]):z=>{const U=new Set(z);return U.delete(j),U}),l("Error al actualizar favorito. Inténtalo de nuevo.")}},g=async()=>{var j,R,_,S;if(e!=null&&e._id)try{const E=(await Xe.obtenerFavoritos(e._id)).data.map(P=>P._id||P);h(new Set(E))}catch(N){console.error("Error al cargar favoritos:",N),console.error("Detalles del error:",{status:(j=N.response)==null?void 0:j.status,message:(_=(R=N.response)==null?void 0:R.data)==null?void 0:_.message,url:(S=N.config)==null?void 0:S.url});try{const E=localStorage.getItem(`favoritos-partituras-${e._id}`);E&&h(new Set(JSON.parse(E)))}catch(E){console.error("Error al cargar favoritos desde localStorage:",E)}}};y.useEffect(()=>{g()},[e]);const k=j=>j.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),L=({partitura:j})=>{const R=d.has(j._id),_=()=>{setTimeout(()=>{w()},50)};return o.jsx("div",{className:"bg-indigo-100 border border-indigo-200 rounded-lg shadow-sm dark:bg-gray-800 dark:border-gray-700 h-full flex flex-col min-w-[380px] min-h-[130px] partitura-card transition-all duration-300 ease-in-out",children:o.jsxs("div",{className:"p-4 text-left flex-1 flex flex-col",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsx("h5",{className:"text-2xl font-bold tracking-tight text-gray-900 dark:text-white flex-1 mr-2",children:j.compositor}),o.jsx("button",{onClick:()=>m(j._id),className:`p-1 rounded-full transition-colors flex-shrink-0 ${R?"text-amber-500 hover:text-amber-600":"text-slate-400 hover:text-amber-500"}`,title:R?"Quitar de favoritos":"Agregar a favoritos",children:o.jsx("svg",{className:"w-6 h-6",fill:R?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})})]}),o.jsx("p",{className:"mb-3 text-lg font-semibold text-gray-700 dark:text-gray-400",children:j.obra}),o.jsxs("div",{className:"mt-auto space-y-2",children:[(j.partituraCello||j.partituraPiano)&&o.jsxs("details",{name:"detalles",className:"mb-2",onToggle:_,children:[o.jsx("summary",{className:"py-2 px-3 bg-indigo-100 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-indigo-200 dark:hover:bg-gray-600 transition-colors font-medium text-gray-900 dark:text-white",children:"Partituras"}),o.jsxs("div",{className:"mt-1 space-y-2",children:[j.partituraCello&&o.jsxs("a",{href:j.partituraCello,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between py-2 px-3 text-gray-900 dark:text-gray-300 hover:bg-indigo-200 dark:hover:bg-gray-600 rounded-md transition-colors",children:[o.jsx("span",{className:"text-sm font-medium",children:"Violoncello"}),o.jsx("svg",{className:"w-5 h-5 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})]}),j.partituraPiano&&o.jsxs("a",{href:j.partituraPiano,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between py-2 px-3 text-gray-900 dark:text-gray-300 hover:bg-indigo-200 dark:hover:bg-gray-600 rounded-md transition-colors",children:[o.jsx("span",{className:"text-sm font-medium",children:"Piano/Otro"}),o.jsx("svg",{className:"w-5 h-5 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})]})]})]}),j.movimientos&&j.movimientos.length>0&&o.jsxs("details",{name:"detalles",onToggle:_,children:[o.jsxs("summary",{className:"py-2 px-3 bg-indigo-100 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-indigo-200 dark:hover:bg-gray-600 transition-colors font-medium text-gray-900 dark:text-white",children:["Acompañamientos (",j.movimientos.length,")"]}),o.jsx("div",{className:"mt-1 space-y-1",children:j.movimientos.map((S,N)=>o.jsxs("details",{name:"movimientos",className:"ml-4",onToggle:_,children:[o.jsx("summary",{className:"py-2 px-3 bg-indigo-100 dark:bg-gray-600 rounded-md cursor-pointer hover:bg-indigo-200 dark:hover:bg-gray-500 transition-colors text-medium text-gray-800 dark:text-gray-200",children:S.nombre}),(S.subtitulo||S.descripcion||S.duracion)&&o.jsx("p",{className:"mt-1 mb-2 text-sm text-gray-600 dark:text-gray-400 px-3",children:S.subtitulo||S.descripcion||S.duracion}),S.audios&&S.audios.length>0?o.jsx("div",{className:"mt-2 flex flex-wrap gap-2 px-3",children:S.audios.map((E,P)=>o.jsx("a",{href:E.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center w-9 h-9 text-sm font-semibold text-white bg-indigo-500 rounded-lg hover:bg-indigo-600 focus:ring-2 focus:outline-none focus:ring-indigo-300 transition-colors",children:E.nombre},P))}):o.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400 italic px-3",children:S.descripcion||S.duracion?"Movimiento configurado (estructura heredada)":"No hay acompañamientos disponibles"})]},N))})]})]})]})})};return n?o.jsx(gr,{title:"Cargando partituras...",subtitle:"Obteniendo la colección de partituras musicales",showRenderMessage:!0,size:"large"}):o.jsxs("div",{className:"px-4 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{className:"text-center mb-6",children:o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Partituras"})}),(e==null?void 0:e.isAdmin)&&o.jsx("div",{className:"flex justify-center",children:o.jsxs(Mt,{to:"/admin-partituras",className:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 focus:ring-2 focus:outline-none focus:ring-indigo-300 transition-colors",children:[o.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Administrar Partituras"]})})]}),o.jsx("div",{className:"mb-6 flex justify-center",children:o.jsxs("div",{className:"relative max-w-lg w-full",children:[o.jsx("div",{className:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none",children:o.jsx("svg",{className:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:o.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})})}),o.jsx("input",{type:"search",value:i,onChange:j=>u(j.target.value),className:"block w-full p-4 ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Buscar por compositor, obra o movimiento..."})]})}),o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsxs("button",{onClick:()=>v(!1),className:`inline-flex items-center px-4 py-2 text-sm font-medium rounded-lg border transition-colors ${b?"bg-slate-50 text-slate-700 border-slate-300 hover:bg-slate-100 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-700":"bg-blue-500 text-white border-blue-500 hover:bg-blue-600"}`,children:[o.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14-7l-7 7-7-7m14 18l-7-7-7 7"})}),"Todas las partituras (",t.length,")"]}),o.jsxs("button",{onClick:()=>v(!0),className:`inline-flex items-center px-4 py-2 text-sm font-medium rounded-lg border transition-colors ${b?"bg-amber-400 text-amber-900 border-amber-400 hover:bg-amber-500":"bg-slate-50 text-slate-700 border-slate-300 hover:bg-slate-100 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-700"}`,children:[o.jsx("svg",{className:"w-4 h-4 mr-2",fill:b?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),"Solo favoritas (",d.size,")"]}),o.jsxs("div",{className:"flex items-center px-3 py-2 text-sm text-slate-600 dark:text-gray-400 bg-slate-100 dark:bg-gray-700 rounded-lg",children:[o.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Mostrando: ",c.length]})]})}),a&&o.jsxs("div",{className:"mb-6 p-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert",children:[o.jsx("span",{className:"font-medium",children:"Error:"})," ",a]}),c.length>0?o.jsx("div",{ref:x,className:"grid grid-cols-[repeat(auto-fill,minmax(380px,380px))] gap-6 items-start justify-center",children:c.map(j=>o.jsx(L,{partitura:j},j._id))}):!n&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-gray-500 dark:text-gray-400 mb-4",children:o.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-.895 2-2 2s-2-.895-2-2 .895-2 2-2 2 .895 2 2zm12-3c0 1.105-.895 2-2 2s-2-.895-2-2 .895-2 2-2 2 .895 2 2zM9 10l12-3"})})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No se encontraron partituras"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:i?"Intenta con diferentes términos de búsqueda.":"No hay partituras disponibles en este momento."})]})]})},Fx=()=>{const{usuario:e}=Oe(),[t,r]=y.useState([]),[n,s]=y.useState(!0),[a,l]=y.useState(""),[i,u]=y.useState(""),[c,f]=y.useState(!1),[d,h]=y.useState(null),[b,v]=y.useState({compositor:"",obra:"",partituraCello:"",partituraPiano:"",movimientos:[]});y.useEffect(()=>{x()},[]);const x=async()=>{var N,E;try{s(!0);const P=await Ar.obtenerTodas();r(P.data||[])}catch(P){l("Error al cargar partituras: "+(((E=(N=P.response)==null?void 0:N.data)==null?void 0:E.message)||P.message))}finally{s(!1)}},w=()=>{v({compositor:"",obra:"",partituraCello:"",partituraPiano:"",movimientos:[]}),h(null),f(!1),l(""),u("")},p=N=>{v({compositor:N.compositor||"",obra:N.obra||"",partituraCello:N.partituraCello||"",partituraPiano:N.partituraPiano||"",movimientos:(N.movimientos||[]).map(E=>({nombre:E.nombre||"",subtitulo:E.subtitulo||E.descripcion||E.duracion||"",audios:(E.audios||[]).map(P=>({nombre:P.nombre||"",url:P.url||""}))}))}),h(N),f(!0)},m=()=>{v(N=>({...N,movimientos:[...N.movimientos,{nombre:"",subtitulo:"",audios:[]}]}))},g=(N,E,P)=>{v(z=>({...z,movimientos:z.movimientos.map((U,H)=>H===N?{...U,[E]:P}:U)}))},k=N=>{v(E=>({...E,movimientos:E.movimientos.filter((P,z)=>z!==N)}))},L=N=>{v(E=>({...E,movimientos:E.movimientos.map((P,z)=>z===N?{...P,audios:[...P.audios||[],{nombre:"",url:""}]}:P)}))},j=(N,E,P,z)=>{v(U=>({...U,movimientos:U.movimientos.map((H,Ke)=>Ke===N?{...H,audios:(H.audios||[]).map((A,O)=>O===E?{...A,[P]:z}:A)}:H)}))},R=(N,E)=>{v(P=>({...P,movimientos:P.movimientos.map((z,U)=>U===N?{...z,audios:(z.audios||[]).filter((H,Ke)=>Ke!==E)}:z)}))},_=async N=>{var E,P;if(N.preventDefault(),!b.compositor.trim()||!b.obra.trim()||!b.partituraCello.trim()){l("Los campos Compositor, Obra y Partitura de Violoncello son obligatorios");return}try{s(!0),l(""),d?(await Ar.actualizar(d._id,b),u("Partitura actualizada exitosamente")):(await Ar.crear(b),u("Partitura creada exitosamente")),await x(),w()}catch(z){l("Error al guardar partitura: "+(((P=(E=z.response)==null?void 0:E.data)==null?void 0:P.message)||z.message))}finally{s(!1)}},S=async N=>{var E,P;if(window.confirm("¿Estás seguro de que quieres eliminar esta partitura?"))try{s(!0),await Ar.eliminar(N),u("Partitura eliminada exitosamente"),await x()}catch(z){l("Error al eliminar partitura: "+(((P=(E=z.response)==null?void 0:E.data)==null?void 0:P.message)||z.message))}finally{s(!1)}};return n&&!c?o.jsx(gr,{title:"Cargando gestión de partituras...",subtitle:"Obteniendo datos del sistema",showRenderMessage:!0,size:"large"}):o.jsxs("div",{className:"px-4 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Gestión de Partituras"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Administrar partituras del sistema"})]}),!c&&o.jsx("div",{className:"flex justify-center",children:o.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 focus:ring-2 focus:outline-none focus:ring-blue-300 transition-colors",children:[o.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Nueva Partitura"]})})]}),a&&o.jsxs("div",{className:"mb-6 p-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert",children:[o.jsx("span",{className:"font-medium",children:"Error:"})," ",a]}),i&&o.jsxs("div",{className:"mb-6 p-4 text-sm text-green-800 rounded-lg bg-green-50 dark:bg-gray-800 dark:text-green-400",role:"alert",children:[o.jsx("span",{className:"font-medium",children:"Éxito:"})," ",i]}),c&&o.jsxs("div",{className:"mb-8 bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:d?"Editar Partitura":"Nueva Partitura"}),o.jsx("button",{onClick:w,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("form",{onSubmit:_,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Compositor *"}),o.jsx("input",{type:"text",required:!0,value:b.compositor||"",onChange:N=>v(E=>({...E,compositor:N.target.value})),className:"block w-full p-3 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",placeholder:"Ej: Bach, J.S."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Obra *"}),o.jsx("input",{type:"text",required:!0,value:b.obra||"",onChange:N=>v(E=>({...E,obra:N.target.value})),className:"block w-full p-3 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",placeholder:"Ej: Bach for the Cello - Álbum"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Enlace Partitura Violoncello *"}),o.jsx("input",{type:"url",required:!0,value:b.partituraCello||"",onChange:N=>v(E=>({...E,partituraCello:N.target.value})),className:"block w-full p-3 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",placeholder:"https://drive.google.com/..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Enlace Partitura Piano/Otros (opcional)"}),o.jsx("input",{type:"url",value:b.partituraPiano||"",onChange:N=>v(E=>({...E,partituraPiano:N.target.value})),className:"block w-full p-3 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",placeholder:"https://drive.google.com/..."})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Movimientos"}),o.jsxs("button",{type:"button",onClick:m,className:"inline-flex items-center px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 focus:ring-2 focus:outline-none focus:ring-blue-300 dark:bg-blue-900 dark:text-blue-300 dark:hover:bg-blue-800",children:[o.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Agregar Movimiento"]})]}),b.movimientos.map((N,E)=>o.jsxs("div",{className:"mb-6 p-4 border border-gray-200 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white",children:["Movimiento ",E+1]}),o.jsx("button",{type:"button",onClick:()=>k(E),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-200",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nombre del Movimiento"}),o.jsx("input",{type:"text",value:N.nombre||"",onChange:P=>g(E,"nombre",P.target.value),className:"block w-full p-2 text-sm text-gray-900 border border-gray-300 rounded-lg bg-white focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white",placeholder:"Ej: March in G"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Subtítulo (cuenta/tempo)"}),o.jsx("input",{type:"text",value:N.subtitulo||"",onChange:P=>g(E,"subtitulo",P.target.value),className:"block w-full p-2 text-sm text-gray-900 border border-gray-300 rounded-lg bg-white focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white",placeholder:"Ej: La cuenta es de 4 negras"})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Audios (velocidades)"}),o.jsxs("button",{type:"button",onClick:()=>L(E),className:"inline-flex items-center px-2 py-1 text-xs font-medium text-green-600 bg-green-50 rounded hover:bg-green-100 focus:ring-2 focus:outline-none focus:ring-green-300 dark:bg-green-900 dark:text-green-300 dark:hover:bg-green-800",children:[o.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Agregar Audio"]})]}),(N.audios||[]).map((P,z)=>o.jsxs("div",{className:"flex gap-2 mb-2",children:[o.jsx("input",{type:"text",value:P.nombre||"",onChange:U=>j(E,z,"nombre",U.target.value),className:"w-20 p-2 text-sm text-gray-900 border border-gray-300 rounded bg-white focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white",placeholder:"60"}),o.jsx("input",{type:"url",value:P.url||"",onChange:U=>j(E,z,"url",U.target.value),className:"flex-1 p-2 text-sm text-gray-900 border border-gray-300 rounded bg-white focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white",placeholder:"https://app.box.com/..."}),o.jsx("button",{type:"button",onClick:()=>R(E,z),className:"p-2 text-red-600 hover:text-red-800 dark:text-red-400",children:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},z))]})]},E))]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:ring-2 focus:outline-none focus:ring-blue-300 dark:bg-gray-600 dark:text-gray-300 dark:border-gray-500 dark:hover:bg-gray-700",children:"Cancelar"}),o.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:ring-2 focus:outline-none focus:ring-blue-300 disabled:opacity-50",children:n?"Guardando...":d?"Actualizar":"Crear"})]})]})]}),!c&&o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:o.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Partituras Existentes (",t.length,")"]})}),t.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-gray-500 dark:text-gray-400 mb-4",children:o.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-.895 2-2 2s-2-.895-2-2 .895-2 2-2 2 .895 2 2zm12-3c0 1.105-.895 2-2 2s-2-.895-2-2 .895-2 2-2 2 .895 2 2zM9 10l12-3"})})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No hay partituras"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Comienza creando tu primera partitura."})]}):o.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:t.map(N=>{var E,P;return o.jsx("div",{className:"p-6 hover:bg-gray-50 dark:hover:bg-gray-700",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:N.compositor}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:N.obra}),o.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 space-x-4",children:[o.jsxs("span",{children:["Movimientos: ",((E=N.movimientos)==null?void 0:E.length)||0]}),o.jsxs("span",{children:["Total audios: ",((P=N.movimientos)==null?void 0:P.reduce((z,U)=>{var H;return z+(((H=U.audios)==null?void 0:H.length)||0)},0))||0]})]})]}),o.jsxs("div",{className:"flex items-center space-x-3 ml-6",children:[o.jsxs("button",{onClick:()=>p(N),className:"inline-flex items-center px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 focus:ring-2 focus:outline-none focus:ring-blue-300 dark:bg-blue-900 dark:text-blue-300 dark:hover:bg-blue-800 transition-colors",children:[o.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Editar"]}),o.jsxs("button",{onClick:()=>S(N._id),className:"inline-flex items-center px-3 py-2 text-sm font-medium text-red-600 bg-red-50 rounded-lg hover:bg-red-100 focus:ring-2 focus:outline-none focus:ring-red-300 dark:bg-red-900 dark:text-red-300 dark:hover:bg-red-800 transition-colors",children:[o.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Eliminar"]})]})]})},N._id)})})]})]})},Ax=()=>{const{usuario:e}=Oe(),[t,r]=y.useState([]),[n,s]=y.useState(!0),[a,l]=y.useState(""),[i,u]=y.useState(""),[c,f]=y.useState("");y.useEffect(()=>{e!=null&&e._id&&d()},[e]);const d=async()=>{var x;try{s(!0);const w=await ur.obtenerPorUsuario(e._id);r(((x=w.data)==null?void 0:x.resumenes)||[])}catch(w){console.error("Error al cargar resúmenes:",w),l("Error al cargar las clases")}finally{s(!1)}},h=t.filter(x=>{var m,g;const w=!i||new Date((m=x.clase)==null?void 0:m.fecha).toISOString().split("T")[0]>=i,p=!c||((g=x.clase)==null?void 0:g.estado)===c;return w&&p}),b=x=>new Date(x).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}),v=x=>{const w={completada:"bg-green-100 text-green-800 border-green-200",reprogramada:"bg-yellow-100 text-yellow-800 border-yellow-200",cancelada:"bg-red-100 text-red-800 border-red-200"},p={completada:"Completada",reprogramada:"Reprogramada",cancelada:"Cancelada"};return o.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-md border ${w[x]||"bg-gray-100 text-gray-800 border-gray-200"}`,children:p[x]||x})};return n?o.jsx("div",{className:"flex justify-center items-center min-h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Cargando mis clases..."})]})}):o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Mis Clases"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Visualiza el estado y resumen de tus clases"})]}),o.jsxs("div",{className:"mb-6 flex flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Desde fecha"}),o.jsx("input",{type:"date",value:i,onChange:x=>u(x.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),o.jsxs("select",{value:c,onChange:x=>f(x.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[o.jsx("option",{value:"",children:"Todos los estados"}),o.jsx("option",{value:"completada",children:"Completada"}),o.jsx("option",{value:"reprogramada",children:"Reprogramada"}),o.jsx("option",{value:"cancelada",children:"Cancelada"})]})]})]}),o.jsxs("div",{className:"mb-8 grid grid-cols-1 sm:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[o.jsx("div",{className:"text-blue-600 text-2xl font-bold",children:t.length}),o.jsx("div",{className:"text-blue-800 text-sm font-medium",children:"Total de clases"})]}),o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[o.jsx("div",{className:"text-green-600 text-2xl font-bold",children:t.filter(x=>{var w;return((w=x.clase)==null?void 0:w.estado)==="completada"}).length}),o.jsx("div",{className:"text-green-800 text-sm font-medium",children:"Completadas"})]}),o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[o.jsx("div",{className:"text-yellow-600 text-2xl font-bold",children:t.filter(x=>{var w;return((w=x.clase)==null?void 0:w.estado)==="reprogramada"}).length}),o.jsx("div",{className:"text-yellow-800 text-sm font-medium",children:"Reprogramadas"})]}),o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[o.jsx("div",{className:"text-red-600 text-2xl font-bold",children:t.filter(x=>{var w;return((w=x.clase)==null?void 0:w.estado)==="cancelada"}).length}),o.jsx("div",{className:"text-red-800 text-sm font-medium",children:"Canceladas"})]})]}),a&&o.jsxs("div",{className:"mb-6 p-4 text-sm text-red-800 rounded-lg bg-red-50",role:"alert",children:[o.jsx("span",{className:"font-medium",children:"Error:"})," ",a]}),h.length>0?o.jsx("div",{className:"space-y-6",children:h.map(x=>{var w,p,m;return o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Clase del ",b((w=x.clase)==null?void 0:w.fecha)]}),((p=x.clase)==null?void 0:p.notas)&&o.jsxs("p",{className:"text-sm text-gray-600",children:["Notas: ",x.clase.notas]})]}),o.jsx("div",{className:"flex items-center space-x-3",children:v((m=x.clase)==null?void 0:m.estado)})]}),o.jsxs("div",{className:"space-y-4",children:[x.obrasEstudiadas&&x.obrasEstudiadas.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Obras estudiadas:"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:x.obrasEstudiadas.map((g,k)=>{var L,j;return o.jsxs("span",{className:"inline-flex px-2 py-1 bg-indigo-100 text-indigo-800 text-xs font-medium rounded",children:[(L=g.partitura)==null?void 0:L.compositor," - ",(j=g.partitura)==null?void 0:j.obra,g.comentarios&&` (${g.comentarios})`]},k)})})]}),x.comentariosGenerales&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Comentarios de la clase:"}),o.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-3 rounded border-l-4 border-blue-500",children:x.comentariosGenerales})]}),x.objetivosProximaClase&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Objetivos para la próxima clase:"}),o.jsx("p",{className:"text-sm text-gray-700 bg-yellow-50 p-3 rounded border-l-4 border-yellow-500",children:x.objetivosProximaClase})]}),o.jsxs("div",{className:"text-xs text-gray-500 mt-4",children:["📅 Resumen creado: ",b(x.createdAt)]})]})]},x._id)})}):!n&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-gray-500 mb-4",children:o.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron clases"}),o.jsx("p",{className:"text-gray-500",children:i||c?"Intenta ajustar los filtros de búsqueda.":"Aún no tienes clases registradas."})]})]})},zx=()=>{const{claseId:e}=d0(),[t]=Pf(),{usuario:r,isAdmin:n}=Oe(),s=t.get("usuarioId"),a=t.get("fecha"),l=t.get("newTab")==="true";console.log("ResumenClasePage - Parámetros recibidos:"),console.log("claseId:",e),console.log("usuarioId:",s),console.log("fecha:",a),console.log("isNewTab:",l),console.log("usuario autenticado:",r),console.log("URL completa:",window.location.href),console.log("pathname:",window.location.pathname),console.log("search:",window.location.search),console.log("Componente ResumenClasePage renderizándose correctamente");const[i,u]=y.useState(!1);if(y.useEffect(()=>{console.log("ResumenClasePage useEffect - verificando parámetros"),console.log("Todos los parámetros necesarios presentes:",!!e&&!!s),e||console.error("claseId faltante"),s||console.error("usuarioId faltante"),r||console.error("usuario no autenticado")},[e,s,r]),console.log("ResumenClasePage - Verificación de permisos:"),console.log("Usuario completo:",r),console.log("Rol del usuario:",r==null?void 0:r.rol),console.log("isAdmin() result:",n()),!r)return console.log("ResumenClasePage - Usuario no cargado aún"),o.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:o.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md",children:[o.jsx("h2",{className:"text-xl font-bold text-blue-600 mb-2",children:"Cargando..."}),o.jsx("p",{className:"text-gray-600",children:"Verificando autenticación..."}),o.jsx("div",{className:"mt-4 animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})]})});if(!n())return console.log("ResumenClasePage - Usuario no autorizado. Rol actual:",r.rol),o.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:o.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md",children:[o.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:"Acceso Denegado"}),o.jsx("p",{className:"text-gray-600",children:"No tienes permisos para acceder a esta página."}),o.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Rol actual: ",r.rol]})]})});const c=()=>{u(!0);const d={type:"resumen_guardado",claseId:e,usuarioId:s,timestamp:Date.now()};localStorage.setItem("resumen_update_event",JSON.stringify(d)),setTimeout(()=>{localStorage.removeItem("resumen_update_event")},1e3),setTimeout(()=>u(!1),3e3)},f=()=>{window.close()};return o.jsxs("div",{className:"min-h-screen bg-gray-100",children:[o.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4 sticky top-0 z-10",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"📝 Resumen de Clase"}),a&&o.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["📅 ",Ae(a)]})]}),o.jsxs("div",{className:"flex gap-3",children:[i&&o.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-3 py-2 rounded-md text-sm",children:"✅ Guardado correctamente"}),o.jsx("button",{onClick:f,className:"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-colors",children:"Cerrar"})]})]})}),o.jsx("div",{className:"p-6",children:o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsx(gi,{claseId:e,usuarioId:s,fecha:a,onClose:f,onSave:c,isStandalone:!0})})})]})},rc=({title:e,subtitle:t,size:r="normal"})=>{const n=r==="small"?"h-6 w-6":"h-8 w-8";return o.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[o.jsx("div",{className:`animate-spin rounded-full ${n} border-b-2 border-blue-600`}),o.jsx("p",{className:"mt-3 text-gray-600 font-medium",children:e}),t&&o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t})]})},Dx=({resumen:e})=>{var s;const[t,r]=y.useState(!1);if(!e||!e.clase)return console.warn("ResumenCard: resumen o clase es null/undefined",e),o.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-lg p-4 shadow-md",children:o.jsx("p",{className:"text-red-600",children:"⚠️ Error: Datos de resumen incompletos"})});const n=async()=>{var a;try{r(!0);const l=hi({fecha:(a=e.clase)!=null&&a.fecha?Ae(e.clase.fecha):"Fecha no disponible",obrasEstudiadas:e.obrasEstudiadas||[],objetivosProximaClase:e.objetivosProximaClase||""});pi(l)}catch(l){console.error("Error al enviar por WhatsApp:",l),alert("❌ Error al procesar el envío por WhatsApp")}finally{r(!1)}};return o.jsxs("div",{className:"bg-white border-2 border-blue-200 rounded-lg p-4 shadow-md hover:shadow-lg transition-shadow",children:[o.jsx("div",{className:"flex justify-between items-start mb-4",children:o.jsx("div",{children:o.jsxs("p",{className:"text-sm text-gray-600 font-bold",children:["📅 ",(s=e.clase)!=null&&s.fecha?Ae(e.clase.fecha):"Fecha no disponible"]})})}),e.obrasEstudiadas&&e.obrasEstudiadas.length>0&&o.jsxs("div",{className:"mb-4",children:[o.jsxs("h5",{className:"text-sm font-medium text-gray-700 mb-2 text-left",children:["🎼 Obras (",e.obrasEstudiadas.length,")"]}),o.jsx("div",{className:"space-y-2",children:e.obrasEstudiadas.map((a,l)=>o.jsxs("div",{className:"bg-gray-50 p-3 rounded-md text-left",children:[o.jsxs("div",{className:"font-medium text-gray-800",children:[a.compositor," - ",a.obra]}),a.movimientosCompases&&o.jsxs("div",{className:"text-sm text-blue-600 mt-1",children:["📍 ",a.movimientosCompases]}),a.comentarios&&o.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["💬 ",a.comentarios]})]},l))})]}),e.objetivosProximaClase&&o.jsxs("div",{className:"mb-4",children:[o.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2 text-left",children:"🎯 Próxima Clase"}),o.jsx("div",{className:"bg-green-50 p-3 rounded-md text-left",children:o.jsx("p",{className:"text-sm text-gray-700",children:e.objetivosProximaClase})})]}),o.jsx("div",{className:"pt-3 border-t border-gray-200",children:o.jsx("button",{onClick:n,disabled:t,className:"w-full px-3 py-2 text-sm bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 transition-colors",children:t?"Enviando...":"📱 WhatsApp"})})]})},nc=({clase:e})=>{const t={no_iniciada:{label:"No iniciada",color:"bg-gray-50",textColor:"text-gray-800",borderColor:"border-gray-200",footerColor:"bg-gray-100",icon:"⏳"},tomada:{label:"Tomada",color:"bg-green-50",textColor:"text-green-800",borderColor:"border-green-200",footerColor:"bg-green-100",icon:"✅"},ausente:{label:"Ausente",color:"bg-red-50",textColor:"text-red-800",borderColor:"border-red-200",footerColor:"bg-red-100",icon:"❌"},reprogramar:{label:"Reprogramada",color:"bg-amber-50",textColor:"text-amber-800",borderColor:"border-amber-200",footerColor:"bg-amber-100",icon:"🔄"},recuperada:{label:"Recuperada",color:"bg-purple-50",textColor:"text-purple-800",borderColor:"border-purple-200",footerColor:"bg-purple-100",icon:"🔁"},realizada:{label:"Realizada",color:"bg-green-50",textColor:"text-green-800",borderColor:"border-green-200",footerColor:"bg-green-100",icon:"✅"},cancelada:{label:"Cancelada",color:"bg-red-50",textColor:"text-red-800",borderColor:"border-red-200",footerColor:"bg-red-100",icon:"🚫"},pendiente:{label:"Pendiente",color:"bg-blue-50",textColor:"text-blue-800",borderColor:"border-blue-200",footerColor:"bg-blue-100",icon:"⏰"}},r=t[e.estado]||t.no_iniciada,n=new Date(e.fecha),s=n.toLocaleDateString("es-ES",{month:"long"}).toUpperCase(),a=n.getDate();return o.jsxs("div",{className:`${r.color} ${r.borderColor} border-2 rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow`,children:[o.jsx("div",{className:`${r.footerColor} px-4 py-3 text-center border-b ${r.borderColor}`,children:o.jsx("h4",{className:`text-sm font-bold ${r.textColor} tracking-wide`,children:s})}),o.jsxs("div",{className:"px-4 py-6 text-center",children:[o.jsx("div",{className:`text-4xl font-bold ${r.textColor} mb-2`,children:a}),o.jsxs("div",{className:"space-y-2 text-sm",children:[e.fechaReprogramada&&o.jsxs("div",{className:`${r.textColor} opacity-80`,children:[o.jsx("p",{className:"font-medium",children:"Reprogramada para:"}),o.jsx("p",{className:"text-xs",children:new Date(e.fechaReprogramada).toLocaleDateString("es-ES",{day:"numeric",month:"long"})})]}),e.notas&&o.jsx("div",{className:`${r.textColor} opacity-80`,children:o.jsxs("p",{className:"text-xs leading-relaxed italic",children:['"',e.notas,'"']})})]})]}),o.jsx("div",{className:`${r.footerColor} px-4 py-3 text-center border-t ${r.borderColor}`,children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx("span",{className:"text-lg",children:r.icon}),o.jsx("span",{className:`text-sm font-semibold ${r.textColor}`,children:r.label})]})})]})},Mx=()=>{const{usuario:e}=Oe(),[t,r]=y.useState([]),[n,s]=y.useState({ultimoPago:[],historial:[]}),[a,l]=y.useState(!0),[i,u]=y.useState(!0);y.useEffect(()=>{e!=null&&e._id&&(c(),f())},[e]);const c=async()=>{try{l(!0);const b=((await ur.obtenerPorUsuario(e._id)).data.resumenes||[]).filter(v=>v&&v.clase&&v.clase.fecha).sort((v,x)=>new Date(x.clase.fecha)-new Date(v.clase.fecha));r(b)}catch(d){console.error("Error al cargar resúmenes:",d),r([])}finally{l(!1)}},f=async()=>{try{u(!0);const d=await Nt.obtenerSeparadas(e._id),h=v=>v.sort((x,w)=>{const p=k=>{switch(k){case"no_iniciada":return 1;case"tomada":return 2;default:return 3}},m=p(x.estado),g=p(w.estado);return m!==g?m-g:new Date(w.fecha)-new Date(x.fecha)}),b=d.data||{clasesUltimoPago:[],historialClases:[]};s({ultimoPago:h(b.clasesUltimoPago||[]),historial:h(b.historialClases||[])})}catch(d){console.error("Error al cargar clases:",d),s({ultimoPago:[],historial:[]})}finally{u(!1)}};return o.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Mis Clases"}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"📚 Resúmenes de Clases"}),a?o.jsx(rc,{title:"Cargando resúmenes...",subtitle:"Obteniendo tus resúmenes de clase"}):t.length>0?o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4 max-w-none",children:t.map(d=>o.jsx("div",{className:"max-w-sm",children:o.jsx(Dx,{resumen:d})},d._id))})}):o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[o.jsx("div",{className:"text-4xl mb-4",children:"📚"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay resúmenes de clases"}),o.jsx("p",{className:"text-gray-600",children:"Los resúmenes de tus clases aparecerán aquí una vez que el profesor los complete."})]})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"📖 Mis Clases"}),i?o.jsx(rc,{title:"Cargando clases...",subtitle:"Obteniendo tus clases programadas"}):n.ultimoPago.length>0||n.historial.length>0?o.jsxs("div",{className:"space-y-6",children:[n.ultimoPago.length>0&&o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[o.jsx("span",{className:"w-3 h-3 bg-green-500 rounded-full mr-3"}),"Clases del último pago (",n.ultimoPago.length,")"]}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:n.ultimoPago.map(d=>o.jsx(nc,{clase:d},d._id))})]}),n.historial.length>0&&o.jsxs("details",{className:"bg-white rounded-lg border border-gray-200",children:[o.jsx("summary",{className:"p-6 cursor-pointer hover:bg-gray-50 rounded-t-lg",children:o.jsxs("span",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[o.jsx("span",{className:"w-3 h-3 bg-gray-400 rounded-full mr-3"}),"Historial de clases (",n.historial.length,")"]})}),o.jsx("div",{className:"px-6 pb-6",children:o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:n.historial.map(d=>o.jsx(nc,{clase:d},d._id))})})]})]}):o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[o.jsx("div",{className:"text-4xl mb-4",children:"📅"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay clases programadas"}),o.jsx("p",{className:"text-gray-600",children:"Tus próximas clases aparecerán aquí una vez que sean programadas."})]})]})]})},Ux=({title:e,subtitle:t,size:r="normal"})=>{const n=r==="small"?"h-6 w-6":"h-8 w-8";return o.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[o.jsx("div",{className:`animate-spin rounded-full ${n} border-b-2 border-blue-600`}),o.jsx("p",{className:"mt-3 text-gray-600 font-medium",children:e}),t&&o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t})]})},$x=({pago:e})=>{var s;const[t,r]=y.useState(!1),n=()=>{const a=e.facturaUrl||e.linkFactura;a&&a!=="undefined"&&a!==""?(r(!0),window.open(a,"_blank"),setTimeout(()=>r(!1),1e3)):alert("No hay factura disponible para este pago")};return o.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-lg p-6 shadow-md hover:shadow-lg transition-all duration-200",children:[o.jsx("div",{className:"mb-4",children:o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:["Pago del ",kx(e.fechaCreacion||e.createdAt)]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600",children:"Monto:"}),o.jsxs("span",{className:"text-xl font-bold text-green-600",children:["$",(s=e.monto)==null?void 0:s.toLocaleString()]})]}),e.periodo&&o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600",children:"Período:"}),o.jsx("span",{className:"font-medium",children:e.periodo})]}),e.fechaVencimiento&&o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600",children:"Vencimiento:"}),o.jsx("span",{className:"font-medium",children:Nx(e.fechaVencimiento)})]}),e.metodoPago&&o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600",children:"Método:"}),o.jsx("span",{className:"font-medium",children:e.metodoPago})]}),e.clases&&e.clases.length>0&&o.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-md",children:[o.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:["Clases incluidas (",e.clases.length,")"]}),o.jsx("div",{className:"space-y-1",children:e.clases.map((a,l)=>o.jsxs("div",{className:"flex justify-between items-center text-xs",children:[o.jsx("span",{className:"text-gray-600",children:Cx(a.fecha)}),o.jsx("span",{className:`px-2 py-1 rounded text-xs ${a.estado==="tomada"?"bg-green-100 text-green-700":a.estado==="ausente"?"bg-red-100 text-red-700":a.estado==="recuperada"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,children:a.estado==="no_iniciada"?"Pendiente":a.estado==="tomada"?"Tomada":a.estado==="ausente"?"Ausente":a.estado==="recuperada"?"Recuperada":a.estado})]},l))})]}),e.notas&&o.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-md",children:o.jsxs("p",{className:"text-sm text-gray-700",children:["📝 ",e.notas]})})]}),o.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(()=>{const a=e.facturaUrl||e.linkFactura;return a&&a!=="undefined"&&a!==""&&a!=="null"?o.jsx("button",{onClick:n,disabled:t,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 transition-colors flex items-center justify-center gap-2",children:t?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Descargando..."]}):o.jsx(o.Fragment,{children:"Descargar Factura"})}):o.jsx("div",{className:"w-full px-4 py-2 bg-gray-100 text-gray-500 rounded-md text-center",children:"Factura no disponible"})})()})]})},Ix=()=>{const{usuario:e}=Oe(),[t,r]=y.useState([]),[n,s]=y.useState(!0);y.useEffect(()=>{e!=null&&e._id&&a()},[e]);const a=async()=>{try{s(!0);const i=((await yn.obtenerPorUsuario(e._id)).data||[]).sort((u,c)=>new Date(c.fechaCreacion||c.createdAt)-new Date(u.fechaCreacion||u.createdAt));r(i)}catch(l){console.error("Error al cargar pagos:",l),r([])}finally{s(!1)}};return o.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Mis Pagos"}),n?o.jsx(Ux,{title:"Cargando pagos...",subtitle:"Obteniendo tu historial de pagos"}):t.length>0?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(l=>o.jsx($x,{pago:l},l._id))}):o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[o.jsx("div",{className:"text-4xl mb-4",children:"�"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay pagos registrados"}),o.jsx("p",{className:"text-gray-600",children:"Tu historial de pagos y facturas aparecerán aquí."})]})]})},Bx=()=>{const{usuario:e,logout:t}=Oe(),r=()=>{t()};return o.jsx("nav",{className:"bg-slate-700 shadow-lg fixed top-0 left-0 right-0 z-50",children:o.jsx("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between h-16",children:[o.jsx("div",{className:"flex items-center",children:o.jsxs(Mt,{to:"/dashboard",className:"text-white text-xl font-bold hover:text-slate-300 flex items-center space-x-2",children:[o.jsx("svg",{className:"w-6 h-6 text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-.895 2-2 2s-2-.895-2-2 .895-2 2-2 2 .895 2 2zm12-3c0 1.105-.895 2-2 2s-2-.895-2-2 .895-2 2-2 2 .895 2 2zM9 10l12-3"})}),o.jsx("span",{children:"Clases de Violoncello"})]})}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"text-white text-sm",children:[o.jsxs("span",{className:"font-medium",children:[e==null?void 0:e.nombre," ",e==null?void 0:e.apellido]}),o.jsx("span",{className:`ml-2 inline-flex px-2 py-1 text-xs font-semibold rounded-full ${(e==null?void 0:e.rol)==="administrador"?"bg-violet-200 text-violet-900":"bg-emerald-200 text-emerald-900"}`,children:e==null?void 0:e.rol})]}),o.jsxs("button",{onClick:r,className:"bg-slate-600 hover:bg-slate-800 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors duration-200 flex items-center space-x-1",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),o.jsx("span",{children:"Cerrar Sesión"})]})]})]})})})},Vx=()=>{const{isAdmin:e}=Oe(),t=yr(),r=s=>t.pathname===s,n=e()?[{name:"Gestión de Clases",path:"/clases",icon:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),allowedFor:"admin"},{name:"Partituras",path:"/partituras",icon:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-.895 2-2 2s-2-.895-2-2 .895-2 2-2 2 .895 2 2zm12-3c0 1.105-.895 2-2 2s-2-.895-2-2 .895-2 2-2 2 .895 2 2zM9 10l12-3"})}),allowedFor:"admin"},{name:"Gestión de Pagos",path:"/pagos",icon:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),allowedFor:"admin"},{name:"Admin Partituras",path:"/admin-partituras",icon:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),allowedFor:"admin"},{name:"Gestión de Usuarios",path:"/usuarios",icon:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),allowedFor:"admin"},{name:"Cambiar Contraseña",path:"/cambiar-contrasena",icon:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),allowedFor:"admin"}]:[{name:"Mis Clases",path:"/mis-clases",icon:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),allowedFor:"user"},{name:"Mis Pagos",path:"/mis-pagos",icon:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),allowedFor:"user"},{name:"Partituras",path:"/partituras",icon:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-.895 2-2 2s-2-.895-2-2 .895-2 2-2 2 .895 2 2zm12-3c0 1.105-.895 2-2 2s-2-.895-2-2 .895-2 2-2 2 .895 2 2zM9 10l12-3"})}),allowedFor:"user"},{name:"Cambiar Contraseña",path:"/cambiar-contrasena",icon:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),allowedFor:"user"}];return o.jsx("aside",{className:"fixed left-0 top-16 h-full w-64 bg-slate-50 shadow-lg border-r border-slate-200 z-40",children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsx("nav",{className:"flex-1 pt-6 pb-4 overflow-y-auto",children:o.jsx("div",{className:"px-3",children:o.jsx("ul",{className:"space-y-1",children:n.map(s=>o.jsx("li",{children:o.jsxs(Mt,{to:s.path,className:`group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200 ${r(s.path)?"bg-indigo-200 text-indigo-900 border-r-2 border-indigo-600":"text-slate-700 hover:bg-slate-200 hover:text-slate-900"}`,children:[o.jsx("span",{className:"mr-3",children:s.icon}),s.name]})},s.path))})})}),o.jsx("div",{className:"px-3 py-4 border-t border-slate-200",children:o.jsxs("div",{className:"text-xs text-slate-500 text-center",children:[o.jsx("p",{children:"Sistema de Gestión"}),o.jsx("p",{children:"Clases de Violoncello"})]})})]})})},nt=({children:e,adminOnly:t=!1})=>{const{isAuthenticated:r,isAdmin:n,loading:s}=Oe();return s?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx(gr,{title:"Verificando autenticación...",subtitle:"Validando permisos de acceso",showRenderMessage:!1,size:"medium"})}):r()?t&&!n()?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Acceso Denegado"}),o.jsx("p",{className:"text-gray-600",children:"No tienes permisos para acceder a esta sección."})]})}):e:o.jsx(vn,{to:"/login",replace:!0})};function Wx(){const{isAuthenticated:e,isAdmin:t,loading:r}=Oe(),n=window.location.pathname.includes("/admin/resumen-clase/")&&window.location.search.includes("newTab=true");return r?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Cargando..."})]})}):o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e()&&!n&&o.jsxs(o.Fragment,{children:[o.jsx(Bx,{}),o.jsx(Vx,{})]}),o.jsx("div",{className:`${e()&&!n?"ml-64 pt-24":""}`,children:o.jsxs(E0,{children:["        ",o.jsx(Pe,{path:"/admin/resumen-clase/:claseId",element:o.jsx(nt,{adminOnly:!0,children:o.jsx(zx,{})})}),o.jsx(Pe,{path:"/login",element:e()?o.jsx(vn,{to:t()?"/clases":"/mis-clases",replace:!0}):o.jsx(xx,{})}),o.jsx(Pe,{path:"/dashboard",element:o.jsx(nt,{children:o.jsx(vx,{})})}),o.jsx(Pe,{path:"/usuarios",element:o.jsx(nt,{adminOnly:!0,children:o.jsx(wx,{})})}),o.jsx(Pe,{path:"/cambiar-contrasena",element:o.jsx(nt,{children:o.jsx(bx,{})})}),o.jsx(Pe,{path:"/pagos",element:o.jsx(nt,{adminOnly:!0,children:o.jsx(_x,{})})}),o.jsx(Pe,{path:"/clases",element:o.jsx(nt,{adminOnly:!0,children:o.jsx(Tx,{})})}),o.jsx(Pe,{path:"/partituras",element:o.jsx(nt,{children:o.jsx(Ox,{})})}),o.jsx(Pe,{path:"/admin-partituras",element:o.jsx(nt,{adminOnly:!0,children:o.jsx(Fx,{})})}),o.jsx(Pe,{path:"/mis-clases",element:o.jsx(nt,{children:o.jsx(Mx,{})})}),o.jsx(Pe,{path:"/mis-pagos",element:o.jsx(nt,{children:o.jsx(Ix,{})})}),o.jsx(Pe,{path:"/resumen-clases",element:o.jsx(nt,{children:o.jsx(Ax,{})})}),o.jsx(Pe,{path:"/",element:e()?o.jsx(vn,{to:t()?"/clases":"/mis-clases",replace:!0}):o.jsx(vn,{to:"/login",replace:!0})}),o.jsx(Pe,{path:"*",element:o.jsx(vn,{to:"/",replace:!0})})]})})]})}function Hx(){return o.jsx(gx,{children:o.jsx(A0,{basename:"/alumnos",future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:o.jsx(Wx,{})})})}xf(document.getElementById("root")).render(o.jsx(y.StrictMode,{children:o.jsx(Hx,{})}));

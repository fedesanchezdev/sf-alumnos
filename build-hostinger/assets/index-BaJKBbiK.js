function Pm(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(n,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();function _m(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hu={exports:{}},pa={},gu={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rs=Symbol.for("react.element"),Rm=Symbol.for("react.portal"),Lm=Symbol.for("react.fragment"),Tm=Symbol.for("react.strict_mode"),Fm=Symbol.for("react.profiler"),Om=Symbol.for("react.provider"),zm=Symbol.for("react.context"),Am=Symbol.for("react.forward_ref"),Dm=Symbol.for("react.suspense"),Mm=Symbol.for("react.memo"),$m=Symbol.for("react.lazy"),Ti=Symbol.iterator;function Um(e){return e===null||typeof e!="object"?null:(e=Ti&&e[Ti]||e["@@iterator"],typeof e=="function"?e:null)}var xu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yu=Object.assign,vu={};function tn(e,t,r){this.props=e,this.context=t,this.refs=vu,this.updater=r||xu}tn.prototype.isReactComponent={};tn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};tn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bu(){}bu.prototype=tn.prototype;function vl(e,t,r){this.props=e,this.context=t,this.refs=vu,this.updater=r||xu}var bl=vl.prototype=new bu;bl.constructor=vl;yu(bl,tn.prototype);bl.isPureReactComponent=!0;var Fi=Array.isArray,ju=Object.prototype.hasOwnProperty,jl={current:null},wu={key:!0,ref:!0,__self:!0,__source:!0};function Nu(e,t,r){var n,a={},o=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(o=""+t.key),t)ju.call(t,n)&&!wu.hasOwnProperty(n)&&(a[n]=t[n]);var i=arguments.length-2;if(i===1)a.children=r;else if(1<i){for(var c=Array(i),u=0;u<i;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in i=e.defaultProps,i)a[n]===void 0&&(a[n]=i[n]);return{$$typeof:rs,type:e,key:o,ref:l,props:a,_owner:jl.current}}function Im(e,t){return{$$typeof:rs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function wl(e){return typeof e=="object"&&e!==null&&e.$$typeof===rs}function Bm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Oi=/\/+/g;function $a(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Bm(""+e.key):t.toString(36)}function Es(e,t,r,n,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case rs:case Rm:l=!0}}if(l)return l=e,a=a(l),e=n===""?"."+$a(l,0):n,Fi(a)?(r="",e!=null&&(r=e.replace(Oi,"$&/")+"/"),Es(a,t,r,"",function(u){return u})):a!=null&&(wl(a)&&(a=Im(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(Oi,"$&/")+"/")+e)),t.push(a)),1;if(l=0,n=n===""?".":n+":",Fi(e))for(var i=0;i<e.length;i++){o=e[i];var c=n+$a(o,i);l+=Es(o,t,r,c,a)}else if(c=Um(e),typeof c=="function")for(e=c.call(e),i=0;!(o=e.next()).done;)o=o.value,c=n+$a(o,i++),l+=Es(o,t,r,c,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function cs(e,t,r){if(e==null)return e;var n=[],a=0;return Es(e,n,"","",function(o){return t.call(r,o,a++)}),n}function Vm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Oe={current:null},Ss={transition:null},Wm={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:Ss,ReactCurrentOwner:jl};function ku(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:cs,forEach:function(e,t,r){cs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return cs(e,function(){t++}),t},toArray:function(e){return cs(e,function(t){return t})||[]},only:function(e){if(!wl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=tn;Z.Fragment=Lm;Z.Profiler=Fm;Z.PureComponent=vl;Z.StrictMode=Tm;Z.Suspense=Dm;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wm;Z.act=ku;Z.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=yu({},e.props),a=e.key,o=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,l=jl.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)ju.call(t,c)&&!wu.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&i!==void 0?i[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){i=Array(c);for(var u=0;u<c;u++)i[u]=arguments[u+2];n.children=i}return{$$typeof:rs,type:e.type,key:a,ref:o,props:n,_owner:l}};Z.createContext=function(e){return e={$$typeof:zm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Om,_context:e},e.Consumer=e};Z.createElement=Nu;Z.createFactory=function(e){var t=Nu.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:Am,render:e}};Z.isValidElement=wl;Z.lazy=function(e){return{$$typeof:$m,_payload:{_status:-1,_result:e},_init:Vm}};Z.memo=function(e,t){return{$$typeof:Mm,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=Ss.transition;Ss.transition={};try{e()}finally{Ss.transition=t}};Z.unstable_act=ku;Z.useCallback=function(e,t){return Oe.current.useCallback(e,t)};Z.useContext=function(e){return Oe.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return Oe.current.useDeferredValue(e)};Z.useEffect=function(e,t){return Oe.current.useEffect(e,t)};Z.useId=function(){return Oe.current.useId()};Z.useImperativeHandle=function(e,t,r){return Oe.current.useImperativeHandle(e,t,r)};Z.useInsertionEffect=function(e,t){return Oe.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return Oe.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return Oe.current.useMemo(e,t)};Z.useReducer=function(e,t,r){return Oe.current.useReducer(e,t,r)};Z.useRef=function(e){return Oe.current.useRef(e)};Z.useState=function(e){return Oe.current.useState(e)};Z.useSyncExternalStore=function(e,t,r){return Oe.current.useSyncExternalStore(e,t,r)};Z.useTransition=function(){return Oe.current.useTransition()};Z.version="18.3.1";gu.exports=Z;var y=gu.exports;const Hm=_m(y),qm=Pm({__proto__:null,default:Hm},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qm=y,Gm=Symbol.for("react.element"),Km=Symbol.for("react.fragment"),Jm=Object.prototype.hasOwnProperty,Ym=Qm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xm={key:!0,ref:!0,__self:!0,__source:!0};function Cu(e,t,r){var n,a={},o=null,l=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)Jm.call(t,n)&&!Xm.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:Gm,type:e,key:o,ref:l,props:a,_owner:Ym.current}}pa.Fragment=Km;pa.jsx=Cu;pa.jsxs=Cu;hu.exports=pa;var s=hu.exports,Eu={exports:{}},Ke={},Su={exports:{}},Pu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,U){var I=_.length;_.push(U);e:for(;0<I;){var A=I-1>>>1,D=_[A];if(0<a(D,U))_[A]=U,_[I]=D,I=A;else break e}}function r(_){return _.length===0?null:_[0]}function n(_){if(_.length===0)return null;var U=_[0],I=_.pop();if(I!==U){_[0]=I;e:for(var A=0,D=_.length,G=D>>>1;A<G;){var V=2*(A+1)-1,K=_[V],ne=V+1,ie=_[ne];if(0>a(K,I))ne<D&&0>a(ie,K)?(_[A]=ie,_[ne]=I,A=ne):(_[A]=K,_[V]=I,A=V);else if(ne<D&&0>a(ie,I))_[A]=ie,_[ne]=I,A=ne;else break e}}return U}function a(_,U){var I=_.sortIndex-U.sortIndex;return I!==0?I:_.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,i=l.now();e.unstable_now=function(){return l.now()-i}}var c=[],u=[],f=1,d=null,g=3,b=!1,x=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(_){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=_)n(u),U.sortIndex=U.expirationTime,t(c,U);else break;U=r(u)}}function E(_){if(v=!1,h(_),!x)if(r(c)!==null)x=!0,q(P);else{var U=r(u);U!==null&&T(E,U.startTime-_)}}function P(_,U){x=!1,v&&(v=!1,p(L),L=-1),b=!0;var I=g;try{for(h(U),d=r(c);d!==null&&(!(d.expirationTime>U)||_&&!C());){var A=d.callback;if(typeof A=="function"){d.callback=null,g=d.priorityLevel;var D=A(d.expirationTime<=U);U=e.unstable_now(),typeof D=="function"?d.callback=D:d===r(c)&&n(c),h(U)}else n(c);d=r(c)}if(d!==null)var G=!0;else{var V=r(u);V!==null&&T(E,V.startTime-U),G=!1}return G}finally{d=null,g=I,b=!1}}var k=!1,R=null,L=-1,N=5,j=-1;function C(){return!(e.unstable_now()-j<N)}function M(){if(R!==null){var _=e.unstable_now();j=_;var U=!0;try{U=R(!0,_)}finally{U?H():(k=!1,R=null)}}else k=!1}var H;if(typeof m=="function")H=function(){m(M)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,Q=$.port2;$.port1.onmessage=M,H=function(){Q.postMessage(null)}}else H=function(){w(M,0)};function q(_){R=_,k||(k=!0,H())}function T(_,U){L=w(function(){_(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){x||b||(x=!0,q(P))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(_){switch(g){case 1:case 2:case 3:var U=3;break;default:U=g}var I=g;g=U;try{return _()}finally{g=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,U){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var I=g;g=_;try{return U()}finally{g=I}},e.unstable_scheduleCallback=function(_,U,I){var A=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?A+I:A):I=A,_){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=I+D,_={id:f++,callback:U,priorityLevel:_,startTime:I,expirationTime:D,sortIndex:-1},I>A?(_.sortIndex=I,t(u,_),r(c)===null&&_===r(u)&&(v?(p(L),L=-1):v=!0,T(E,I-A))):(_.sortIndex=D,t(c,_),x||b||(x=!0,q(P))),_},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(_){var U=g;return function(){var I=g;g=U;try{return _.apply(this,arguments)}finally{g=I}}}})(Pu);Su.exports=Pu;var Zm=Su.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep=y,Ge=Zm;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _u=new Set,An={};function kr(e,t){Gr(e,t),Gr(e+"Capture",t)}function Gr(e,t){for(An[e]=t,e=0;e<t.length;e++)_u.add(t[e])}var Pt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),go=Object.prototype.hasOwnProperty,tp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zi={},Ai={};function rp(e){return go.call(Ai,e)?!0:go.call(zi,e)?!1:tp.test(e)?Ai[e]=!0:(zi[e]=!0,!1)}function np(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function sp(e,t,r,n){if(t===null||typeof t>"u"||np(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ze(e,t,r,n,a,o,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var Ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ce[e]=new ze(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ce[t]=new ze(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ce[e]=new ze(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ce[e]=new ze(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ce[e]=new ze(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ce[e]=new ze(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ce[e]=new ze(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ce[e]=new ze(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ce[e]=new ze(e,5,!1,e.toLowerCase(),null,!1,!1)});var Nl=/[\-:]([a-z])/g;function kl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Nl,kl);Ce[t]=new ze(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Nl,kl);Ce[t]=new ze(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Nl,kl);Ce[t]=new ze(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ce[e]=new ze(e,1,!1,e.toLowerCase(),null,!1,!1)});Ce.xlinkHref=new ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ce[e]=new ze(e,1,!1,e.toLowerCase(),null,!0,!0)});function Cl(e,t,r,n){var a=Ce.hasOwnProperty(t)?Ce[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(sp(t,r,a,n)&&(r=null),n||a===null?rp(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Tt=ep.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,us=Symbol.for("react.element"),Pr=Symbol.for("react.portal"),_r=Symbol.for("react.fragment"),El=Symbol.for("react.strict_mode"),xo=Symbol.for("react.profiler"),Ru=Symbol.for("react.provider"),Lu=Symbol.for("react.context"),Sl=Symbol.for("react.forward_ref"),yo=Symbol.for("react.suspense"),vo=Symbol.for("react.suspense_list"),Pl=Symbol.for("react.memo"),At=Symbol.for("react.lazy"),Tu=Symbol.for("react.offscreen"),Di=Symbol.iterator;function fn(e){return e===null||typeof e!="object"?null:(e=Di&&e[Di]||e["@@iterator"],typeof e=="function"?e:null)}var de=Object.assign,Ua;function jn(e){if(Ua===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ua=t&&t[1]||""}return`
`+Ua+e}var Ia=!1;function Ba(e,t){if(!e||Ia)return"";Ia=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),o=n.stack.split(`
`),l=a.length-1,i=o.length-1;1<=l&&0<=i&&a[l]!==o[i];)i--;for(;1<=l&&0<=i;l--,i--)if(a[l]!==o[i]){if(l!==1||i!==1)do if(l--,i--,0>i||a[l]!==o[i]){var c=`
`+a[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=i);break}}}finally{Ia=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?jn(e):""}function ap(e){switch(e.tag){case 5:return jn(e.type);case 16:return jn("Lazy");case 13:return jn("Suspense");case 19:return jn("SuspenseList");case 0:case 2:case 15:return e=Ba(e.type,!1),e;case 11:return e=Ba(e.type.render,!1),e;case 1:return e=Ba(e.type,!0),e;default:return""}}function bo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _r:return"Fragment";case Pr:return"Portal";case xo:return"Profiler";case El:return"StrictMode";case yo:return"Suspense";case vo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Lu:return(e.displayName||"Context")+".Consumer";case Ru:return(e._context.displayName||"Context")+".Provider";case Sl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Pl:return t=e.displayName||null,t!==null?t:bo(e.type)||"Memo";case At:t=e._payload,e=e._init;try{return bo(e(t))}catch{}}return null}function op(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bo(t);case 8:return t===El?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lp(e){var t=Fu(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(l){n=""+l,o.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ds(e){e._valueTracker||(e._valueTracker=lp(e))}function Ou(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Fu(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Is(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function jo(e,t){var r=t.checked;return de({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Mi(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Zt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zu(e,t){t=t.checked,t!=null&&Cl(e,"checked",t,!1)}function wo(e,t){zu(e,t);var r=Zt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?No(e,t.type,r):t.hasOwnProperty("defaultValue")&&No(e,t.type,Zt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $i(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function No(e,t,r){(t!=="number"||Is(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var wn=Array.isArray;function Ir(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Zt(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function ko(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return de({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ui(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(O(92));if(wn(r)){if(1<r.length)throw Error(O(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Zt(r)}}function Au(e,t){var r=Zt(t.value),n=Zt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ii(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Du(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Co(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Du(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fs,Mu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fs=fs||document.createElement("div"),fs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Dn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Sn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ip=["Webkit","ms","Moz","O"];Object.keys(Sn).forEach(function(e){ip.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Sn[t]=Sn[e]})});function $u(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Sn.hasOwnProperty(e)&&Sn[e]?(""+t).trim():t+"px"}function Uu(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=$u(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var cp=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Eo(e,t){if(t){if(cp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function So(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Po=null;function _l(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _o=null,Br=null,Vr=null;function Bi(e){if(e=as(e)){if(typeof _o!="function")throw Error(O(280));var t=e.stateNode;t&&(t=va(t),_o(e.stateNode,e.type,t))}}function Iu(e){Br?Vr?Vr.push(e):Vr=[e]:Br=e}function Bu(){if(Br){var e=Br,t=Vr;if(Vr=Br=null,Bi(e),t)for(e=0;e<t.length;e++)Bi(t[e])}}function Vu(e,t){return e(t)}function Wu(){}var Va=!1;function Hu(e,t,r){if(Va)return e(t,r);Va=!0;try{return Vu(e,t,r)}finally{Va=!1,(Br!==null||Vr!==null)&&(Wu(),Bu())}}function Mn(e,t){var r=e.stateNode;if(r===null)return null;var n=va(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(O(231,t,typeof r));return r}var Ro=!1;if(Pt)try{var mn={};Object.defineProperty(mn,"passive",{get:function(){Ro=!0}}),window.addEventListener("test",mn,mn),window.removeEventListener("test",mn,mn)}catch{Ro=!1}function up(e,t,r,n,a,o,l,i,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var Pn=!1,Bs=null,Vs=!1,Lo=null,dp={onError:function(e){Pn=!0,Bs=e}};function fp(e,t,r,n,a,o,l,i,c){Pn=!1,Bs=null,up.apply(dp,arguments)}function mp(e,t,r,n,a,o,l,i,c){if(fp.apply(this,arguments),Pn){if(Pn){var u=Bs;Pn=!1,Bs=null}else throw Error(O(198));Vs||(Vs=!0,Lo=u)}}function Cr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function qu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vi(e){if(Cr(e)!==e)throw Error(O(188))}function pp(e){var t=e.alternate;if(!t){if(t=Cr(e),t===null)throw Error(O(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return Vi(a),e;if(o===n)return Vi(a),t;o=o.sibling}throw Error(O(188))}if(r.return!==n.return)r=a,n=o;else{for(var l=!1,i=a.child;i;){if(i===r){l=!0,r=a,n=o;break}if(i===n){l=!0,n=a,r=o;break}i=i.sibling}if(!l){for(i=o.child;i;){if(i===r){l=!0,r=o,n=a;break}if(i===n){l=!0,n=o,r=a;break}i=i.sibling}if(!l)throw Error(O(189))}}if(r.alternate!==n)throw Error(O(190))}if(r.tag!==3)throw Error(O(188));return r.stateNode.current===r?e:t}function Qu(e){return e=pp(e),e!==null?Gu(e):null}function Gu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Gu(e);if(t!==null)return t;e=e.sibling}return null}var Ku=Ge.unstable_scheduleCallback,Wi=Ge.unstable_cancelCallback,hp=Ge.unstable_shouldYield,gp=Ge.unstable_requestPaint,me=Ge.unstable_now,xp=Ge.unstable_getCurrentPriorityLevel,Rl=Ge.unstable_ImmediatePriority,Ju=Ge.unstable_UserBlockingPriority,Ws=Ge.unstable_NormalPriority,yp=Ge.unstable_LowPriority,Yu=Ge.unstable_IdlePriority,ha=null,vt=null;function vp(e){if(vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(ha,e,void 0,(e.current.flags&128)===128)}catch{}}var ct=Math.clz32?Math.clz32:wp,bp=Math.log,jp=Math.LN2;function wp(e){return e>>>=0,e===0?32:31-(bp(e)/jp|0)|0}var ms=64,ps=4194304;function Nn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hs(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,l=r&268435455;if(l!==0){var i=l&~a;i!==0?n=Nn(i):(o&=l,o!==0&&(n=Nn(o)))}else l=r&~a,l!==0?n=Nn(l):o!==0&&(n=Nn(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ct(t),a=1<<r,n|=e[r],t&=~a;return n}function Np(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kp(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-ct(o),i=1<<l,c=a[l];c===-1?(!(i&r)||i&n)&&(a[l]=Np(i,t)):c<=t&&(e.expiredLanes|=i),o&=~i}}function To(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xu(){var e=ms;return ms<<=1,!(ms&4194240)&&(ms=64),e}function Wa(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ns(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ct(t),e[t]=r}function Cp(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-ct(r),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~o}}function Ll(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ct(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var re=0;function Zu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ed,Tl,td,rd,nd,Fo=!1,hs=[],Wt=null,Ht=null,qt=null,$n=new Map,Un=new Map,Mt=[],Ep="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hi(e,t){switch(e){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":Ht=null;break;case"mouseover":case"mouseout":qt=null;break;case"pointerover":case"pointerout":$n.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Un.delete(t.pointerId)}}function pn(e,t,r,n,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},t!==null&&(t=as(t),t!==null&&Tl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Sp(e,t,r,n,a){switch(t){case"focusin":return Wt=pn(Wt,e,t,r,n,a),!0;case"dragenter":return Ht=pn(Ht,e,t,r,n,a),!0;case"mouseover":return qt=pn(qt,e,t,r,n,a),!0;case"pointerover":var o=a.pointerId;return $n.set(o,pn($n.get(o)||null,e,t,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,Un.set(o,pn(Un.get(o)||null,e,t,r,n,a)),!0}return!1}function sd(e){var t=ur(e.target);if(t!==null){var r=Cr(t);if(r!==null){if(t=r.tag,t===13){if(t=qu(r),t!==null){e.blockedOn=t,nd(e.priority,function(){td(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ps(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Oo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Po=n,r.target.dispatchEvent(n),Po=null}else return t=as(r),t!==null&&Tl(t),e.blockedOn=r,!1;t.shift()}return!0}function qi(e,t,r){Ps(e)&&r.delete(t)}function Pp(){Fo=!1,Wt!==null&&Ps(Wt)&&(Wt=null),Ht!==null&&Ps(Ht)&&(Ht=null),qt!==null&&Ps(qt)&&(qt=null),$n.forEach(qi),Un.forEach(qi)}function hn(e,t){e.blockedOn===t&&(e.blockedOn=null,Fo||(Fo=!0,Ge.unstable_scheduleCallback(Ge.unstable_NormalPriority,Pp)))}function In(e){function t(a){return hn(a,e)}if(0<hs.length){hn(hs[0],e);for(var r=1;r<hs.length;r++){var n=hs[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Wt!==null&&hn(Wt,e),Ht!==null&&hn(Ht,e),qt!==null&&hn(qt,e),$n.forEach(t),Un.forEach(t),r=0;r<Mt.length;r++)n=Mt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Mt.length&&(r=Mt[0],r.blockedOn===null);)sd(r),r.blockedOn===null&&Mt.shift()}var Wr=Tt.ReactCurrentBatchConfig,qs=!0;function _p(e,t,r,n){var a=re,o=Wr.transition;Wr.transition=null;try{re=1,Fl(e,t,r,n)}finally{re=a,Wr.transition=o}}function Rp(e,t,r,n){var a=re,o=Wr.transition;Wr.transition=null;try{re=4,Fl(e,t,r,n)}finally{re=a,Wr.transition=o}}function Fl(e,t,r,n){if(qs){var a=Oo(e,t,r,n);if(a===null)eo(e,t,n,Qs,r),Hi(e,n);else if(Sp(a,e,t,r,n))n.stopPropagation();else if(Hi(e,n),t&4&&-1<Ep.indexOf(e)){for(;a!==null;){var o=as(a);if(o!==null&&ed(o),o=Oo(e,t,r,n),o===null&&eo(e,t,n,Qs,r),o===a)break;a=o}a!==null&&n.stopPropagation()}else eo(e,t,n,null,r)}}var Qs=null;function Oo(e,t,r,n){if(Qs=null,e=_l(n),e=ur(e),e!==null)if(t=Cr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=qu(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qs=e,null}function ad(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xp()){case Rl:return 1;case Ju:return 4;case Ws:case yp:return 16;case Yu:return 536870912;default:return 16}default:return 16}}var Ut=null,Ol=null,_s=null;function od(){if(_s)return _s;var e,t=Ol,r=t.length,n,a="value"in Ut?Ut.value:Ut.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===a[o-n];n++);return _s=a.slice(e,1<n?1-n:void 0)}function Rs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gs(){return!0}function Qi(){return!1}function Je(e){function t(r,n,a,o,l){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(r=e[i],this[i]=r?r(o):o[i]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?gs:Qi,this.isPropagationStopped=Qi,this}return de(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=gs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=gs)},persist:function(){},isPersistent:gs}),t}var rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zl=Je(rn),ss=de({},rn,{view:0,detail:0}),Lp=Je(ss),Ha,qa,gn,ga=de({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Al,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gn&&(gn&&e.type==="mousemove"?(Ha=e.screenX-gn.screenX,qa=e.screenY-gn.screenY):qa=Ha=0,gn=e),Ha)},movementY:function(e){return"movementY"in e?e.movementY:qa}}),Gi=Je(ga),Tp=de({},ga,{dataTransfer:0}),Fp=Je(Tp),Op=de({},ss,{relatedTarget:0}),Qa=Je(Op),zp=de({},rn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ap=Je(zp),Dp=de({},rn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Mp=Je(Dp),$p=de({},rn,{data:0}),Ki=Je($p),Up={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ip={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Bp[e])?!!t[e]:!1}function Al(){return Vp}var Wp=de({},ss,{key:function(e){if(e.key){var t=Up[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Rs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ip[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Al,charCode:function(e){return e.type==="keypress"?Rs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Hp=Je(Wp),qp=de({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ji=Je(qp),Qp=de({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Al}),Gp=Je(Qp),Kp=de({},rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jp=Je(Kp),Yp=de({},ga,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xp=Je(Yp),Zp=[9,13,27,32],Dl=Pt&&"CompositionEvent"in window,_n=null;Pt&&"documentMode"in document&&(_n=document.documentMode);var eh=Pt&&"TextEvent"in window&&!_n,ld=Pt&&(!Dl||_n&&8<_n&&11>=_n),Yi=" ",Xi=!1;function id(e,t){switch(e){case"keyup":return Zp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rr=!1;function th(e,t){switch(e){case"compositionend":return cd(t);case"keypress":return t.which!==32?null:(Xi=!0,Yi);case"textInput":return e=t.data,e===Yi&&Xi?null:e;default:return null}}function rh(e,t){if(Rr)return e==="compositionend"||!Dl&&id(e,t)?(e=od(),_s=Ol=Ut=null,Rr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ld&&t.locale!=="ko"?null:t.data;default:return null}}var nh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nh[e.type]:t==="textarea"}function ud(e,t,r,n){Iu(n),t=Gs(t,"onChange"),0<t.length&&(r=new zl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Rn=null,Bn=null;function sh(e){jd(e,0)}function xa(e){var t=Fr(e);if(Ou(t))return e}function ah(e,t){if(e==="change")return t}var dd=!1;if(Pt){var Ga;if(Pt){var Ka="oninput"in document;if(!Ka){var ec=document.createElement("div");ec.setAttribute("oninput","return;"),Ka=typeof ec.oninput=="function"}Ga=Ka}else Ga=!1;dd=Ga&&(!document.documentMode||9<document.documentMode)}function tc(){Rn&&(Rn.detachEvent("onpropertychange",fd),Bn=Rn=null)}function fd(e){if(e.propertyName==="value"&&xa(Bn)){var t=[];ud(t,Bn,e,_l(e)),Hu(sh,t)}}function oh(e,t,r){e==="focusin"?(tc(),Rn=t,Bn=r,Rn.attachEvent("onpropertychange",fd)):e==="focusout"&&tc()}function lh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xa(Bn)}function ih(e,t){if(e==="click")return xa(t)}function ch(e,t){if(e==="input"||e==="change")return xa(t)}function uh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dt=typeof Object.is=="function"?Object.is:uh;function Vn(e,t){if(dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!go.call(t,a)||!dt(e[a],t[a]))return!1}return!0}function rc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nc(e,t){var r=rc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=rc(r)}}function md(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?md(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pd(){for(var e=window,t=Is();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Is(e.document)}return t}function Ml(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function dh(e){var t=pd(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&md(r.ownerDocument.documentElement,r)){if(n!==null&&Ml(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=nc(r,o);var l=nc(r,n);a&&l&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fh=Pt&&"documentMode"in document&&11>=document.documentMode,Lr=null,zo=null,Ln=null,Ao=!1;function sc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ao||Lr==null||Lr!==Is(n)||(n=Lr,"selectionStart"in n&&Ml(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ln&&Vn(Ln,n)||(Ln=n,n=Gs(zo,"onSelect"),0<n.length&&(t=new zl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Lr)))}function xs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Tr={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionend:xs("Transition","TransitionEnd")},Ja={},hd={};Pt&&(hd=document.createElement("div").style,"AnimationEvent"in window||(delete Tr.animationend.animation,delete Tr.animationiteration.animation,delete Tr.animationstart.animation),"TransitionEvent"in window||delete Tr.transitionend.transition);function ya(e){if(Ja[e])return Ja[e];if(!Tr[e])return e;var t=Tr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in hd)return Ja[e]=t[r];return e}var gd=ya("animationend"),xd=ya("animationiteration"),yd=ya("animationstart"),vd=ya("transitionend"),bd=new Map,ac="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rr(e,t){bd.set(e,t),kr(t,[e])}for(var Ya=0;Ya<ac.length;Ya++){var Xa=ac[Ya],mh=Xa.toLowerCase(),ph=Xa[0].toUpperCase()+Xa.slice(1);rr(mh,"on"+ph)}rr(gd,"onAnimationEnd");rr(xd,"onAnimationIteration");rr(yd,"onAnimationStart");rr("dblclick","onDoubleClick");rr("focusin","onFocus");rr("focusout","onBlur");rr(vd,"onTransitionEnd");Gr("onMouseEnter",["mouseout","mouseover"]);Gr("onMouseLeave",["mouseout","mouseover"]);Gr("onPointerEnter",["pointerout","pointerover"]);Gr("onPointerLeave",["pointerout","pointerover"]);kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kr("onBeforeInput",["compositionend","keypress","textInput","paste"]);kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hh=new Set("cancel close invalid load scroll toggle".split(" ").concat(kn));function oc(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,mp(n,t,void 0,e),e.currentTarget=null}function jd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var l=n.length-1;0<=l;l--){var i=n[l],c=i.instance,u=i.currentTarget;if(i=i.listener,c!==o&&a.isPropagationStopped())break e;oc(a,i,u),o=c}else for(l=0;l<n.length;l++){if(i=n[l],c=i.instance,u=i.currentTarget,i=i.listener,c!==o&&a.isPropagationStopped())break e;oc(a,i,u),o=c}}}if(Vs)throw e=Lo,Vs=!1,Lo=null,e}function ae(e,t){var r=t[Io];r===void 0&&(r=t[Io]=new Set);var n=e+"__bubble";r.has(n)||(wd(t,e,2,!1),r.add(n))}function Za(e,t,r){var n=0;t&&(n|=4),wd(r,e,n,t)}var ys="_reactListening"+Math.random().toString(36).slice(2);function Wn(e){if(!e[ys]){e[ys]=!0,_u.forEach(function(r){r!=="selectionchange"&&(hh.has(r)||Za(r,!1,e),Za(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ys]||(t[ys]=!0,Za("selectionchange",!1,t))}}function wd(e,t,r,n){switch(ad(t)){case 1:var a=_p;break;case 4:a=Rp;break;default:a=Fl}r=a.bind(null,t,r,e),a=void 0,!Ro||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function eo(e,t,r,n,a){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var i=n.stateNode.containerInfo;if(i===a||i.nodeType===8&&i.parentNode===a)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;l=l.return}for(;i!==null;){if(l=ur(i),l===null)return;if(c=l.tag,c===5||c===6){n=o=l;continue e}i=i.parentNode}}n=n.return}Hu(function(){var u=o,f=_l(r),d=[];e:{var g=bd.get(e);if(g!==void 0){var b=zl,x=e;switch(e){case"keypress":if(Rs(r)===0)break e;case"keydown":case"keyup":b=Hp;break;case"focusin":x="focus",b=Qa;break;case"focusout":x="blur",b=Qa;break;case"beforeblur":case"afterblur":b=Qa;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=Gi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=Fp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=Gp;break;case gd:case xd:case yd:b=Ap;break;case vd:b=Jp;break;case"scroll":b=Lp;break;case"wheel":b=Xp;break;case"copy":case"cut":case"paste":b=Mp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=Ji}var v=(t&4)!==0,w=!v&&e==="scroll",p=v?g!==null?g+"Capture":null:g;v=[];for(var m=u,h;m!==null;){h=m;var E=h.stateNode;if(h.tag===5&&E!==null&&(h=E,p!==null&&(E=Mn(m,p),E!=null&&v.push(Hn(m,E,h)))),w)break;m=m.return}0<v.length&&(g=new b(g,x,null,r,f),d.push({event:g,listeners:v}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",g&&r!==Po&&(x=r.relatedTarget||r.fromElement)&&(ur(x)||x[_t]))break e;if((b||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,b?(x=r.relatedTarget||r.toElement,b=u,x=x?ur(x):null,x!==null&&(w=Cr(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(b=null,x=u),b!==x)){if(v=Gi,E="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(v=Ji,E="onPointerLeave",p="onPointerEnter",m="pointer"),w=b==null?g:Fr(b),h=x==null?g:Fr(x),g=new v(E,m+"leave",b,r,f),g.target=w,g.relatedTarget=h,E=null,ur(f)===u&&(v=new v(p,m+"enter",x,r,f),v.target=h,v.relatedTarget=w,E=v),w=E,b&&x)t:{for(v=b,p=x,m=0,h=v;h;h=Sr(h))m++;for(h=0,E=p;E;E=Sr(E))h++;for(;0<m-h;)v=Sr(v),m--;for(;0<h-m;)p=Sr(p),h--;for(;m--;){if(v===p||p!==null&&v===p.alternate)break t;v=Sr(v),p=Sr(p)}v=null}else v=null;b!==null&&lc(d,g,b,v,!1),x!==null&&w!==null&&lc(d,w,x,v,!0)}}e:{if(g=u?Fr(u):window,b=g.nodeName&&g.nodeName.toLowerCase(),b==="select"||b==="input"&&g.type==="file")var P=ah;else if(Zi(g))if(dd)P=ch;else{P=lh;var k=oh}else(b=g.nodeName)&&b.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(P=ih);if(P&&(P=P(e,u))){ud(d,P,r,f);break e}k&&k(e,g,u),e==="focusout"&&(k=g._wrapperState)&&k.controlled&&g.type==="number"&&No(g,"number",g.value)}switch(k=u?Fr(u):window,e){case"focusin":(Zi(k)||k.contentEditable==="true")&&(Lr=k,zo=u,Ln=null);break;case"focusout":Ln=zo=Lr=null;break;case"mousedown":Ao=!0;break;case"contextmenu":case"mouseup":case"dragend":Ao=!1,sc(d,r,f);break;case"selectionchange":if(fh)break;case"keydown":case"keyup":sc(d,r,f)}var R;if(Dl)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Rr?id(e,r)&&(L="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(L="onCompositionStart");L&&(ld&&r.locale!=="ko"&&(Rr||L!=="onCompositionStart"?L==="onCompositionEnd"&&Rr&&(R=od()):(Ut=f,Ol="value"in Ut?Ut.value:Ut.textContent,Rr=!0)),k=Gs(u,L),0<k.length&&(L=new Ki(L,e,null,r,f),d.push({event:L,listeners:k}),R?L.data=R:(R=cd(r),R!==null&&(L.data=R)))),(R=eh?th(e,r):rh(e,r))&&(u=Gs(u,"onBeforeInput"),0<u.length&&(f=new Ki("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:u}),f.data=R))}jd(d,t)})}function Hn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Gs(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=Mn(e,r),o!=null&&n.unshift(Hn(e,o,a)),o=Mn(e,t),o!=null&&n.push(Hn(e,o,a))),e=e.return}return n}function Sr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lc(e,t,r,n,a){for(var o=t._reactName,l=[];r!==null&&r!==n;){var i=r,c=i.alternate,u=i.stateNode;if(c!==null&&c===n)break;i.tag===5&&u!==null&&(i=u,a?(c=Mn(r,o),c!=null&&l.unshift(Hn(r,c,i))):a||(c=Mn(r,o),c!=null&&l.push(Hn(r,c,i)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var gh=/\r\n?/g,xh=/\u0000|\uFFFD/g;function ic(e){return(typeof e=="string"?e:""+e).replace(gh,`
`).replace(xh,"")}function vs(e,t,r){if(t=ic(t),ic(e)!==t&&r)throw Error(O(425))}function Ks(){}var Do=null,Mo=null;function $o(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Uo=typeof setTimeout=="function"?setTimeout:void 0,yh=typeof clearTimeout=="function"?clearTimeout:void 0,cc=typeof Promise=="function"?Promise:void 0,vh=typeof queueMicrotask=="function"?queueMicrotask:typeof cc<"u"?function(e){return cc.resolve(null).then(e).catch(bh)}:Uo;function bh(e){setTimeout(function(){throw e})}function to(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),In(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);In(t)}function Qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function uc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var nn=Math.random().toString(36).slice(2),gt="__reactFiber$"+nn,qn="__reactProps$"+nn,_t="__reactContainer$"+nn,Io="__reactEvents$"+nn,jh="__reactListeners$"+nn,wh="__reactHandles$"+nn;function ur(e){var t=e[gt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[_t]||r[gt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=uc(e);e!==null;){if(r=e[gt])return r;e=uc(e)}return t}e=r,r=e.parentNode}return null}function as(e){return e=e[gt]||e[_t],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function va(e){return e[qn]||null}var Bo=[],Or=-1;function nr(e){return{current:e}}function oe(e){0>Or||(e.current=Bo[Or],Bo[Or]=null,Or--)}function se(e,t){Or++,Bo[Or]=e.current,e.current=t}var er={},Re=nr(er),$e=nr(!1),xr=er;function Kr(e,t){var r=e.type.contextTypes;if(!r)return er;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ue(e){return e=e.childContextTypes,e!=null}function Js(){oe($e),oe(Re)}function dc(e,t,r){if(Re.current!==er)throw Error(O(168));se(Re,t),se($e,r)}function Nd(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(O(108,op(e)||"Unknown",a));return de({},r,n)}function Ys(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||er,xr=Re.current,se(Re,e),se($e,$e.current),!0}function fc(e,t,r){var n=e.stateNode;if(!n)throw Error(O(169));r?(e=Nd(e,t,xr),n.__reactInternalMemoizedMergedChildContext=e,oe($e),oe(Re),se(Re,e)):oe($e),se($e,r)}var Nt=null,ba=!1,ro=!1;function kd(e){Nt===null?Nt=[e]:Nt.push(e)}function Nh(e){ba=!0,kd(e)}function sr(){if(!ro&&Nt!==null){ro=!0;var e=0,t=re;try{var r=Nt;for(re=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Nt=null,ba=!1}catch(a){throw Nt!==null&&(Nt=Nt.slice(e+1)),Ku(Rl,sr),a}finally{re=t,ro=!1}}return null}var zr=[],Ar=0,Xs=null,Zs=0,Ze=[],et=0,yr=null,Ct=1,Et="";function ir(e,t){zr[Ar++]=Zs,zr[Ar++]=Xs,Xs=e,Zs=t}function Cd(e,t,r){Ze[et++]=Ct,Ze[et++]=Et,Ze[et++]=yr,yr=e;var n=Ct;e=Et;var a=32-ct(n)-1;n&=~(1<<a),r+=1;var o=32-ct(t)+a;if(30<o){var l=a-a%5;o=(n&(1<<l)-1).toString(32),n>>=l,a-=l,Ct=1<<32-ct(t)+a|r<<a|n,Et=o+e}else Ct=1<<o|r<<a|n,Et=e}function $l(e){e.return!==null&&(ir(e,1),Cd(e,1,0))}function Ul(e){for(;e===Xs;)Xs=zr[--Ar],zr[Ar]=null,Zs=zr[--Ar],zr[Ar]=null;for(;e===yr;)yr=Ze[--et],Ze[et]=null,Et=Ze[--et],Ze[et]=null,Ct=Ze[--et],Ze[et]=null}var Qe=null,qe=null,le=!1,it=null;function Ed(e,t){var r=tt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function mc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qe=e,qe=Qt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qe=e,qe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=yr!==null?{id:Ct,overflow:Et}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=tt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Qe=e,qe=null,!0):!1;default:return!1}}function Vo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Wo(e){if(le){var t=qe;if(t){var r=t;if(!mc(e,t)){if(Vo(e))throw Error(O(418));t=Qt(r.nextSibling);var n=Qe;t&&mc(e,t)?Ed(n,r):(e.flags=e.flags&-4097|2,le=!1,Qe=e)}}else{if(Vo(e))throw Error(O(418));e.flags=e.flags&-4097|2,le=!1,Qe=e}}}function pc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qe=e}function bs(e){if(e!==Qe)return!1;if(!le)return pc(e),le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$o(e.type,e.memoizedProps)),t&&(t=qe)){if(Vo(e))throw Sd(),Error(O(418));for(;t;)Ed(e,t),t=Qt(t.nextSibling)}if(pc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){qe=Qt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}qe=null}}else qe=Qe?Qt(e.stateNode.nextSibling):null;return!0}function Sd(){for(var e=qe;e;)e=Qt(e.nextSibling)}function Jr(){qe=Qe=null,le=!1}function Il(e){it===null?it=[e]:it.push(e)}var kh=Tt.ReactCurrentBatchConfig;function xn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(O(309));var n=r.stateNode}if(!n)throw Error(O(147,e));var a=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(l){var i=a.refs;l===null?delete i[o]:i[o]=l},t._stringRef=o,t)}if(typeof e!="string")throw Error(O(284));if(!r._owner)throw Error(O(290,e))}return e}function js(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hc(e){var t=e._init;return t(e._payload)}function Pd(e){function t(p,m){if(e){var h=p.deletions;h===null?(p.deletions=[m],p.flags|=16):h.push(m)}}function r(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function n(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function a(p,m){return p=Yt(p,m),p.index=0,p.sibling=null,p}function o(p,m,h){return p.index=h,e?(h=p.alternate,h!==null?(h=h.index,h<m?(p.flags|=2,m):h):(p.flags|=2,m)):(p.flags|=1048576,m)}function l(p){return e&&p.alternate===null&&(p.flags|=2),p}function i(p,m,h,E){return m===null||m.tag!==6?(m=co(h,p.mode,E),m.return=p,m):(m=a(m,h),m.return=p,m)}function c(p,m,h,E){var P=h.type;return P===_r?f(p,m,h.props.children,E,h.key):m!==null&&(m.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===At&&hc(P)===m.type)?(E=a(m,h.props),E.ref=xn(p,m,h),E.return=p,E):(E=Ds(h.type,h.key,h.props,null,p.mode,E),E.ref=xn(p,m,h),E.return=p,E)}function u(p,m,h,E){return m===null||m.tag!==4||m.stateNode.containerInfo!==h.containerInfo||m.stateNode.implementation!==h.implementation?(m=uo(h,p.mode,E),m.return=p,m):(m=a(m,h.children||[]),m.return=p,m)}function f(p,m,h,E,P){return m===null||m.tag!==7?(m=hr(h,p.mode,E,P),m.return=p,m):(m=a(m,h),m.return=p,m)}function d(p,m,h){if(typeof m=="string"&&m!==""||typeof m=="number")return m=co(""+m,p.mode,h),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case us:return h=Ds(m.type,m.key,m.props,null,p.mode,h),h.ref=xn(p,null,m),h.return=p,h;case Pr:return m=uo(m,p.mode,h),m.return=p,m;case At:var E=m._init;return d(p,E(m._payload),h)}if(wn(m)||fn(m))return m=hr(m,p.mode,h,null),m.return=p,m;js(p,m)}return null}function g(p,m,h,E){var P=m!==null?m.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return P!==null?null:i(p,m,""+h,E);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case us:return h.key===P?c(p,m,h,E):null;case Pr:return h.key===P?u(p,m,h,E):null;case At:return P=h._init,g(p,m,P(h._payload),E)}if(wn(h)||fn(h))return P!==null?null:f(p,m,h,E,null);js(p,h)}return null}function b(p,m,h,E,P){if(typeof E=="string"&&E!==""||typeof E=="number")return p=p.get(h)||null,i(m,p,""+E,P);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case us:return p=p.get(E.key===null?h:E.key)||null,c(m,p,E,P);case Pr:return p=p.get(E.key===null?h:E.key)||null,u(m,p,E,P);case At:var k=E._init;return b(p,m,h,k(E._payload),P)}if(wn(E)||fn(E))return p=p.get(h)||null,f(m,p,E,P,null);js(m,E)}return null}function x(p,m,h,E){for(var P=null,k=null,R=m,L=m=0,N=null;R!==null&&L<h.length;L++){R.index>L?(N=R,R=null):N=R.sibling;var j=g(p,R,h[L],E);if(j===null){R===null&&(R=N);break}e&&R&&j.alternate===null&&t(p,R),m=o(j,m,L),k===null?P=j:k.sibling=j,k=j,R=N}if(L===h.length)return r(p,R),le&&ir(p,L),P;if(R===null){for(;L<h.length;L++)R=d(p,h[L],E),R!==null&&(m=o(R,m,L),k===null?P=R:k.sibling=R,k=R);return le&&ir(p,L),P}for(R=n(p,R);L<h.length;L++)N=b(R,p,L,h[L],E),N!==null&&(e&&N.alternate!==null&&R.delete(N.key===null?L:N.key),m=o(N,m,L),k===null?P=N:k.sibling=N,k=N);return e&&R.forEach(function(C){return t(p,C)}),le&&ir(p,L),P}function v(p,m,h,E){var P=fn(h);if(typeof P!="function")throw Error(O(150));if(h=P.call(h),h==null)throw Error(O(151));for(var k=P=null,R=m,L=m=0,N=null,j=h.next();R!==null&&!j.done;L++,j=h.next()){R.index>L?(N=R,R=null):N=R.sibling;var C=g(p,R,j.value,E);if(C===null){R===null&&(R=N);break}e&&R&&C.alternate===null&&t(p,R),m=o(C,m,L),k===null?P=C:k.sibling=C,k=C,R=N}if(j.done)return r(p,R),le&&ir(p,L),P;if(R===null){for(;!j.done;L++,j=h.next())j=d(p,j.value,E),j!==null&&(m=o(j,m,L),k===null?P=j:k.sibling=j,k=j);return le&&ir(p,L),P}for(R=n(p,R);!j.done;L++,j=h.next())j=b(R,p,L,j.value,E),j!==null&&(e&&j.alternate!==null&&R.delete(j.key===null?L:j.key),m=o(j,m,L),k===null?P=j:k.sibling=j,k=j);return e&&R.forEach(function(M){return t(p,M)}),le&&ir(p,L),P}function w(p,m,h,E){if(typeof h=="object"&&h!==null&&h.type===_r&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case us:e:{for(var P=h.key,k=m;k!==null;){if(k.key===P){if(P=h.type,P===_r){if(k.tag===7){r(p,k.sibling),m=a(k,h.props.children),m.return=p,p=m;break e}}else if(k.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===At&&hc(P)===k.type){r(p,k.sibling),m=a(k,h.props),m.ref=xn(p,k,h),m.return=p,p=m;break e}r(p,k);break}else t(p,k);k=k.sibling}h.type===_r?(m=hr(h.props.children,p.mode,E,h.key),m.return=p,p=m):(E=Ds(h.type,h.key,h.props,null,p.mode,E),E.ref=xn(p,m,h),E.return=p,p=E)}return l(p);case Pr:e:{for(k=h.key;m!==null;){if(m.key===k)if(m.tag===4&&m.stateNode.containerInfo===h.containerInfo&&m.stateNode.implementation===h.implementation){r(p,m.sibling),m=a(m,h.children||[]),m.return=p,p=m;break e}else{r(p,m);break}else t(p,m);m=m.sibling}m=uo(h,p.mode,E),m.return=p,p=m}return l(p);case At:return k=h._init,w(p,m,k(h._payload),E)}if(wn(h))return x(p,m,h,E);if(fn(h))return v(p,m,h,E);js(p,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,m!==null&&m.tag===6?(r(p,m.sibling),m=a(m,h),m.return=p,p=m):(r(p,m),m=co(h,p.mode,E),m.return=p,p=m),l(p)):r(p,m)}return w}var Yr=Pd(!0),_d=Pd(!1),ea=nr(null),ta=null,Dr=null,Bl=null;function Vl(){Bl=Dr=ta=null}function Wl(e){var t=ea.current;oe(ea),e._currentValue=t}function Ho(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Hr(e,t){ta=e,Bl=Dr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(De=!0),e.firstContext=null)}function nt(e){var t=e._currentValue;if(Bl!==e)if(e={context:e,memoizedValue:t,next:null},Dr===null){if(ta===null)throw Error(O(308));Dr=e,ta.dependencies={lanes:0,firstContext:e}}else Dr=Dr.next=e;return t}var dr=null;function Hl(e){dr===null?dr=[e]:dr.push(e)}function Rd(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Hl(t)):(r.next=a.next,a.next=r),t.interleaved=r,Rt(e,n)}function Rt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Dt=!1;function ql(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ld(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function St(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ee&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Rt(e,r)}return a=n.interleaved,a===null?(t.next=t,Hl(n)):(t.next=a.next,a.next=t),n.interleaved=t,Rt(e,r)}function Ls(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ll(e,r)}}function gc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=l:o=o.next=l,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ra(e,t,r,n){var a=e.updateQueue;Dt=!1;var o=a.firstBaseUpdate,l=a.lastBaseUpdate,i=a.shared.pending;if(i!==null){a.shared.pending=null;var c=i,u=c.next;c.next=null,l===null?o=u:l.next=u,l=c;var f=e.alternate;f!==null&&(f=f.updateQueue,i=f.lastBaseUpdate,i!==l&&(i===null?f.firstBaseUpdate=u:i.next=u,f.lastBaseUpdate=c))}if(o!==null){var d=a.baseState;l=0,f=u=c=null,i=o;do{var g=i.lane,b=i.eventTime;if((n&g)===g){f!==null&&(f=f.next={eventTime:b,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var x=e,v=i;switch(g=t,b=r,v.tag){case 1:if(x=v.payload,typeof x=="function"){d=x.call(b,d,g);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,g=typeof x=="function"?x.call(b,d,g):x,g==null)break e;d=de({},d,g);break e;case 2:Dt=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,g=a.effects,g===null?a.effects=[i]:g.push(i))}else b={eventTime:b,lane:g,tag:i.tag,payload:i.payload,callback:i.callback,next:null},f===null?(u=f=b,c=d):f=f.next=b,l|=g;if(i=i.next,i===null){if(i=a.shared.pending,i===null)break;g=i,i=g.next,g.next=null,a.lastBaseUpdate=g,a.shared.pending=null}}while(!0);if(f===null&&(c=d),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=f,t=a.shared.interleaved,t!==null){a=t;do l|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);br|=l,e.lanes=l,e.memoizedState=d}}function xc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(O(191,a));a.call(n)}}}var os={},bt=nr(os),Qn=nr(os),Gn=nr(os);function fr(e){if(e===os)throw Error(O(174));return e}function Ql(e,t){switch(se(Gn,t),se(Qn,e),se(bt,os),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Co(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Co(t,e)}oe(bt),se(bt,t)}function Xr(){oe(bt),oe(Qn),oe(Gn)}function Td(e){fr(Gn.current);var t=fr(bt.current),r=Co(t,e.type);t!==r&&(se(Qn,e),se(bt,r))}function Gl(e){Qn.current===e&&(oe(bt),oe(Qn))}var ce=nr(0);function na(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var no=[];function Kl(){for(var e=0;e<no.length;e++)no[e]._workInProgressVersionPrimary=null;no.length=0}var Ts=Tt.ReactCurrentDispatcher,so=Tt.ReactCurrentBatchConfig,vr=0,ue=null,xe=null,ve=null,sa=!1,Tn=!1,Kn=0,Ch=0;function Ee(){throw Error(O(321))}function Jl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!dt(e[r],t[r]))return!1;return!0}function Yl(e,t,r,n,a,o){if(vr=o,ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ts.current=e===null||e.memoizedState===null?_h:Rh,e=r(n,a),Tn){o=0;do{if(Tn=!1,Kn=0,25<=o)throw Error(O(301));o+=1,ve=xe=null,t.updateQueue=null,Ts.current=Lh,e=r(n,a)}while(Tn)}if(Ts.current=aa,t=xe!==null&&xe.next!==null,vr=0,ve=xe=ue=null,sa=!1,t)throw Error(O(300));return e}function Xl(){var e=Kn!==0;return Kn=0,e}function ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?ue.memoizedState=ve=e:ve=ve.next=e,ve}function st(){if(xe===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=xe.next;var t=ve===null?ue.memoizedState:ve.next;if(t!==null)ve=t,xe=e;else{if(e===null)throw Error(O(310));xe=e,e={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},ve===null?ue.memoizedState=ve=e:ve=ve.next=e}return ve}function Jn(e,t){return typeof t=="function"?t(e):t}function ao(e){var t=st(),r=t.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=e;var n=xe,a=n.baseQueue,o=r.pending;if(o!==null){if(a!==null){var l=a.next;a.next=o.next,o.next=l}n.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,n=n.baseState;var i=l=null,c=null,u=o;do{var f=u.lane;if((vr&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(i=c=d,l=n):c=c.next=d,ue.lanes|=f,br|=f}u=u.next}while(u!==null&&u!==o);c===null?l=n:c.next=i,dt(n,t.memoizedState)||(De=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do o=a.lane,ue.lanes|=o,br|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function oo(e){var t=st(),r=t.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var l=a=a.next;do o=e(o,l.action),l=l.next;while(l!==a);dt(o,t.memoizedState)||(De=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Fd(){}function Od(e,t){var r=ue,n=st(),a=t(),o=!dt(n.memoizedState,a);if(o&&(n.memoizedState=a,De=!0),n=n.queue,Zl(Dd.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||ve!==null&&ve.memoizedState.tag&1){if(r.flags|=2048,Yn(9,Ad.bind(null,r,n,a,t),void 0,null),be===null)throw Error(O(349));vr&30||zd(r,t,a)}return a}function zd(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ad(e,t,r,n){t.value=r,t.getSnapshot=n,Md(t)&&$d(e)}function Dd(e,t,r){return r(function(){Md(t)&&$d(e)})}function Md(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!dt(e,r)}catch{return!0}}function $d(e){var t=Rt(e,1);t!==null&&ut(t,e,1,-1)}function yc(e){var t=ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:e},t.queue=e,e=e.dispatch=Ph.bind(null,ue,e),[t.memoizedState,e]}function Yn(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Ud(){return st().memoizedState}function Fs(e,t,r,n){var a=ht();ue.flags|=e,a.memoizedState=Yn(1|t,r,void 0,n===void 0?null:n)}function ja(e,t,r,n){var a=st();n=n===void 0?null:n;var o=void 0;if(xe!==null){var l=xe.memoizedState;if(o=l.destroy,n!==null&&Jl(n,l.deps)){a.memoizedState=Yn(t,r,o,n);return}}ue.flags|=e,a.memoizedState=Yn(1|t,r,o,n)}function vc(e,t){return Fs(8390656,8,e,t)}function Zl(e,t){return ja(2048,8,e,t)}function Id(e,t){return ja(4,2,e,t)}function Bd(e,t){return ja(4,4,e,t)}function Vd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Wd(e,t,r){return r=r!=null?r.concat([e]):null,ja(4,4,Vd.bind(null,t,e),r)}function ei(){}function Hd(e,t){var r=st();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Jl(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function qd(e,t){var r=st();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Jl(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Qd(e,t,r){return vr&21?(dt(r,t)||(r=Xu(),ue.lanes|=r,br|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,De=!0),e.memoizedState=r)}function Eh(e,t){var r=re;re=r!==0&&4>r?r:4,e(!0);var n=so.transition;so.transition={};try{e(!1),t()}finally{re=r,so.transition=n}}function Gd(){return st().memoizedState}function Sh(e,t,r){var n=Jt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Kd(e))Jd(t,r);else if(r=Rd(e,t,r,n),r!==null){var a=Fe();ut(r,e,n,a),Yd(r,t,n)}}function Ph(e,t,r){var n=Jt(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Kd(e))Jd(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var l=t.lastRenderedState,i=o(l,r);if(a.hasEagerState=!0,a.eagerState=i,dt(i,l)){var c=t.interleaved;c===null?(a.next=a,Hl(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=Rd(e,t,a,n),r!==null&&(a=Fe(),ut(r,e,n,a),Yd(r,t,n))}}function Kd(e){var t=e.alternate;return e===ue||t!==null&&t===ue}function Jd(e,t){Tn=sa=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Yd(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ll(e,r)}}var aa={readContext:nt,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useInsertionEffect:Ee,useLayoutEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useMutableSource:Ee,useSyncExternalStore:Ee,useId:Ee,unstable_isNewReconciler:!1},_h={readContext:nt,useCallback:function(e,t){return ht().memoizedState=[e,t===void 0?null:t],e},useContext:nt,useEffect:vc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Fs(4194308,4,Vd.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Fs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fs(4,2,e,t)},useMemo:function(e,t){var r=ht();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ht();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Sh.bind(null,ue,e),[n.memoizedState,e]},useRef:function(e){var t=ht();return e={current:e},t.memoizedState=e},useState:yc,useDebugValue:ei,useDeferredValue:function(e){return ht().memoizedState=e},useTransition:function(){var e=yc(!1),t=e[0];return e=Eh.bind(null,e[1]),ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ue,a=ht();if(le){if(r===void 0)throw Error(O(407));r=r()}else{if(r=t(),be===null)throw Error(O(349));vr&30||zd(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,vc(Dd.bind(null,n,o,e),[e]),n.flags|=2048,Yn(9,Ad.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=ht(),t=be.identifierPrefix;if(le){var r=Et,n=Ct;r=(n&~(1<<32-ct(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Kn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Ch++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Rh={readContext:nt,useCallback:Hd,useContext:nt,useEffect:Zl,useImperativeHandle:Wd,useInsertionEffect:Id,useLayoutEffect:Bd,useMemo:qd,useReducer:ao,useRef:Ud,useState:function(){return ao(Jn)},useDebugValue:ei,useDeferredValue:function(e){var t=st();return Qd(t,xe.memoizedState,e)},useTransition:function(){var e=ao(Jn)[0],t=st().memoizedState;return[e,t]},useMutableSource:Fd,useSyncExternalStore:Od,useId:Gd,unstable_isNewReconciler:!1},Lh={readContext:nt,useCallback:Hd,useContext:nt,useEffect:Zl,useImperativeHandle:Wd,useInsertionEffect:Id,useLayoutEffect:Bd,useMemo:qd,useReducer:oo,useRef:Ud,useState:function(){return oo(Jn)},useDebugValue:ei,useDeferredValue:function(e){var t=st();return xe===null?t.memoizedState=e:Qd(t,xe.memoizedState,e)},useTransition:function(){var e=oo(Jn)[0],t=st().memoizedState;return[e,t]},useMutableSource:Fd,useSyncExternalStore:Od,useId:Gd,unstable_isNewReconciler:!1};function ot(e,t){if(e&&e.defaultProps){t=de({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function qo(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:de({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var wa={isMounted:function(e){return(e=e._reactInternals)?Cr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Fe(),a=Jt(e),o=St(n,a);o.payload=t,r!=null&&(o.callback=r),t=Gt(e,o,a),t!==null&&(ut(t,e,a,n),Ls(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Fe(),a=Jt(e),o=St(n,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Gt(e,o,a),t!==null&&(ut(t,e,a,n),Ls(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Fe(),n=Jt(e),a=St(r,n);a.tag=2,t!=null&&(a.callback=t),t=Gt(e,a,n),t!==null&&(ut(t,e,n,r),Ls(t,e,n))}};function bc(e,t,r,n,a,o,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,l):t.prototype&&t.prototype.isPureReactComponent?!Vn(r,n)||!Vn(a,o):!0}function Xd(e,t,r){var n=!1,a=er,o=t.contextType;return typeof o=="object"&&o!==null?o=nt(o):(a=Ue(t)?xr:Re.current,n=t.contextTypes,o=(n=n!=null)?Kr(e,a):er),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wa,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function jc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&wa.enqueueReplaceState(t,t.state,null)}function Qo(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},ql(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=nt(o):(o=Ue(t)?xr:Re.current,a.context=Kr(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(qo(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&wa.enqueueReplaceState(a,a.state,null),ra(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Zr(e,t){try{var r="",n=t;do r+=ap(n),n=n.return;while(n);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function lo(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Go(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Th=typeof WeakMap=="function"?WeakMap:Map;function Zd(e,t,r){r=St(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){la||(la=!0,sl=n),Go(e,t)},r}function ef(e,t,r){r=St(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Go(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Go(e,t),typeof n!="function"&&(Kt===null?Kt=new Set([this]):Kt.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function wc(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Th;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=qh.bind(null,e,t,r),t.then(e,e))}function Nc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function kc(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=St(-1,1),t.tag=2,Gt(r,t,1))),r.lanes|=1),e)}var Fh=Tt.ReactCurrentOwner,De=!1;function Le(e,t,r,n){t.child=e===null?_d(t,null,r,n):Yr(t,e.child,r,n)}function Cc(e,t,r,n,a){r=r.render;var o=t.ref;return Hr(t,a),n=Yl(e,t,r,n,o,a),r=Xl(),e!==null&&!De?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Lt(e,t,a)):(le&&r&&$l(t),t.flags|=1,Le(e,t,n,a),t.child)}function Ec(e,t,r,n,a){if(e===null){var o=r.type;return typeof o=="function"&&!ii(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,tf(e,t,o,n,a)):(e=Ds(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var l=o.memoizedProps;if(r=r.compare,r=r!==null?r:Vn,r(l,n)&&e.ref===t.ref)return Lt(e,t,a)}return t.flags|=1,e=Yt(o,n),e.ref=t.ref,e.return=t,t.child=e}function tf(e,t,r,n,a){if(e!==null){var o=e.memoizedProps;if(Vn(o,n)&&e.ref===t.ref)if(De=!1,t.pendingProps=n=o,(e.lanes&a)!==0)e.flags&131072&&(De=!0);else return t.lanes=e.lanes,Lt(e,t,a)}return Ko(e,t,r,n,a)}function rf(e,t,r){var n=t.pendingProps,a=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},se($r,He),He|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,se($r,He),He|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,se($r,He),He|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,se($r,He),He|=n;return Le(e,t,a,r),t.child}function nf(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ko(e,t,r,n,a){var o=Ue(r)?xr:Re.current;return o=Kr(t,o),Hr(t,a),r=Yl(e,t,r,n,o,a),n=Xl(),e!==null&&!De?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Lt(e,t,a)):(le&&n&&$l(t),t.flags|=1,Le(e,t,r,a),t.child)}function Sc(e,t,r,n,a){if(Ue(r)){var o=!0;Ys(t)}else o=!1;if(Hr(t,a),t.stateNode===null)Os(e,t),Xd(t,r,n),Qo(t,r,n,a),n=!0;else if(e===null){var l=t.stateNode,i=t.memoizedProps;l.props=i;var c=l.context,u=r.contextType;typeof u=="object"&&u!==null?u=nt(u):(u=Ue(r)?xr:Re.current,u=Kr(t,u));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";d||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(i!==n||c!==u)&&jc(t,l,n,u),Dt=!1;var g=t.memoizedState;l.state=g,ra(t,n,l,a),c=t.memoizedState,i!==n||g!==c||$e.current||Dt?(typeof f=="function"&&(qo(t,r,f,n),c=t.memoizedState),(i=Dt||bc(t,r,i,n,g,c,u))?(d||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),l.props=n,l.state=c,l.context=u,n=i):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,Ld(e,t),i=t.memoizedProps,u=t.type===t.elementType?i:ot(t.type,i),l.props=u,d=t.pendingProps,g=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=nt(c):(c=Ue(r)?xr:Re.current,c=Kr(t,c));var b=r.getDerivedStateFromProps;(f=typeof b=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(i!==d||g!==c)&&jc(t,l,n,c),Dt=!1,g=t.memoizedState,l.state=g,ra(t,n,l,a);var x=t.memoizedState;i!==d||g!==x||$e.current||Dt?(typeof b=="function"&&(qo(t,r,b,n),x=t.memoizedState),(u=Dt||bc(t,r,u,n,g,x,c)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,x,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,x,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),l.props=n,l.state=x,l.context=c,n=u):(typeof l.componentDidUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),n=!1)}return Jo(e,t,r,n,o,a)}function Jo(e,t,r,n,a,o){nf(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return a&&fc(t,r,!1),Lt(e,t,o);n=t.stateNode,Fh.current=t;var i=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=Yr(t,e.child,null,o),t.child=Yr(t,null,i,o)):Le(e,t,i,o),t.memoizedState=n.state,a&&fc(t,r,!0),t.child}function sf(e){var t=e.stateNode;t.pendingContext?dc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dc(e,t.context,!1),Ql(e,t.containerInfo)}function Pc(e,t,r,n,a){return Jr(),Il(a),t.flags|=256,Le(e,t,r,n),t.child}var Yo={dehydrated:null,treeContext:null,retryLane:0};function Xo(e){return{baseLanes:e,cachePool:null,transitions:null}}function af(e,t,r){var n=t.pendingProps,a=ce.current,o=!1,l=(t.flags&128)!==0,i;if((i=l)||(i=e!==null&&e.memoizedState===null?!1:(a&2)!==0),i?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),se(ce,a&1),e===null)return Wo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,o?(n=t.mode,o=t.child,l={mode:"hidden",children:l},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=Ca(l,n,0,null),e=hr(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Xo(r),t.memoizedState=Yo,e):ti(t,l));if(a=e.memoizedState,a!==null&&(i=a.dehydrated,i!==null))return Oh(e,t,l,n,i,a,r);if(o){o=n.fallback,l=t.mode,a=e.child,i=a.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Yt(a,c),n.subtreeFlags=a.subtreeFlags&14680064),i!==null?o=Yt(i,o):(o=hr(o,l,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,l=e.child.memoizedState,l=l===null?Xo(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~r,t.memoizedState=Yo,n}return o=e.child,e=o.sibling,n=Yt(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ti(e,t){return t=Ca({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ws(e,t,r,n){return n!==null&&Il(n),Yr(t,e.child,null,r),e=ti(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Oh(e,t,r,n,a,o,l){if(r)return t.flags&256?(t.flags&=-257,n=lo(Error(O(422))),ws(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=Ca({mode:"visible",children:n.children},a,0,null),o=hr(o,a,l,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Yr(t,e.child,null,l),t.child.memoizedState=Xo(l),t.memoizedState=Yo,o);if(!(t.mode&1))return ws(e,t,l,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var i=n.dgst;return n=i,o=Error(O(419)),n=lo(o,n,void 0),ws(e,t,l,n)}if(i=(l&e.childLanes)!==0,De||i){if(n=be,n!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|l)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,Rt(e,a),ut(n,e,a,-1))}return li(),n=lo(Error(O(421))),ws(e,t,l,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Qh.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,qe=Qt(a.nextSibling),Qe=t,le=!0,it=null,e!==null&&(Ze[et++]=Ct,Ze[et++]=Et,Ze[et++]=yr,Ct=e.id,Et=e.overflow,yr=t),t=ti(t,n.children),t.flags|=4096,t)}function _c(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Ho(e.return,t,r)}function io(e,t,r,n,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a)}function of(e,t,r){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(Le(e,t,n.children,r),n=ce.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_c(e,r,t);else if(e.tag===19)_c(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(se(ce,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&na(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),io(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&na(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}io(t,!0,r,null,o);break;case"together":io(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Os(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Lt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),br|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,r=Yt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Yt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function zh(e,t,r){switch(t.tag){case 3:sf(t),Jr();break;case 5:Td(t);break;case 1:Ue(t.type)&&Ys(t);break;case 4:Ql(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;se(ea,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(se(ce,ce.current&1),t.flags|=128,null):r&t.child.childLanes?af(e,t,r):(se(ce,ce.current&1),e=Lt(e,t,r),e!==null?e.sibling:null);se(ce,ce.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return of(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),se(ce,ce.current),n)break;return null;case 22:case 23:return t.lanes=0,rf(e,t,r)}return Lt(e,t,r)}var lf,Zo,cf,uf;lf=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Zo=function(){};cf=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,fr(bt.current);var o=null;switch(r){case"input":a=jo(e,a),n=jo(e,n),o=[];break;case"select":a=de({},a,{value:void 0}),n=de({},n,{value:void 0}),o=[];break;case"textarea":a=ko(e,a),n=ko(e,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ks)}Eo(r,n);var l;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var i=a[u];for(l in i)i.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(An.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(i=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==i&&(c!=null||i!=null))if(u==="style")if(i){for(l in i)!i.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&i[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(An.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ae("scroll",e),o||i===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};uf=function(e,t,r,n){r!==n&&(t.flags|=4)};function yn(e,t){if(!le)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Se(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Ah(e,t,r){var n=t.pendingProps;switch(Ul(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(t),null;case 1:return Ue(t.type)&&Js(),Se(t),null;case 3:return n=t.stateNode,Xr(),oe($e),oe(Re),Kl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(bs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,it!==null&&(ll(it),it=null))),Zo(e,t),Se(t),null;case 5:Gl(t);var a=fr(Gn.current);if(r=t.type,e!==null&&t.stateNode!=null)cf(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(O(166));return Se(t),null}if(e=fr(bt.current),bs(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[gt]=t,n[qn]=o,e=(t.mode&1)!==0,r){case"dialog":ae("cancel",n),ae("close",n);break;case"iframe":case"object":case"embed":ae("load",n);break;case"video":case"audio":for(a=0;a<kn.length;a++)ae(kn[a],n);break;case"source":ae("error",n);break;case"img":case"image":case"link":ae("error",n),ae("load",n);break;case"details":ae("toggle",n);break;case"input":Mi(n,o),ae("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},ae("invalid",n);break;case"textarea":Ui(n,o),ae("invalid",n)}Eo(r,o),a=null;for(var l in o)if(o.hasOwnProperty(l)){var i=o[l];l==="children"?typeof i=="string"?n.textContent!==i&&(o.suppressHydrationWarning!==!0&&vs(n.textContent,i,e),a=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(o.suppressHydrationWarning!==!0&&vs(n.textContent,i,e),a=["children",""+i]):An.hasOwnProperty(l)&&i!=null&&l==="onScroll"&&ae("scroll",n)}switch(r){case"input":ds(n),$i(n,o,!0);break;case"textarea":ds(n),Ii(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Ks)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Du(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[gt]=t,e[qn]=n,lf(e,t,!1,!1),t.stateNode=e;e:{switch(l=So(r,n),r){case"dialog":ae("cancel",e),ae("close",e),a=n;break;case"iframe":case"object":case"embed":ae("load",e),a=n;break;case"video":case"audio":for(a=0;a<kn.length;a++)ae(kn[a],e);a=n;break;case"source":ae("error",e),a=n;break;case"img":case"image":case"link":ae("error",e),ae("load",e),a=n;break;case"details":ae("toggle",e),a=n;break;case"input":Mi(e,n),a=jo(e,n),ae("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=de({},n,{value:void 0}),ae("invalid",e);break;case"textarea":Ui(e,n),a=ko(e,n),ae("invalid",e);break;default:a=n}Eo(r,a),i=a;for(o in i)if(i.hasOwnProperty(o)){var c=i[o];o==="style"?Uu(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Mu(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Dn(e,c):typeof c=="number"&&Dn(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(An.hasOwnProperty(o)?c!=null&&o==="onScroll"&&ae("scroll",e):c!=null&&Cl(e,o,c,l))}switch(r){case"input":ds(e),$i(e,n,!1);break;case"textarea":ds(e),Ii(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Zt(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Ir(e,!!n.multiple,o,!1):n.defaultValue!=null&&Ir(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Ks)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Se(t),null;case 6:if(e&&t.stateNode!=null)uf(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(O(166));if(r=fr(Gn.current),fr(bt.current),bs(t)){if(n=t.stateNode,r=t.memoizedProps,n[gt]=t,(o=n.nodeValue!==r)&&(e=Qe,e!==null))switch(e.tag){case 3:vs(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vs(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[gt]=t,t.stateNode=n}return Se(t),null;case 13:if(oe(ce),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(le&&qe!==null&&t.mode&1&&!(t.flags&128))Sd(),Jr(),t.flags|=98560,o=!1;else if(o=bs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(O(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(O(317));o[gt]=t}else Jr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Se(t),o=!1}else it!==null&&(ll(it),it=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ce.current&1?ye===0&&(ye=3):li())),t.updateQueue!==null&&(t.flags|=4),Se(t),null);case 4:return Xr(),Zo(e,t),e===null&&Wn(t.stateNode.containerInfo),Se(t),null;case 10:return Wl(t.type._context),Se(t),null;case 17:return Ue(t.type)&&Js(),Se(t),null;case 19:if(oe(ce),o=t.memoizedState,o===null)return Se(t),null;if(n=(t.flags&128)!==0,l=o.rendering,l===null)if(n)yn(o,!1);else{if(ye!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=na(e),l!==null){for(t.flags|=128,yn(o,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return se(ce,ce.current&1|2),t.child}e=e.sibling}o.tail!==null&&me()>en&&(t.flags|=128,n=!0,yn(o,!1),t.lanes=4194304)}else{if(!n)if(e=na(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),yn(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!le)return Se(t),null}else 2*me()-o.renderingStartTime>en&&r!==1073741824&&(t.flags|=128,n=!0,yn(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(r=o.last,r!==null?r.sibling=l:t.child=l,o.last=l)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=me(),t.sibling=null,r=ce.current,se(ce,n?r&1|2:r&1),t):(Se(t),null);case 22:case 23:return oi(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?He&1073741824&&(Se(t),t.subtreeFlags&6&&(t.flags|=8192)):Se(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function Dh(e,t){switch(Ul(t),t.tag){case 1:return Ue(t.type)&&Js(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xr(),oe($e),oe(Re),Kl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Gl(t),null;case 13:if(oe(ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));Jr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return oe(ce),null;case 4:return Xr(),null;case 10:return Wl(t.type._context),null;case 22:case 23:return oi(),null;case 24:return null;default:return null}}var Ns=!1,Pe=!1,Mh=typeof WeakSet=="function"?WeakSet:Set,B=null;function Mr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){fe(e,t,n)}else r.current=null}function el(e,t,r){try{r()}catch(n){fe(e,t,n)}}var Rc=!1;function $h(e,t){if(Do=qs,e=pd(),Ml(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var l=0,i=-1,c=-1,u=0,f=0,d=e,g=null;t:for(;;){for(var b;d!==r||a!==0&&d.nodeType!==3||(i=l+a),d!==o||n!==0&&d.nodeType!==3||(c=l+n),d.nodeType===3&&(l+=d.nodeValue.length),(b=d.firstChild)!==null;)g=d,d=b;for(;;){if(d===e)break t;if(g===r&&++u===a&&(i=l),g===o&&++f===n&&(c=l),(b=d.nextSibling)!==null)break;d=g,g=d.parentNode}d=b}r=i===-1||c===-1?null:{start:i,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Mo={focusedElem:e,selectionRange:r},qs=!1,B=t;B!==null;)if(t=B,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,B=e;else for(;B!==null;){t=B;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,w=x.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:ot(t.type,v),w);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(E){fe(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,B=e;break}B=t.return}return x=Rc,Rc=!1,x}function Fn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&el(t,r,o)}a=a.next}while(a!==n)}}function Na(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function tl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function df(e){var t=e.alternate;t!==null&&(e.alternate=null,df(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[gt],delete t[qn],delete t[Io],delete t[jh],delete t[wh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ff(e){return e.tag===5||e.tag===3||e.tag===4}function Lc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ff(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ks));else if(n!==4&&(e=e.child,e!==null))for(rl(e,t,r),e=e.sibling;e!==null;)rl(e,t,r),e=e.sibling}function nl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(nl(e,t,r),e=e.sibling;e!==null;)nl(e,t,r),e=e.sibling}var Ne=null,lt=!1;function zt(e,t,r){for(r=r.child;r!==null;)mf(e,t,r),r=r.sibling}function mf(e,t,r){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(ha,r)}catch{}switch(r.tag){case 5:Pe||Mr(r,t);case 6:var n=Ne,a=lt;Ne=null,zt(e,t,r),Ne=n,lt=a,Ne!==null&&(lt?(e=Ne,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ne.removeChild(r.stateNode));break;case 18:Ne!==null&&(lt?(e=Ne,r=r.stateNode,e.nodeType===8?to(e.parentNode,r):e.nodeType===1&&to(e,r),In(e)):to(Ne,r.stateNode));break;case 4:n=Ne,a=lt,Ne=r.stateNode.containerInfo,lt=!0,zt(e,t,r),Ne=n,lt=a;break;case 0:case 11:case 14:case 15:if(!Pe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&el(r,t,l),a=a.next}while(a!==n)}zt(e,t,r);break;case 1:if(!Pe&&(Mr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(i){fe(r,t,i)}zt(e,t,r);break;case 21:zt(e,t,r);break;case 22:r.mode&1?(Pe=(n=Pe)||r.memoizedState!==null,zt(e,t,r),Pe=n):zt(e,t,r);break;default:zt(e,t,r)}}function Tc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Mh),t.forEach(function(n){var a=Gh.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function at(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,l=t,i=l;e:for(;i!==null;){switch(i.tag){case 5:Ne=i.stateNode,lt=!1;break e;case 3:Ne=i.stateNode.containerInfo,lt=!0;break e;case 4:Ne=i.stateNode.containerInfo,lt=!0;break e}i=i.return}if(Ne===null)throw Error(O(160));mf(o,l,a),Ne=null,lt=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){fe(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)pf(t,e),t=t.sibling}function pf(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(at(t,e),mt(e),n&4){try{Fn(3,e,e.return),Na(3,e)}catch(v){fe(e,e.return,v)}try{Fn(5,e,e.return)}catch(v){fe(e,e.return,v)}}break;case 1:at(t,e),mt(e),n&512&&r!==null&&Mr(r,r.return);break;case 5:if(at(t,e),mt(e),n&512&&r!==null&&Mr(r,r.return),e.flags&32){var a=e.stateNode;try{Dn(a,"")}catch(v){fe(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,l=r!==null?r.memoizedProps:o,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&o.type==="radio"&&o.name!=null&&zu(a,o),So(i,l);var u=So(i,o);for(l=0;l<c.length;l+=2){var f=c[l],d=c[l+1];f==="style"?Uu(a,d):f==="dangerouslySetInnerHTML"?Mu(a,d):f==="children"?Dn(a,d):Cl(a,f,d,u)}switch(i){case"input":wo(a,o);break;case"textarea":Au(a,o);break;case"select":var g=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var b=o.value;b!=null?Ir(a,!!o.multiple,b,!1):g!==!!o.multiple&&(o.defaultValue!=null?Ir(a,!!o.multiple,o.defaultValue,!0):Ir(a,!!o.multiple,o.multiple?[]:"",!1))}a[qn]=o}catch(v){fe(e,e.return,v)}}break;case 6:if(at(t,e),mt(e),n&4){if(e.stateNode===null)throw Error(O(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(v){fe(e,e.return,v)}}break;case 3:if(at(t,e),mt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{In(t.containerInfo)}catch(v){fe(e,e.return,v)}break;case 4:at(t,e),mt(e);break;case 13:at(t,e),mt(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(si=me())),n&4&&Tc(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Pe=(u=Pe)||f,at(t,e),Pe=u):at(t,e),mt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(B=e,f=e.child;f!==null;){for(d=B=f;B!==null;){switch(g=B,b=g.child,g.tag){case 0:case 11:case 14:case 15:Fn(4,g,g.return);break;case 1:Mr(g,g.return);var x=g.stateNode;if(typeof x.componentWillUnmount=="function"){n=g,r=g.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(v){fe(n,r,v)}}break;case 5:Mr(g,g.return);break;case 22:if(g.memoizedState!==null){Oc(d);continue}}b!==null?(b.return=g,B=b):Oc(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{a=d.stateNode,u?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(i=d.stateNode,c=d.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=$u("display",l))}catch(v){fe(e,e.return,v)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){fe(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:at(t,e),mt(e),n&4&&Tc(e);break;case 21:break;default:at(t,e),mt(e)}}function mt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(ff(r)){var n=r;break e}r=r.return}throw Error(O(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Dn(a,""),n.flags&=-33);var o=Lc(e);nl(e,o,a);break;case 3:case 4:var l=n.stateNode.containerInfo,i=Lc(e);rl(e,i,l);break;default:throw Error(O(161))}}catch(c){fe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Uh(e,t,r){B=e,hf(e)}function hf(e,t,r){for(var n=(e.mode&1)!==0;B!==null;){var a=B,o=a.child;if(a.tag===22&&n){var l=a.memoizedState!==null||Ns;if(!l){var i=a.alternate,c=i!==null&&i.memoizedState!==null||Pe;i=Ns;var u=Pe;if(Ns=l,(Pe=c)&&!u)for(B=a;B!==null;)l=B,c=l.child,l.tag===22&&l.memoizedState!==null?zc(a):c!==null?(c.return=l,B=c):zc(a);for(;o!==null;)B=o,hf(o),o=o.sibling;B=a,Ns=i,Pe=u}Fc(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,B=o):Fc(e)}}function Fc(e){for(;B!==null;){var t=B;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pe||Na(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Pe)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ot(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&xc(t,o,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}xc(t,l,r)}break;case 5:var i=t.stateNode;if(r===null&&t.flags&4){r=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&In(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Pe||t.flags&512&&tl(t)}catch(g){fe(t,t.return,g)}}if(t===e){B=null;break}if(r=t.sibling,r!==null){r.return=t.return,B=r;break}B=t.return}}function Oc(e){for(;B!==null;){var t=B;if(t===e){B=null;break}var r=t.sibling;if(r!==null){r.return=t.return,B=r;break}B=t.return}}function zc(e){for(;B!==null;){var t=B;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Na(4,t)}catch(c){fe(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){fe(t,a,c)}}var o=t.return;try{tl(t)}catch(c){fe(t,o,c)}break;case 5:var l=t.return;try{tl(t)}catch(c){fe(t,l,c)}}}catch(c){fe(t,t.return,c)}if(t===e){B=null;break}var i=t.sibling;if(i!==null){i.return=t.return,B=i;break}B=t.return}}var Ih=Math.ceil,oa=Tt.ReactCurrentDispatcher,ri=Tt.ReactCurrentOwner,rt=Tt.ReactCurrentBatchConfig,ee=0,be=null,ge=null,ke=0,He=0,$r=nr(0),ye=0,Xn=null,br=0,ka=0,ni=0,On=null,Ae=null,si=0,en=1/0,wt=null,la=!1,sl=null,Kt=null,ks=!1,It=null,ia=0,zn=0,al=null,zs=-1,As=0;function Fe(){return ee&6?me():zs!==-1?zs:zs=me()}function Jt(e){return e.mode&1?ee&2&&ke!==0?ke&-ke:kh.transition!==null?(As===0&&(As=Xu()),As):(e=re,e!==0||(e=window.event,e=e===void 0?16:ad(e.type)),e):1}function ut(e,t,r,n){if(50<zn)throw zn=0,al=null,Error(O(185));ns(e,r,n),(!(ee&2)||e!==be)&&(e===be&&(!(ee&2)&&(ka|=r),ye===4&&$t(e,ke)),Ie(e,n),r===1&&ee===0&&!(t.mode&1)&&(en=me()+500,ba&&sr()))}function Ie(e,t){var r=e.callbackNode;kp(e,t);var n=Hs(e,e===be?ke:0);if(n===0)r!==null&&Wi(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Wi(r),t===1)e.tag===0?Nh(Ac.bind(null,e)):kd(Ac.bind(null,e)),vh(function(){!(ee&6)&&sr()}),r=null;else{switch(Zu(n)){case 1:r=Rl;break;case 4:r=Ju;break;case 16:r=Ws;break;case 536870912:r=Yu;break;default:r=Ws}r=Nf(r,gf.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function gf(e,t){if(zs=-1,As=0,ee&6)throw Error(O(327));var r=e.callbackNode;if(qr()&&e.callbackNode!==r)return null;var n=Hs(e,e===be?ke:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ca(e,n);else{t=n;var a=ee;ee|=2;var o=yf();(be!==e||ke!==t)&&(wt=null,en=me()+500,pr(e,t));do try{Wh();break}catch(i){xf(e,i)}while(!0);Vl(),oa.current=o,ee=a,ge!==null?t=0:(be=null,ke=0,t=ye)}if(t!==0){if(t===2&&(a=To(e),a!==0&&(n=a,t=ol(e,a))),t===1)throw r=Xn,pr(e,0),$t(e,n),Ie(e,me()),r;if(t===6)$t(e,n);else{if(a=e.current.alternate,!(n&30)&&!Bh(a)&&(t=ca(e,n),t===2&&(o=To(e),o!==0&&(n=o,t=ol(e,o))),t===1))throw r=Xn,pr(e,0),$t(e,n),Ie(e,me()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(O(345));case 2:cr(e,Ae,wt);break;case 3:if($t(e,n),(n&130023424)===n&&(t=si+500-me(),10<t)){if(Hs(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Fe(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Uo(cr.bind(null,e,Ae,wt),t);break}cr(e,Ae,wt);break;case 4:if($t(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var l=31-ct(n);o=1<<l,l=t[l],l>a&&(a=l),n&=~o}if(n=a,n=me()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ih(n/1960))-n,10<n){e.timeoutHandle=Uo(cr.bind(null,e,Ae,wt),n);break}cr(e,Ae,wt);break;case 5:cr(e,Ae,wt);break;default:throw Error(O(329))}}}return Ie(e,me()),e.callbackNode===r?gf.bind(null,e):null}function ol(e,t){var r=On;return e.current.memoizedState.isDehydrated&&(pr(e,t).flags|=256),e=ca(e,t),e!==2&&(t=Ae,Ae=r,t!==null&&ll(t)),e}function ll(e){Ae===null?Ae=e:Ae.push.apply(Ae,e)}function Bh(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!dt(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $t(e,t){for(t&=~ni,t&=~ka,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ct(t),n=1<<r;e[r]=-1,t&=~n}}function Ac(e){if(ee&6)throw Error(O(327));qr();var t=Hs(e,0);if(!(t&1))return Ie(e,me()),null;var r=ca(e,t);if(e.tag!==0&&r===2){var n=To(e);n!==0&&(t=n,r=ol(e,n))}if(r===1)throw r=Xn,pr(e,0),$t(e,t),Ie(e,me()),r;if(r===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cr(e,Ae,wt),Ie(e,me()),null}function ai(e,t){var r=ee;ee|=1;try{return e(t)}finally{ee=r,ee===0&&(en=me()+500,ba&&sr())}}function jr(e){It!==null&&It.tag===0&&!(ee&6)&&qr();var t=ee;ee|=1;var r=rt.transition,n=re;try{if(rt.transition=null,re=1,e)return e()}finally{re=n,rt.transition=r,ee=t,!(ee&6)&&sr()}}function oi(){He=$r.current,oe($r)}function pr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,yh(r)),ge!==null)for(r=ge.return;r!==null;){var n=r;switch(Ul(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Js();break;case 3:Xr(),oe($e),oe(Re),Kl();break;case 5:Gl(n);break;case 4:Xr();break;case 13:oe(ce);break;case 19:oe(ce);break;case 10:Wl(n.type._context);break;case 22:case 23:oi()}r=r.return}if(be=e,ge=e=Yt(e.current,null),ke=He=t,ye=0,Xn=null,ni=ka=br=0,Ae=On=null,dr!==null){for(t=0;t<dr.length;t++)if(r=dr[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,o=r.pending;if(o!==null){var l=o.next;o.next=a,n.next=l}r.pending=n}dr=null}return e}function xf(e,t){do{var r=ge;try{if(Vl(),Ts.current=aa,sa){for(var n=ue.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}sa=!1}if(vr=0,ve=xe=ue=null,Tn=!1,Kn=0,ri.current=null,r===null||r.return===null){ye=1,Xn=t,ge=null;break}e:{var o=e,l=r.return,i=r,c=t;if(t=ke,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=i,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var b=Nc(l);if(b!==null){b.flags&=-257,kc(b,l,i,o,t),b.mode&1&&wc(o,u,t),t=b,c=u;var x=t.updateQueue;if(x===null){var v=new Set;v.add(c),t.updateQueue=v}else x.add(c);break e}else{if(!(t&1)){wc(o,u,t),li();break e}c=Error(O(426))}}else if(le&&i.mode&1){var w=Nc(l);if(w!==null){!(w.flags&65536)&&(w.flags|=256),kc(w,l,i,o,t),Il(Zr(c,i));break e}}o=c=Zr(c,i),ye!==4&&(ye=2),On===null?On=[o]:On.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var p=Zd(o,c,t);gc(o,p);break e;case 1:i=c;var m=o.type,h=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Kt===null||!Kt.has(h)))){o.flags|=65536,t&=-t,o.lanes|=t;var E=ef(o,i,t);gc(o,E);break e}}o=o.return}while(o!==null)}bf(r)}catch(P){t=P,ge===r&&r!==null&&(ge=r=r.return);continue}break}while(!0)}function yf(){var e=oa.current;return oa.current=aa,e===null?aa:e}function li(){(ye===0||ye===3||ye===2)&&(ye=4),be===null||!(br&268435455)&&!(ka&268435455)||$t(be,ke)}function ca(e,t){var r=ee;ee|=2;var n=yf();(be!==e||ke!==t)&&(wt=null,pr(e,t));do try{Vh();break}catch(a){xf(e,a)}while(!0);if(Vl(),ee=r,oa.current=n,ge!==null)throw Error(O(261));return be=null,ke=0,ye}function Vh(){for(;ge!==null;)vf(ge)}function Wh(){for(;ge!==null&&!hp();)vf(ge)}function vf(e){var t=wf(e.alternate,e,He);e.memoizedProps=e.pendingProps,t===null?bf(e):ge=t,ri.current=null}function bf(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Dh(r,t),r!==null){r.flags&=32767,ge=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ye=6,ge=null;return}}else if(r=Ah(r,t,He),r!==null){ge=r;return}if(t=t.sibling,t!==null){ge=t;return}ge=t=e}while(t!==null);ye===0&&(ye=5)}function cr(e,t,r){var n=re,a=rt.transition;try{rt.transition=null,re=1,Hh(e,t,r,n)}finally{rt.transition=a,re=n}return null}function Hh(e,t,r,n){do qr();while(It!==null);if(ee&6)throw Error(O(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(Cp(e,o),e===be&&(ge=be=null,ke=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ks||(ks=!0,Nf(Ws,function(){return qr(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=rt.transition,rt.transition=null;var l=re;re=1;var i=ee;ee|=4,ri.current=null,$h(e,r),pf(r,e),dh(Mo),qs=!!Do,Mo=Do=null,e.current=r,Uh(r),gp(),ee=i,re=l,rt.transition=o}else e.current=r;if(ks&&(ks=!1,It=e,ia=a),o=e.pendingLanes,o===0&&(Kt=null),vp(r.stateNode),Ie(e,me()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(la)throw la=!1,e=sl,sl=null,e;return ia&1&&e.tag!==0&&qr(),o=e.pendingLanes,o&1?e===al?zn++:(zn=0,al=e):zn=0,sr(),null}function qr(){if(It!==null){var e=Zu(ia),t=rt.transition,r=re;try{if(rt.transition=null,re=16>e?16:e,It===null)var n=!1;else{if(e=It,It=null,ia=0,ee&6)throw Error(O(331));var a=ee;for(ee|=4,B=e.current;B!==null;){var o=B,l=o.child;if(B.flags&16){var i=o.deletions;if(i!==null){for(var c=0;c<i.length;c++){var u=i[c];for(B=u;B!==null;){var f=B;switch(f.tag){case 0:case 11:case 15:Fn(8,f,o)}var d=f.child;if(d!==null)d.return=f,B=d;else for(;B!==null;){f=B;var g=f.sibling,b=f.return;if(df(f),f===u){B=null;break}if(g!==null){g.return=b,B=g;break}B=b}}}var x=o.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}B=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,B=l;else e:for(;B!==null;){if(o=B,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Fn(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,B=p;break e}B=o.return}}var m=e.current;for(B=m;B!==null;){l=B;var h=l.child;if(l.subtreeFlags&2064&&h!==null)h.return=l,B=h;else e:for(l=m;B!==null;){if(i=B,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:Na(9,i)}}catch(P){fe(i,i.return,P)}if(i===l){B=null;break e}var E=i.sibling;if(E!==null){E.return=i.return,B=E;break e}B=i.return}}if(ee=a,sr(),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(ha,e)}catch{}n=!0}return n}finally{re=r,rt.transition=t}}return!1}function Dc(e,t,r){t=Zr(r,t),t=Zd(e,t,1),e=Gt(e,t,1),t=Fe(),e!==null&&(ns(e,1,t),Ie(e,t))}function fe(e,t,r){if(e.tag===3)Dc(e,e,r);else for(;t!==null;){if(t.tag===3){Dc(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Kt===null||!Kt.has(n))){e=Zr(r,e),e=ef(t,e,1),t=Gt(t,e,1),e=Fe(),t!==null&&(ns(t,1,e),Ie(t,e));break}}t=t.return}}function qh(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Fe(),e.pingedLanes|=e.suspendedLanes&r,be===e&&(ke&r)===r&&(ye===4||ye===3&&(ke&130023424)===ke&&500>me()-si?pr(e,0):ni|=r),Ie(e,t)}function jf(e,t){t===0&&(e.mode&1?(t=ps,ps<<=1,!(ps&130023424)&&(ps=4194304)):t=1);var r=Fe();e=Rt(e,t),e!==null&&(ns(e,t,r),Ie(e,r))}function Qh(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),jf(e,r)}function Gh(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(O(314))}n!==null&&n.delete(t),jf(e,r)}var wf;wf=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||$e.current)De=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return De=!1,zh(e,t,r);De=!!(e.flags&131072)}else De=!1,le&&t.flags&1048576&&Cd(t,Zs,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Os(e,t),e=t.pendingProps;var a=Kr(t,Re.current);Hr(t,r),a=Yl(null,t,n,e,a,r);var o=Xl();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ue(n)?(o=!0,Ys(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,ql(t),a.updater=wa,t.stateNode=a,a._reactInternals=t,Qo(t,n,e,r),t=Jo(null,t,n,!0,o,r)):(t.tag=0,le&&o&&$l(t),Le(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Os(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=Jh(n),e=ot(n,e),a){case 0:t=Ko(null,t,n,e,r);break e;case 1:t=Sc(null,t,n,e,r);break e;case 11:t=Cc(null,t,n,e,r);break e;case 14:t=Ec(null,t,n,ot(n.type,e),r);break e}throw Error(O(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ot(n,a),Ko(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ot(n,a),Sc(e,t,n,a,r);case 3:e:{if(sf(t),e===null)throw Error(O(387));n=t.pendingProps,o=t.memoizedState,a=o.element,Ld(e,t),ra(t,n,null,r);var l=t.memoizedState;if(n=l.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=Zr(Error(O(423)),t),t=Pc(e,t,n,r,a);break e}else if(n!==a){a=Zr(Error(O(424)),t),t=Pc(e,t,n,r,a);break e}else for(qe=Qt(t.stateNode.containerInfo.firstChild),Qe=t,le=!0,it=null,r=_d(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Jr(),n===a){t=Lt(e,t,r);break e}Le(e,t,n,r)}t=t.child}return t;case 5:return Td(t),e===null&&Wo(t),n=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,l=a.children,$o(n,a)?l=null:o!==null&&$o(n,o)&&(t.flags|=32),nf(e,t),Le(e,t,l,r),t.child;case 6:return e===null&&Wo(t),null;case 13:return af(e,t,r);case 4:return Ql(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Yr(t,null,n,r):Le(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ot(n,a),Cc(e,t,n,a,r);case 7:return Le(e,t,t.pendingProps,r),t.child;case 8:return Le(e,t,t.pendingProps.children,r),t.child;case 12:return Le(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,l=a.value,se(ea,n._currentValue),n._currentValue=l,o!==null)if(dt(o.value,l)){if(o.children===a.children&&!$e.current){t=Lt(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var i=o.dependencies;if(i!==null){l=o.child;for(var c=i.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=St(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),Ho(o.return,r,t),i.lanes|=r;break}c=c.next}}else if(o.tag===10)l=o.type===t.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(O(341));l.lanes|=r,i=l.alternate,i!==null&&(i.lanes|=r),Ho(l,r,t),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===t){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}Le(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Hr(t,r),a=nt(a),n=n(a),t.flags|=1,Le(e,t,n,r),t.child;case 14:return n=t.type,a=ot(n,t.pendingProps),a=ot(n.type,a),Ec(e,t,n,a,r);case 15:return tf(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ot(n,a),Os(e,t),t.tag=1,Ue(n)?(e=!0,Ys(t)):e=!1,Hr(t,r),Xd(t,n,a),Qo(t,n,a,r),Jo(null,t,n,!0,e,r);case 19:return of(e,t,r);case 22:return rf(e,t,r)}throw Error(O(156,t.tag))};function Nf(e,t){return Ku(e,t)}function Kh(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tt(e,t,r,n){return new Kh(e,t,r,n)}function ii(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Jh(e){if(typeof e=="function")return ii(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Sl)return 11;if(e===Pl)return 14}return 2}function Yt(e,t){var r=e.alternate;return r===null?(r=tt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ds(e,t,r,n,a,o){var l=2;if(n=e,typeof e=="function")ii(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case _r:return hr(r.children,a,o,t);case El:l=8,a|=8;break;case xo:return e=tt(12,r,t,a|2),e.elementType=xo,e.lanes=o,e;case yo:return e=tt(13,r,t,a),e.elementType=yo,e.lanes=o,e;case vo:return e=tt(19,r,t,a),e.elementType=vo,e.lanes=o,e;case Tu:return Ca(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ru:l=10;break e;case Lu:l=9;break e;case Sl:l=11;break e;case Pl:l=14;break e;case At:l=16,n=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=tt(l,r,t,a),t.elementType=e,t.type=n,t.lanes=o,t}function hr(e,t,r,n){return e=tt(7,e,n,t),e.lanes=r,e}function Ca(e,t,r,n){return e=tt(22,e,n,t),e.elementType=Tu,e.lanes=r,e.stateNode={isHidden:!1},e}function co(e,t,r){return e=tt(6,e,null,t),e.lanes=r,e}function uo(e,t,r){return t=tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yh(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wa(0),this.expirationTimes=Wa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wa(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function ci(e,t,r,n,a,o,l,i,c){return e=new Yh(e,t,r,i,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=tt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ql(o),e}function Xh(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function kf(e){if(!e)return er;e=e._reactInternals;e:{if(Cr(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ue(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var r=e.type;if(Ue(r))return Nd(e,r,t)}return t}function Cf(e,t,r,n,a,o,l,i,c){return e=ci(r,n,!0,e,a,o,l,i,c),e.context=kf(null),r=e.current,n=Fe(),a=Jt(r),o=St(n,a),o.callback=t??null,Gt(r,o,a),e.current.lanes=a,ns(e,a,n),Ie(e,n),e}function Ea(e,t,r,n){var a=t.current,o=Fe(),l=Jt(a);return r=kf(r),t.context===null?t.context=r:t.pendingContext=r,t=St(o,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Gt(a,t,l),e!==null&&(ut(e,a,l,o),Ls(e,a,l)),l}function ua(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Mc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ui(e,t){Mc(e,t),(e=e.alternate)&&Mc(e,t)}function Zh(){return null}var Ef=typeof reportError=="function"?reportError:function(e){console.error(e)};function di(e){this._internalRoot=e}Sa.prototype.render=di.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));Ea(e,t,null,null)};Sa.prototype.unmount=di.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jr(function(){Ea(null,e,null,null)}),t[_t]=null}};function Sa(e){this._internalRoot=e}Sa.prototype.unstable_scheduleHydration=function(e){if(e){var t=rd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Mt.length&&t!==0&&t<Mt[r].priority;r++);Mt.splice(r,0,e),r===0&&sd(e)}};function fi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Pa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $c(){}function e0(e,t,r,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var u=ua(l);o.call(u)}}var l=Cf(t,n,e,0,null,!1,!1,"",$c);return e._reactRootContainer=l,e[_t]=l.current,Wn(e.nodeType===8?e.parentNode:e),jr(),l}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var i=n;n=function(){var u=ua(c);i.call(u)}}var c=ci(e,0,!1,null,null,!1,!1,"",$c);return e._reactRootContainer=c,e[_t]=c.current,Wn(e.nodeType===8?e.parentNode:e),jr(function(){Ea(t,c,r,n)}),c}function _a(e,t,r,n,a){var o=r._reactRootContainer;if(o){var l=o;if(typeof a=="function"){var i=a;a=function(){var c=ua(l);i.call(c)}}Ea(t,l,e,a)}else l=e0(r,t,e,a,n);return ua(l)}ed=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Nn(t.pendingLanes);r!==0&&(Ll(t,r|1),Ie(t,me()),!(ee&6)&&(en=me()+500,sr()))}break;case 13:jr(function(){var n=Rt(e,1);if(n!==null){var a=Fe();ut(n,e,1,a)}}),ui(e,1)}};Tl=function(e){if(e.tag===13){var t=Rt(e,134217728);if(t!==null){var r=Fe();ut(t,e,134217728,r)}ui(e,134217728)}};td=function(e){if(e.tag===13){var t=Jt(e),r=Rt(e,t);if(r!==null){var n=Fe();ut(r,e,t,n)}ui(e,t)}};rd=function(){return re};nd=function(e,t){var r=re;try{return re=e,t()}finally{re=r}};_o=function(e,t,r){switch(t){case"input":if(wo(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=va(n);if(!a)throw Error(O(90));Ou(n),wo(n,a)}}}break;case"textarea":Au(e,r);break;case"select":t=r.value,t!=null&&Ir(e,!!r.multiple,t,!1)}};Vu=ai;Wu=jr;var t0={usingClientEntryPoint:!1,Events:[as,Fr,va,Iu,Bu,ai]},vn={findFiberByHostInstance:ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},r0={bundleType:vn.bundleType,version:vn.version,rendererPackageName:vn.rendererPackageName,rendererConfig:vn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Qu(e),e===null?null:e.stateNode},findFiberByHostInstance:vn.findFiberByHostInstance||Zh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cs.isDisabled&&Cs.supportsFiber)try{ha=Cs.inject(r0),vt=Cs}catch{}}Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t0;Ke.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fi(t))throw Error(O(200));return Xh(e,t,null,r)};Ke.createRoot=function(e,t){if(!fi(e))throw Error(O(299));var r=!1,n="",a=Ef;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=ci(e,1,!1,null,null,r,!1,n,a),e[_t]=t.current,Wn(e.nodeType===8?e.parentNode:e),new di(t)};Ke.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=Qu(t),e=e===null?null:e.stateNode,e};Ke.flushSync=function(e){return jr(e)};Ke.hydrate=function(e,t,r){if(!Pa(t))throw Error(O(200));return _a(null,e,t,!0,r)};Ke.hydrateRoot=function(e,t,r){if(!fi(e))throw Error(O(405));var n=r!=null&&r.hydratedSources||null,a=!1,o="",l=Ef;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=Cf(t,null,e,1,r??null,a,!1,o,l),e[_t]=t.current,Wn(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Sa(t)};Ke.render=function(e,t,r){if(!Pa(t))throw Error(O(200));return _a(null,e,t,!1,r)};Ke.unmountComponentAtNode=function(e){if(!Pa(e))throw Error(O(40));return e._reactRootContainer?(jr(function(){_a(null,null,e,!1,function(){e._reactRootContainer=null,e[_t]=null})}),!0):!1};Ke.unstable_batchedUpdates=ai;Ke.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Pa(r))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return _a(e,t,r,!1,n)};Ke.version="18.3.1-next-f1338f8080-20240426";function Sf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sf)}catch(e){console.error(e)}}Sf(),Eu.exports=Ke;var n0=Eu.exports,Pf,Uc=n0;Pf=Uc.createRoot,Uc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zn(){return Zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zn.apply(this,arguments)}var Bt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Bt||(Bt={}));const Ic="popstate";function s0(e){e===void 0&&(e={});function t(n,a){let{pathname:o,search:l,hash:i}=n.location;return il("",{pathname:o,search:l,hash:i},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:da(a)}return o0(t,r,null,e)}function pe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _f(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function a0(){return Math.random().toString(36).substr(2,8)}function Bc(e,t){return{usr:e.state,key:e.key,idx:t}}function il(e,t,r,n){return r===void 0&&(r=null),Zn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?sn(t):t,{state:r,key:t&&t.key||n||a0()})}function da(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function sn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function o0(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:o=!1}=n,l=a.history,i=Bt.Pop,c=null,u=f();u==null&&(u=0,l.replaceState(Zn({},l.state,{idx:u}),""));function f(){return(l.state||{idx:null}).idx}function d(){i=Bt.Pop;let w=f(),p=w==null?null:w-u;u=w,c&&c({action:i,location:v.location,delta:p})}function g(w,p){i=Bt.Push;let m=il(v.location,w,p);u=f()+1;let h=Bc(m,u),E=v.createHref(m);try{l.pushState(h,"",E)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;a.location.assign(E)}o&&c&&c({action:i,location:v.location,delta:1})}function b(w,p){i=Bt.Replace;let m=il(v.location,w,p);u=f();let h=Bc(m,u),E=v.createHref(m);l.replaceState(h,"",E),o&&c&&c({action:i,location:v.location,delta:0})}function x(w){let p=a.location.origin!=="null"?a.location.origin:a.location.href,m=typeof w=="string"?w:da(w);return m=m.replace(/ $/,"%20"),pe(p,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,p)}let v={get action(){return i},get location(){return e(a,l)},listen(w){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Ic,d),c=w,()=>{a.removeEventListener(Ic,d),c=null}},createHref(w){return t(a,w)},createURL:x,encodeLocation(w){let p=x(w);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:g,replace:b,go(w){return l.go(w)}};return v}var Vc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Vc||(Vc={}));function l0(e,t,r){return r===void 0&&(r="/"),i0(e,t,r)}function i0(e,t,r,n){let a=typeof t=="string"?sn(t):t,o=mi(a.pathname||"/",r);if(o==null)return null;let l=Rf(e);c0(l);let i=null;for(let c=0;i==null&&c<l.length;++c){let u=j0(o);i=y0(l[c],u)}return i}function Rf(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(o,l,i)=>{let c={relativePath:i===void 0?o.path||"":i,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};c.relativePath.startsWith("/")&&(pe(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Xt([n,c.relativePath]),f=r.concat(c);o.children&&o.children.length>0&&(pe(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Rf(o.children,t,f,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:g0(u,o.index),routesMeta:f})};return e.forEach((o,l)=>{var i;if(o.path===""||!((i=o.path)!=null&&i.includes("?")))a(o,l);else for(let c of Lf(o.path))a(o,l,c)}),t}function Lf(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let l=Lf(n.join("/")),i=[];return i.push(...l.map(c=>c===""?o:[o,c].join("/"))),a&&i.push(...l),i.map(c=>e.startsWith("/")&&c===""?"/":c)}function c0(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:x0(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const u0=/^:[\w-]+$/,d0=3,f0=2,m0=1,p0=10,h0=-2,Wc=e=>e==="*";function g0(e,t){let r=e.split("/"),n=r.length;return r.some(Wc)&&(n+=h0),t&&(n+=f0),r.filter(a=>!Wc(a)).reduce((a,o)=>a+(u0.test(o)?d0:o===""?m0:p0),n)}function x0(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function y0(e,t,r){let{routesMeta:n}=e,a={},o="/",l=[];for(let i=0;i<n.length;++i){let c=n[i],u=i===n.length-1,f=o==="/"?t:t.slice(o.length)||"/",d=v0({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),g=c.route;if(!d)return null;Object.assign(a,d.params),l.push({params:a,pathname:Xt([o,d.pathname]),pathnameBase:C0(Xt([o,d.pathnameBase])),route:g}),d.pathnameBase!=="/"&&(o=Xt([o,d.pathnameBase]))}return l}function v0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=b0(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let o=a[0],l=o.replace(/(.)\/+$/,"$1"),i=a.slice(1);return{params:n.reduce((u,f,d)=>{let{paramName:g,isOptional:b}=f;if(g==="*"){let v=i[d]||"";l=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const x=i[d];return b&&!x?u[g]=void 0:u[g]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:l,pattern:e}}function b0(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),_f(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,i,c)=>(n.push({paramName:i,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function j0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _f(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function mi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function w0(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?sn(e):e;return{pathname:r?r.startsWith("/")?r:N0(r,t):t,search:E0(n),hash:S0(a)}}function N0(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function fo(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function k0(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function pi(e,t){let r=k0(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function hi(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=sn(e):(a=Zn({},e),pe(!a.pathname||!a.pathname.includes("?"),fo("?","pathname","search",a)),pe(!a.pathname||!a.pathname.includes("#"),fo("#","pathname","hash",a)),pe(!a.search||!a.search.includes("#"),fo("#","search","hash",a)));let o=e===""||a.pathname==="",l=o?"/":a.pathname,i;if(l==null)i=r;else{let d=t.length-1;if(!n&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),d-=1;a.pathname=g.join("/")}i=d>=0?t[d]:"/"}let c=w0(a,i),u=l&&l!=="/"&&l.endsWith("/"),f=(o||l===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const Xt=e=>e.join("/").replace(/\/\/+/g,"/"),C0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),E0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,S0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function P0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Tf=["post","put","patch","delete"];new Set(Tf);const _0=["get",...Tf];new Set(_0);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function es(){return es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},es.apply(this,arguments)}const gi=y.createContext(null),R0=y.createContext(null),ar=y.createContext(null),Ra=y.createContext(null),Ft=y.createContext({outlet:null,matches:[],isDataRoute:!1}),Ff=y.createContext(null);function L0(e,t){let{relative:r}=t===void 0?{}:t;an()||pe(!1);let{basename:n,navigator:a}=y.useContext(ar),{hash:o,pathname:l,search:i}=zf(e,{relative:r}),c=l;return n!=="/"&&(c=l==="/"?n:Xt([n,l])),a.createHref({pathname:c,search:i,hash:o})}function an(){return y.useContext(Ra)!=null}function Er(){return an()||pe(!1),y.useContext(Ra).location}function Of(e){y.useContext(ar).static||y.useLayoutEffect(e)}function xi(){let{isDataRoute:e}=y.useContext(Ft);return e?H0():T0()}function T0(){an()||pe(!1);let e=y.useContext(gi),{basename:t,future:r,navigator:n}=y.useContext(ar),{matches:a}=y.useContext(Ft),{pathname:o}=Er(),l=JSON.stringify(pi(a,r.v7_relativeSplatPath)),i=y.useRef(!1);return Of(()=>{i.current=!0}),y.useCallback(function(u,f){if(f===void 0&&(f={}),!i.current)return;if(typeof u=="number"){n.go(u);return}let d=hi(u,JSON.parse(l),o,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Xt([t,d.pathname])),(f.replace?n.replace:n.push)(d,f.state,f)},[t,n,l,o,e])}function F0(){let{matches:e}=y.useContext(Ft),t=e[e.length-1];return t?t.params:{}}function zf(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=y.useContext(ar),{matches:a}=y.useContext(Ft),{pathname:o}=Er(),l=JSON.stringify(pi(a,n.v7_relativeSplatPath));return y.useMemo(()=>hi(e,JSON.parse(l),o,r==="path"),[e,l,o,r])}function O0(e,t){return z0(e,t)}function z0(e,t,r,n){an()||pe(!1);let{navigator:a}=y.useContext(ar),{matches:o}=y.useContext(Ft),l=o[o.length-1],i=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let u=Er(),f;if(t){var d;let w=typeof t=="string"?sn(t):t;c==="/"||(d=w.pathname)!=null&&d.startsWith(c)||pe(!1),f=w}else f=u;let g=f.pathname||"/",b=g;if(c!=="/"){let w=c.replace(/^\//,"").split("/");b="/"+g.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=l0(e,{pathname:b}),v=U0(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},i,w.params),pathname:Xt([c,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Xt([c,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,r,n);return t&&v?y.createElement(Ra.Provider,{value:{location:es({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Bt.Pop}},v):v}function A0(){let e=W0(),t=P0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:a},r):null,null)}const D0=y.createElement(A0,null);class M0 extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?y.createElement(Ft.Provider,{value:this.props.routeContext},y.createElement(Ff.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $0(e){let{routeContext:t,match:r,children:n}=e,a=y.useContext(gi);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),y.createElement(Ft.Provider,{value:t},n)}function U0(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,i=(a=r)==null?void 0:a.errors;if(i!=null){let f=l.findIndex(d=>d.route.id&&(i==null?void 0:i[d.route.id])!==void 0);f>=0||pe(!1),l=l.slice(0,Math.min(l.length,f+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<l.length;f++){let d=l[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:g,errors:b}=r,x=d.route.loader&&g[d.route.id]===void 0&&(!b||b[d.route.id]===void 0);if(d.route.lazy||x){c=!0,u>=0?l=l.slice(0,u+1):l=[l[0]];break}}}return l.reduceRight((f,d,g)=>{let b,x=!1,v=null,w=null;r&&(b=i&&d.route.id?i[d.route.id]:void 0,v=d.route.errorElement||D0,c&&(u<0&&g===0?(q0("route-fallback"),x=!0,w=null):u===g&&(x=!0,w=d.route.hydrateFallbackElement||null)));let p=t.concat(l.slice(0,g+1)),m=()=>{let h;return b?h=v:x?h=w:d.route.Component?h=y.createElement(d.route.Component,null):d.route.element?h=d.route.element:h=f,y.createElement($0,{match:d,routeContext:{outlet:f,matches:p,isDataRoute:r!=null},children:h})};return r&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?y.createElement(M0,{location:r.location,revalidation:r.revalidation,component:v,error:b,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var Af=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Af||{}),Df=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Df||{});function I0(e){let t=y.useContext(gi);return t||pe(!1),t}function B0(e){let t=y.useContext(R0);return t||pe(!1),t}function V0(e){let t=y.useContext(Ft);return t||pe(!1),t}function Mf(e){let t=V0(),r=t.matches[t.matches.length-1];return r.route.id||pe(!1),r.route.id}function W0(){var e;let t=y.useContext(Ff),r=B0(),n=Mf();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function H0(){let{router:e}=I0(Af.UseNavigateStable),t=Mf(Df.UseNavigateStable),r=y.useRef(!1);return Of(()=>{r.current=!0}),y.useCallback(function(a,o){o===void 0&&(o={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,es({fromRouteId:t},o)))},[e,t])}const Hc={};function q0(e,t,r){Hc[e]||(Hc[e]=!0)}function Q0(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Cn(e){let{to:t,replace:r,state:n,relative:a}=e;an()||pe(!1);let{future:o,static:l}=y.useContext(ar),{matches:i}=y.useContext(Ft),{pathname:c}=Er(),u=xi(),f=hi(t,pi(i,o.v7_relativeSplatPath),c,a==="path"),d=JSON.stringify(f);return y.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:a}),[u,d,a,r,n]),null}function we(e){pe(!1)}function G0(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Bt.Pop,navigator:o,static:l=!1,future:i}=e;an()&&pe(!1);let c=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:c,navigator:o,static:l,future:es({v7_relativeSplatPath:!1},i)}),[c,i,o,l]);typeof n=="string"&&(n=sn(n));let{pathname:f="/",search:d="",hash:g="",state:b=null,key:x="default"}=n,v=y.useMemo(()=>{let w=mi(f,c);return w==null?null:{location:{pathname:w,search:d,hash:g,state:b,key:x},navigationType:a}},[c,f,d,g,b,x,a]);return v==null?null:y.createElement(ar.Provider,{value:u},y.createElement(Ra.Provider,{children:r,value:v}))}function K0(e){let{children:t,location:r}=e;return O0(cl(t),r)}new Promise(()=>{});function cl(e,t){t===void 0&&(t=[]);let r=[];return y.Children.forEach(e,(n,a)=>{if(!y.isValidElement(n))return;let o=[...t,a];if(n.type===y.Fragment){r.push.apply(r,cl(n.props.children,o));return}n.type!==we&&pe(!1),!n.props.index||!n.props.children||pe(!1);let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=cl(n.props.children,o)),r.push(l)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ul(){return ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ul.apply(this,arguments)}function J0(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Y0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function X0(e,t){return e.button===0&&(!t||t==="_self")&&!Y0(e)}function dl(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function Z0(e,t){let r=dl(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(o=>{r.append(a,o)})}),r}const eg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],tg="6";try{window.__reactRouterVersion=tg}catch{}const rg="startTransition",qc=qm[rg];function ng(e){let{basename:t,children:r,future:n,window:a}=e,o=y.useRef();o.current==null&&(o.current=s0({window:a,v5Compat:!0}));let l=o.current,[i,c]=y.useState({action:l.action,location:l.location}),{v7_startTransition:u}=n||{},f=y.useCallback(d=>{u&&qc?qc(()=>c(d)):c(d)},[c,u]);return y.useLayoutEffect(()=>l.listen(f),[l,f]),y.useEffect(()=>Q0(n),[n]),y.createElement(G0,{basename:t,children:r,location:i.location,navigationType:i.action,navigator:l,future:n})}const sg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ag=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xt=y.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:o,replace:l,state:i,target:c,to:u,preventScrollReset:f,viewTransition:d}=t,g=J0(t,eg),{basename:b}=y.useContext(ar),x,v=!1;if(typeof u=="string"&&ag.test(u)&&(x=u,sg))try{let h=new URL(window.location.href),E=u.startsWith("//")?new URL(h.protocol+u):new URL(u),P=mi(E.pathname,b);E.origin===h.origin&&P!=null?u=P+E.search+E.hash:v=!0}catch{}let w=L0(u,{relative:a}),p=og(u,{replace:l,state:i,target:c,preventScrollReset:f,relative:a,viewTransition:d});function m(h){n&&n(h),h.defaultPrevented||p(h)}return y.createElement("a",ul({},g,{href:x||w,onClick:v||o?n:m,ref:r,target:c}))});var Qc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Qc||(Qc={}));var Gc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Gc||(Gc={}));function og(e,t){let{target:r,replace:n,state:a,preventScrollReset:o,relative:l,viewTransition:i}=t===void 0?{}:t,c=xi(),u=Er(),f=zf(e,{relative:l});return y.useCallback(d=>{if(X0(d,r)){d.preventDefault();let g=n!==void 0?n:da(u)===da(f);c(e,{replace:g,state:a,preventScrollReset:o,relative:l,viewTransition:i})}},[u,c,f,n,a,r,e,o,l,i])}function $f(e){let t=y.useRef(dl(e)),r=y.useRef(!1),n=Er(),a=y.useMemo(()=>Z0(n.search,r.current?null:t.current),[n.search]),o=xi(),l=y.useCallback((i,c)=>{const u=dl(typeof i=="function"?i(a):i);r.current=!0,o("?"+u,c)},[o,a]);return[a,l]}function Uf(e,t){return function(){return e.apply(t,arguments)}}const{toString:lg}=Object.prototype,{getPrototypeOf:yi}=Object,{iterator:La,toStringTag:If}=Symbol,Ta=(e=>t=>{const r=lg.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ft=e=>(e=e.toLowerCase(),t=>Ta(t)===e),Fa=e=>t=>typeof t===e,{isArray:on}=Array,ts=Fa("undefined");function ig(e){return e!==null&&!ts(e)&&e.constructor!==null&&!ts(e.constructor)&&Be(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Bf=ft("ArrayBuffer");function cg(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Bf(e.buffer),t}const ug=Fa("string"),Be=Fa("function"),Vf=Fa("number"),Oa=e=>e!==null&&typeof e=="object",dg=e=>e===!0||e===!1,Ms=e=>{if(Ta(e)!=="object")return!1;const t=yi(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(If in e)&&!(La in e)},fg=ft("Date"),mg=ft("File"),pg=ft("Blob"),hg=ft("FileList"),gg=e=>Oa(e)&&Be(e.pipe),xg=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Be(e.append)&&((t=Ta(e))==="formdata"||t==="object"&&Be(e.toString)&&e.toString()==="[object FormData]"))},yg=ft("URLSearchParams"),[vg,bg,jg,wg]=["ReadableStream","Request","Response","Headers"].map(ft),Ng=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ls(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),on(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{const o=r?Object.getOwnPropertyNames(e):Object.keys(e),l=o.length;let i;for(n=0;n<l;n++)i=o[n],t.call(null,e[i],i,e)}}function Wf(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const mr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Hf=e=>!ts(e)&&e!==mr;function fl(){const{caseless:e}=Hf(this)&&this||{},t={},r=(n,a)=>{const o=e&&Wf(t,a)||a;Ms(t[o])&&Ms(n)?t[o]=fl(t[o],n):Ms(n)?t[o]=fl({},n):on(n)?t[o]=n.slice():t[o]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&ls(arguments[n],r);return t}const kg=(e,t,r,{allOwnKeys:n}={})=>(ls(t,(a,o)=>{r&&Be(a)?e[o]=Uf(a,r):e[o]=a},{allOwnKeys:n}),e),Cg=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Eg=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Sg=(e,t,r,n)=>{let a,o,l;const i={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),o=a.length;o-- >0;)l=a[o],(!n||n(l,e,t))&&!i[l]&&(t[l]=e[l],i[l]=!0);e=r!==!1&&yi(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Pg=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},_g=e=>{if(!e)return null;if(on(e))return e;let t=e.length;if(!Vf(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Rg=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&yi(Uint8Array)),Lg=(e,t)=>{const n=(e&&e[La]).call(e);let a;for(;(a=n.next())&&!a.done;){const o=a.value;t.call(e,o[0],o[1])}},Tg=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},Fg=ft("HTMLFormElement"),Og=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),Kc=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),zg=ft("RegExp"),qf=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};ls(r,(a,o)=>{let l;(l=t(a,o,e))!==!1&&(n[o]=l||a)}),Object.defineProperties(e,n)},Ag=e=>{qf(e,(t,r)=>{if(Be(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Be(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Dg=(e,t)=>{const r={},n=a=>{a.forEach(o=>{r[o]=!0})};return on(e)?n(e):n(String(e).split(t)),r},Mg=()=>{},$g=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Ug(e){return!!(e&&Be(e.append)&&e[If]==="FormData"&&e[La])}const Ig=e=>{const t=new Array(10),r=(n,a)=>{if(Oa(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[a]=n;const o=on(n)?[]:{};return ls(n,(l,i)=>{const c=r(l,a+1);!ts(c)&&(o[i]=c)}),t[a]=void 0,o}}return n};return r(e,0)},Bg=ft("AsyncFunction"),Vg=e=>e&&(Oa(e)||Be(e))&&Be(e.then)&&Be(e.catch),Qf=((e,t)=>e?setImmediate:t?((r,n)=>(mr.addEventListener("message",({source:a,data:o})=>{a===mr&&o===r&&n.length&&n.shift()()},!1),a=>{n.push(a),mr.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Be(mr.postMessage)),Wg=typeof queueMicrotask<"u"?queueMicrotask.bind(mr):typeof process<"u"&&process.nextTick||Qf,Hg=e=>e!=null&&Be(e[La]),S={isArray:on,isArrayBuffer:Bf,isBuffer:ig,isFormData:xg,isArrayBufferView:cg,isString:ug,isNumber:Vf,isBoolean:dg,isObject:Oa,isPlainObject:Ms,isReadableStream:vg,isRequest:bg,isResponse:jg,isHeaders:wg,isUndefined:ts,isDate:fg,isFile:mg,isBlob:pg,isRegExp:zg,isFunction:Be,isStream:gg,isURLSearchParams:yg,isTypedArray:Rg,isFileList:hg,forEach:ls,merge:fl,extend:kg,trim:Ng,stripBOM:Cg,inherits:Eg,toFlatObject:Sg,kindOf:Ta,kindOfTest:ft,endsWith:Pg,toArray:_g,forEachEntry:Lg,matchAll:Tg,isHTMLForm:Fg,hasOwnProperty:Kc,hasOwnProp:Kc,reduceDescriptors:qf,freezeMethods:Ag,toObjectSet:Dg,toCamelCase:Og,noop:Mg,toFiniteNumber:$g,findKey:Wf,global:mr,isContextDefined:Hf,isSpecCompliantForm:Ug,toJSONObject:Ig,isAsyncFn:Bg,isThenable:Vg,setImmediate:Qf,asap:Wg,isIterable:Hg};function Y(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}S.inherits(Y,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:S.toJSONObject(this.config),code:this.code,status:this.status}}});const Gf=Y.prototype,Kf={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Kf[e]={value:e}});Object.defineProperties(Y,Kf);Object.defineProperty(Gf,"isAxiosError",{value:!0});Y.from=(e,t,r,n,a,o)=>{const l=Object.create(Gf);return S.toFlatObject(e,l,function(c){return c!==Error.prototype},i=>i!=="isAxiosError"),Y.call(l,e.message,t,r,n,a),l.cause=e,l.name=e.name,o&&Object.assign(l,o),l};const qg=null;function ml(e){return S.isPlainObject(e)||S.isArray(e)}function Jf(e){return S.endsWith(e,"[]")?e.slice(0,-2):e}function Jc(e,t,r){return e?e.concat(t).map(function(a,o){return a=Jf(a),!r&&o?"["+a+"]":a}).join(r?".":""):t}function Qg(e){return S.isArray(e)&&!e.some(ml)}const Gg=S.toFlatObject(S,{},null,function(t){return/^is[A-Z]/.test(t)});function za(e,t,r){if(!S.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=S.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,w){return!S.isUndefined(w[v])});const n=r.metaTokens,a=r.visitor||f,o=r.dots,l=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&S.isSpecCompliantForm(t);if(!S.isFunction(a))throw new TypeError("visitor must be a function");function u(x){if(x===null)return"";if(S.isDate(x))return x.toISOString();if(S.isBoolean(x))return x.toString();if(!c&&S.isBlob(x))throw new Y("Blob is not supported. Use a Buffer instead.");return S.isArrayBuffer(x)||S.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function f(x,v,w){let p=x;if(x&&!w&&typeof x=="object"){if(S.endsWith(v,"{}"))v=n?v:v.slice(0,-2),x=JSON.stringify(x);else if(S.isArray(x)&&Qg(x)||(S.isFileList(x)||S.endsWith(v,"[]"))&&(p=S.toArray(x)))return v=Jf(v),p.forEach(function(h,E){!(S.isUndefined(h)||h===null)&&t.append(l===!0?Jc([v],E,o):l===null?v:v+"[]",u(h))}),!1}return ml(x)?!0:(t.append(Jc(w,v,o),u(x)),!1)}const d=[],g=Object.assign(Gg,{defaultVisitor:f,convertValue:u,isVisitable:ml});function b(x,v){if(!S.isUndefined(x)){if(d.indexOf(x)!==-1)throw Error("Circular reference detected in "+v.join("."));d.push(x),S.forEach(x,function(p,m){(!(S.isUndefined(p)||p===null)&&a.call(t,p,S.isString(m)?m.trim():m,v,g))===!0&&b(p,v?v.concat(m):[m])}),d.pop()}}if(!S.isObject(e))throw new TypeError("data must be an object");return b(e),t}function Yc(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function vi(e,t){this._pairs=[],e&&za(e,this,t)}const Yf=vi.prototype;Yf.append=function(t,r){this._pairs.push([t,r])};Yf.toString=function(t){const r=t?function(n){return t.call(this,n,Yc)}:Yc;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Kg(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Xf(e,t,r){if(!t)return e;const n=r&&r.encode||Kg;S.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let o;if(a?o=a(t,r):o=S.isURLSearchParams(t)?t.toString():new vi(t,r).toString(n),o){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Xc{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){S.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Zf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Jg=typeof URLSearchParams<"u"?URLSearchParams:vi,Yg=typeof FormData<"u"?FormData:null,Xg=typeof Blob<"u"?Blob:null,Zg={isBrowser:!0,classes:{URLSearchParams:Jg,FormData:Yg,Blob:Xg},protocols:["http","https","file","blob","url","data"]},bi=typeof window<"u"&&typeof document<"u",pl=typeof navigator=="object"&&navigator||void 0,ex=bi&&(!pl||["ReactNative","NativeScript","NS"].indexOf(pl.product)<0),tx=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",rx=bi&&window.location.href||"http://localhost",nx=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:bi,hasStandardBrowserEnv:ex,hasStandardBrowserWebWorkerEnv:tx,navigator:pl,origin:rx},Symbol.toStringTag,{value:"Module"})),_e={...nx,...Zg};function sx(e,t){return za(e,new _e.classes.URLSearchParams,Object.assign({visitor:function(r,n,a,o){return _e.isNode&&S.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function ax(e){return S.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ox(e){const t={},r=Object.keys(e);let n;const a=r.length;let o;for(n=0;n<a;n++)o=r[n],t[o]=e[o];return t}function em(e){function t(r,n,a,o){let l=r[o++];if(l==="__proto__")return!0;const i=Number.isFinite(+l),c=o>=r.length;return l=!l&&S.isArray(a)?a.length:l,c?(S.hasOwnProp(a,l)?a[l]=[a[l],n]:a[l]=n,!i):((!a[l]||!S.isObject(a[l]))&&(a[l]=[]),t(r,n,a[l],o)&&S.isArray(a[l])&&(a[l]=ox(a[l])),!i)}if(S.isFormData(e)&&S.isFunction(e.entries)){const r={};return S.forEachEntry(e,(n,a)=>{t(ax(n),a,r,0)}),r}return null}function lx(e,t,r){if(S.isString(e))try{return(t||JSON.parse)(e),S.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const is={transitional:Zf,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,o=S.isObject(t);if(o&&S.isHTMLForm(t)&&(t=new FormData(t)),S.isFormData(t))return a?JSON.stringify(em(t)):t;if(S.isArrayBuffer(t)||S.isBuffer(t)||S.isStream(t)||S.isFile(t)||S.isBlob(t)||S.isReadableStream(t))return t;if(S.isArrayBufferView(t))return t.buffer;if(S.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let i;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return sx(t,this.formSerializer).toString();if((i=S.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return za(i?{"files[]":t}:t,c&&new c,this.formSerializer)}}return o||a?(r.setContentType("application/json",!1),lx(t)):t}],transformResponse:[function(t){const r=this.transitional||is.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(S.isResponse(t)||S.isReadableStream(t))return t;if(t&&S.isString(t)&&(n&&!this.responseType||a)){const l=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(i){if(l)throw i.name==="SyntaxError"?Y.from(i,Y.ERR_BAD_RESPONSE,this,null,this.response):i}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_e.classes.FormData,Blob:_e.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};S.forEach(["delete","get","head","post","put","patch"],e=>{is.headers[e]={}});const ix=S.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),cx=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(l){a=l.indexOf(":"),r=l.substring(0,a).trim().toLowerCase(),n=l.substring(a+1).trim(),!(!r||t[r]&&ix[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Zc=Symbol("internals");function bn(e){return e&&String(e).trim().toLowerCase()}function $s(e){return e===!1||e==null?e:S.isArray(e)?e.map($s):String(e)}function ux(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const dx=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function mo(e,t,r,n,a){if(S.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!S.isString(t)){if(S.isString(n))return t.indexOf(n)!==-1;if(S.isRegExp(n))return n.test(t)}}function fx(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function mx(e,t){const r=S.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,o,l){return this[n].call(this,t,a,o,l)},configurable:!0})})}let Ve=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function o(i,c,u){const f=bn(c);if(!f)throw new Error("header name must be a non-empty string");const d=S.findKey(a,f);(!d||a[d]===void 0||u===!0||u===void 0&&a[d]!==!1)&&(a[d||c]=$s(i))}const l=(i,c)=>S.forEach(i,(u,f)=>o(u,f,c));if(S.isPlainObject(t)||t instanceof this.constructor)l(t,r);else if(S.isString(t)&&(t=t.trim())&&!dx(t))l(cx(t),r);else if(S.isObject(t)&&S.isIterable(t)){let i={},c,u;for(const f of t){if(!S.isArray(f))throw TypeError("Object iterator must return a key-value pair");i[u=f[0]]=(c=i[u])?S.isArray(c)?[...c,f[1]]:[c,f[1]]:f[1]}l(i,r)}else t!=null&&o(r,t,n);return this}get(t,r){if(t=bn(t),t){const n=S.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return ux(a);if(S.isFunction(r))return r.call(this,a,n);if(S.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=bn(t),t){const n=S.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||mo(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function o(l){if(l=bn(l),l){const i=S.findKey(n,l);i&&(!r||mo(n,n[i],i,r))&&(delete n[i],a=!0)}}return S.isArray(t)?t.forEach(o):o(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const o=r[n];(!t||mo(this,this[o],o,t,!0))&&(delete this[o],a=!0)}return a}normalize(t){const r=this,n={};return S.forEach(this,(a,o)=>{const l=S.findKey(n,o);if(l){r[l]=$s(a),delete r[o];return}const i=t?fx(o):String(o).trim();i!==o&&delete r[o],r[i]=$s(a),n[i]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return S.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&S.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[Zc]=this[Zc]={accessors:{}}).accessors,a=this.prototype;function o(l){const i=bn(l);n[i]||(mx(a,l),n[i]=!0)}return S.isArray(t)?t.forEach(o):o(t),this}};Ve.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);S.reduceDescriptors(Ve.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});S.freezeMethods(Ve);function po(e,t){const r=this||is,n=t||r,a=Ve.from(n.headers);let o=n.data;return S.forEach(e,function(i){o=i.call(r,o,a.normalize(),t?t.status:void 0)}),a.normalize(),o}function tm(e){return!!(e&&e.__CANCEL__)}function ln(e,t,r){Y.call(this,e??"canceled",Y.ERR_CANCELED,t,r),this.name="CanceledError"}S.inherits(ln,Y,{__CANCEL__:!0});function rm(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Y("Request failed with status code "+r.status,[Y.ERR_BAD_REQUEST,Y.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function px(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function hx(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,o=0,l;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),f=n[o];l||(l=u),r[a]=c,n[a]=u;let d=o,g=0;for(;d!==a;)g+=r[d++],d=d%e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),u-l<t)return;const b=f&&u-f;return b?Math.round(g*1e3/b):void 0}}function gx(e,t){let r=0,n=1e3/t,a,o;const l=(u,f=Date.now())=>{r=f,a=null,o&&(clearTimeout(o),o=null),e.apply(null,u)};return[(...u)=>{const f=Date.now(),d=f-r;d>=n?l(u,f):(a=u,o||(o=setTimeout(()=>{o=null,l(a)},n-d)))},()=>a&&l(a)]}const fa=(e,t,r=3)=>{let n=0;const a=hx(50,250);return gx(o=>{const l=o.loaded,i=o.lengthComputable?o.total:void 0,c=l-n,u=a(c),f=l<=i;n=l;const d={loaded:l,total:i,progress:i?l/i:void 0,bytes:c,rate:u||void 0,estimated:u&&i&&f?(i-l)/u:void 0,event:o,lengthComputable:i!=null,[t?"download":"upload"]:!0};e(d)},r)},eu=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},tu=e=>(...t)=>S.asap(()=>e(...t)),xx=_e.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,_e.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(_e.origin),_e.navigator&&/(msie|trident)/i.test(_e.navigator.userAgent)):()=>!0,yx=_e.hasStandardBrowserEnv?{write(e,t,r,n,a,o){const l=[e+"="+encodeURIComponent(t)];S.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),S.isString(n)&&l.push("path="+n),S.isString(a)&&l.push("domain="+a),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function vx(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function bx(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function nm(e,t,r){let n=!vx(t);return e&&(n||r==!1)?bx(e,t):t}const ru=e=>e instanceof Ve?{...e}:e;function wr(e,t){t=t||{};const r={};function n(u,f,d,g){return S.isPlainObject(u)&&S.isPlainObject(f)?S.merge.call({caseless:g},u,f):S.isPlainObject(f)?S.merge({},f):S.isArray(f)?f.slice():f}function a(u,f,d,g){if(S.isUndefined(f)){if(!S.isUndefined(u))return n(void 0,u,d,g)}else return n(u,f,d,g)}function o(u,f){if(!S.isUndefined(f))return n(void 0,f)}function l(u,f){if(S.isUndefined(f)){if(!S.isUndefined(u))return n(void 0,u)}else return n(void 0,f)}function i(u,f,d){if(d in t)return n(u,f);if(d in e)return n(void 0,u)}const c={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:i,headers:(u,f,d)=>a(ru(u),ru(f),d,!0)};return S.forEach(Object.keys(Object.assign({},e,t)),function(f){const d=c[f]||a,g=d(e[f],t[f],f);S.isUndefined(g)&&d!==i||(r[f]=g)}),r}const sm=e=>{const t=wr({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:o,headers:l,auth:i}=t;t.headers=l=Ve.from(l),t.url=Xf(nm(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&l.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):"")));let c;if(S.isFormData(r)){if(_e.hasStandardBrowserEnv||_e.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((c=l.getContentType())!==!1){const[u,...f]=c?c.split(";").map(d=>d.trim()).filter(Boolean):[];l.setContentType([u||"multipart/form-data",...f].join("; "))}}if(_e.hasStandardBrowserEnv&&(n&&S.isFunction(n)&&(n=n(t)),n||n!==!1&&xx(t.url))){const u=a&&o&&yx.read(o);u&&l.set(a,u)}return t},jx=typeof XMLHttpRequest<"u",wx=jx&&function(e){return new Promise(function(r,n){const a=sm(e);let o=a.data;const l=Ve.from(a.headers).normalize();let{responseType:i,onUploadProgress:c,onDownloadProgress:u}=a,f,d,g,b,x;function v(){b&&b(),x&&x(),a.cancelToken&&a.cancelToken.unsubscribe(f),a.signal&&a.signal.removeEventListener("abort",f)}let w=new XMLHttpRequest;w.open(a.method.toUpperCase(),a.url,!0),w.timeout=a.timeout;function p(){if(!w)return;const h=Ve.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),P={data:!i||i==="text"||i==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:h,config:e,request:w};rm(function(R){r(R),v()},function(R){n(R),v()},P),w=null}"onloadend"in w?w.onloadend=p:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(p)},w.onabort=function(){w&&(n(new Y("Request aborted",Y.ECONNABORTED,e,w)),w=null)},w.onerror=function(){n(new Y("Network Error",Y.ERR_NETWORK,e,w)),w=null},w.ontimeout=function(){let E=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const P=a.transitional||Zf;a.timeoutErrorMessage&&(E=a.timeoutErrorMessage),n(new Y(E,P.clarifyTimeoutError?Y.ETIMEDOUT:Y.ECONNABORTED,e,w)),w=null},o===void 0&&l.setContentType(null),"setRequestHeader"in w&&S.forEach(l.toJSON(),function(E,P){w.setRequestHeader(P,E)}),S.isUndefined(a.withCredentials)||(w.withCredentials=!!a.withCredentials),i&&i!=="json"&&(w.responseType=a.responseType),u&&([g,x]=fa(u,!0),w.addEventListener("progress",g)),c&&w.upload&&([d,b]=fa(c),w.upload.addEventListener("progress",d),w.upload.addEventListener("loadend",b)),(a.cancelToken||a.signal)&&(f=h=>{w&&(n(!h||h.type?new ln(null,e,w):h),w.abort(),w=null)},a.cancelToken&&a.cancelToken.subscribe(f),a.signal&&(a.signal.aborted?f():a.signal.addEventListener("abort",f)));const m=px(a.url);if(m&&_e.protocols.indexOf(m)===-1){n(new Y("Unsupported protocol "+m+":",Y.ERR_BAD_REQUEST,e));return}w.send(o||null)})},Nx=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const o=function(u){if(!a){a=!0,i();const f=u instanceof Error?u:this.reason;n.abort(f instanceof Y?f:new ln(f instanceof Error?f.message:f))}};let l=t&&setTimeout(()=>{l=null,o(new Y(`timeout ${t} of ms exceeded`,Y.ETIMEDOUT))},t);const i=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),e=null)};e.forEach(u=>u.addEventListener("abort",o));const{signal:c}=n;return c.unsubscribe=()=>S.asap(i),c}},kx=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},Cx=async function*(e,t){for await(const r of Ex(e))yield*kx(r,t)},Ex=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},nu=(e,t,r,n)=>{const a=Cx(e,t);let o=0,l,i=c=>{l||(l=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:f}=await a.next();if(u){i(),c.close();return}let d=f.byteLength;if(r){let g=o+=d;r(g)}c.enqueue(new Uint8Array(f))}catch(u){throw i(u),u}},cancel(c){return i(c),a.return()}},{highWaterMark:2})},Aa=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",am=Aa&&typeof ReadableStream=="function",Sx=Aa&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),om=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Px=am&&om(()=>{let e=!1;const t=new Request(_e.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),su=64*1024,hl=am&&om(()=>S.isReadableStream(new Response("").body)),ma={stream:hl&&(e=>e.body)};Aa&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!ma[t]&&(ma[t]=S.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new Y(`Response type '${t}' is not supported`,Y.ERR_NOT_SUPPORT,n)})})})(new Response);const _x=async e=>{if(e==null)return 0;if(S.isBlob(e))return e.size;if(S.isSpecCompliantForm(e))return(await new Request(_e.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(S.isArrayBufferView(e)||S.isArrayBuffer(e))return e.byteLength;if(S.isURLSearchParams(e)&&(e=e+""),S.isString(e))return(await Sx(e)).byteLength},Rx=async(e,t)=>{const r=S.toFiniteNumber(e.getContentLength());return r??_x(t)},Lx=Aa&&(async e=>{let{url:t,method:r,data:n,signal:a,cancelToken:o,timeout:l,onDownloadProgress:i,onUploadProgress:c,responseType:u,headers:f,withCredentials:d="same-origin",fetchOptions:g}=sm(e);u=u?(u+"").toLowerCase():"text";let b=Nx([a,o&&o.toAbortSignal()],l),x;const v=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let w;try{if(c&&Px&&r!=="get"&&r!=="head"&&(w=await Rx(f,n))!==0){let P=new Request(t,{method:"POST",body:n,duplex:"half"}),k;if(S.isFormData(n)&&(k=P.headers.get("content-type"))&&f.setContentType(k),P.body){const[R,L]=eu(w,fa(tu(c)));n=nu(P.body,su,R,L)}}S.isString(d)||(d=d?"include":"omit");const p="credentials"in Request.prototype;x=new Request(t,{...g,signal:b,method:r.toUpperCase(),headers:f.normalize().toJSON(),body:n,duplex:"half",credentials:p?d:void 0});let m=await fetch(x,g);const h=hl&&(u==="stream"||u==="response");if(hl&&(i||h&&v)){const P={};["status","statusText","headers"].forEach(N=>{P[N]=m[N]});const k=S.toFiniteNumber(m.headers.get("content-length")),[R,L]=i&&eu(k,fa(tu(i),!0))||[];m=new Response(nu(m.body,su,R,()=>{L&&L(),v&&v()}),P)}u=u||"text";let E=await ma[S.findKey(ma,u)||"text"](m,e);return!h&&v&&v(),await new Promise((P,k)=>{rm(P,k,{data:E,headers:Ve.from(m.headers),status:m.status,statusText:m.statusText,config:e,request:x})})}catch(p){throw v&&v(),p&&p.name==="TypeError"&&/Load failed|fetch/i.test(p.message)?Object.assign(new Y("Network Error",Y.ERR_NETWORK,e,x),{cause:p.cause||p}):Y.from(p,p&&p.code,e,x)}}),gl={http:qg,xhr:wx,fetch:Lx};S.forEach(gl,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const au=e=>`- ${e}`,Tx=e=>S.isFunction(e)||e===null||e===!1,lm={getAdapter:e=>{e=S.isArray(e)?e:[e];const{length:t}=e;let r,n;const a={};for(let o=0;o<t;o++){r=e[o];let l;if(n=r,!Tx(r)&&(n=gl[(l=String(r)).toLowerCase()],n===void 0))throw new Y(`Unknown adapter '${l}'`);if(n)break;a[l||"#"+o]=n}if(!n){const o=Object.entries(a).map(([i,c])=>`adapter ${i} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=t?o.length>1?`since :
`+o.map(au).join(`
`):" "+au(o[0]):"as no adapter specified";throw new Y("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:gl};function ho(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ln(null,e)}function ou(e){return ho(e),e.headers=Ve.from(e.headers),e.data=po.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),lm.getAdapter(e.adapter||is.adapter)(e).then(function(n){return ho(e),n.data=po.call(e,e.transformResponse,n),n.headers=Ve.from(n.headers),n},function(n){return tm(n)||(ho(e),n&&n.response&&(n.response.data=po.call(e,e.transformResponse,n.response),n.response.headers=Ve.from(n.response.headers))),Promise.reject(n)})}const im="1.10.0",Da={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Da[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const lu={};Da.transitional=function(t,r,n){function a(o,l){return"[Axios v"+im+"] Transitional option '"+o+"'"+l+(n?". "+n:"")}return(o,l,i)=>{if(t===!1)throw new Y(a(l," has been removed"+(r?" in "+r:"")),Y.ERR_DEPRECATED);return r&&!lu[l]&&(lu[l]=!0,console.warn(a(l," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,l,i):!0}};Da.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Fx(e,t,r){if(typeof e!="object")throw new Y("options must be an object",Y.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const o=n[a],l=t[o];if(l){const i=e[o],c=i===void 0||l(i,o,e);if(c!==!0)throw new Y("option "+o+" must be "+c,Y.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Y("Unknown option "+o,Y.ERR_BAD_OPTION)}}const Us={assertOptions:Fx,validators:Da},pt=Us.validators;let gr=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Xc,response:new Xc}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=wr(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:o}=r;n!==void 0&&Us.assertOptions(n,{silentJSONParsing:pt.transitional(pt.boolean),forcedJSONParsing:pt.transitional(pt.boolean),clarifyTimeoutError:pt.transitional(pt.boolean)},!1),a!=null&&(S.isFunction(a)?r.paramsSerializer={serialize:a}:Us.assertOptions(a,{encode:pt.function,serialize:pt.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Us.assertOptions(r,{baseUrl:pt.spelling("baseURL"),withXsrfToken:pt.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=o&&S.merge(o.common,o[r.method]);o&&S.forEach(["delete","get","head","post","put","patch","common"],x=>{delete o[x]}),r.headers=Ve.concat(l,o);const i=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(c=c&&v.synchronous,i.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let f,d=0,g;if(!c){const x=[ou.bind(this),void 0];for(x.unshift.apply(x,i),x.push.apply(x,u),g=x.length,f=Promise.resolve(r);d<g;)f=f.then(x[d++],x[d++]);return f}g=i.length;let b=r;for(d=0;d<g;){const x=i[d++],v=i[d++];try{b=x(b)}catch(w){v.call(this,w);break}}try{f=ou.call(this,b)}catch(x){return Promise.reject(x)}for(d=0,g=u.length;d<g;)f=f.then(u[d++],u[d++]);return f}getUri(t){t=wr(this.defaults,t);const r=nm(t.baseURL,t.url,t.allowAbsoluteUrls);return Xf(r,t.params,t.paramsSerializer)}};S.forEach(["delete","get","head","options"],function(t){gr.prototype[t]=function(r,n){return this.request(wr(n||{},{method:t,url:r,data:(n||{}).data}))}});S.forEach(["post","put","patch"],function(t){function r(n){return function(o,l,i){return this.request(wr(i||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}gr.prototype[t]=r(),gr.prototype[t+"Form"]=r(!0)});let Ox=class cm{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(a=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](a);n._listeners=null}),this.promise.then=a=>{let o;const l=new Promise(i=>{n.subscribe(i),o=i}).then(a);return l.cancel=function(){n.unsubscribe(o)},l},t(function(o,l,i){n.reason||(n.reason=new ln(o,l,i),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new cm(function(a){t=a}),cancel:t}}};function zx(e){return function(r){return e.apply(null,r)}}function Ax(e){return S.isObject(e)&&e.isAxiosError===!0}const xl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xl).forEach(([e,t])=>{xl[t]=e});function um(e){const t=new gr(e),r=Uf(gr.prototype.request,t);return S.extend(r,gr.prototype,t,{allOwnKeys:!0}),S.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return um(wr(e,a))},r}const he=um(is);he.Axios=gr;he.CanceledError=ln;he.CancelToken=Ox;he.isCancel=tm;he.VERSION=im;he.toFormData=za;he.AxiosError=Y;he.Cancel=he.CanceledError;he.all=function(t){return Promise.all(t)};he.spread=zx;he.isAxiosError=Ax;he.mergeConfig=wr;he.AxiosHeaders=Ve;he.formToJSON=e=>em(S.isHTMLForm(e)?new FormData(e):e);he.getAdapter=lm.getAdapter;he.HttpStatusCode=xl;he.default=he;const{Axios:Xy,AxiosError:Zy,CanceledError:ev,isCancel:tv,CancelToken:rv,VERSION:nv,all:sv,Cancel:av,isAxiosError:ov,spread:lv,toFormData:iv,AxiosHeaders:cv,HttpStatusCode:uv,formToJSON:dv,getAdapter:fv,mergeConfig:mv}=he,Dx="https://sf-alumnos-backend-production.up.railway.app/api",W=he.create({baseURL:Dx,headers:{"Content-Type":"application/json"}});W.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));W.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("usuario"),window.location.pathname!=="/login"&&(window.location.href="/login")),Promise.reject(e)});const Me={obtenerTodos:()=>W.get("/usuarios"),obtenerPorId:e=>W.get(`/usuarios/${e}`),crear:e=>W.post("/usuarios",e),actualizar:(e,t)=>W.put(`/usuarios/${e}`,t),eliminar:e=>W.delete(`/usuarios/${e}`),cambiarEstado:(e,t)=>W.patch(`/usuarios/${e}/estado`,{activo:t}),eliminarCompleto:e=>W.delete(`/usuarios/${e}/completo`),login:e=>W.post("/auth/login",e),cambiarContrasena:(e,t)=>W.put(`/usuarios/${e}/cambiar-contrasena`,t),obtenerFavoritos:e=>W.get(`/usuarios/${e}/favoritos`),agregarFavorito:(e,t)=>W.post(`/usuarios/${e}/favoritos/${t}`),quitarFavorito:(e,t)=>W.delete(`/usuarios/${e}/favoritos/${t}`),alternarFavorito:(e,t)=>W.put(`/usuarios/${e}/favoritos/${t}`)},En={obtenerTodos:()=>W.get("/pagos"),obtenerPorUsuario:e=>W.get(`/pagos/usuario/${e}`),crear:e=>W.post("/pagos",e),actualizar:(e,t)=>W.put(`/pagos/${e}`,t),eliminar:e=>W.delete(`/pagos/${e}`),agregarClases:(e,t)=>W.post(`/pagos/${e}/clases`,{fechasClases:t})},yt={obtenerTodas:()=>W.get("/clases"),obtenerEstudiantesPorDia:()=>W.get("/clases/estudiantes-por-dia"),obtenerPorUsuario:e=>W.get(`/clases/usuario/${e}`),obtenerPorPago:e=>W.get(`/clases/pago/${e}`),obtenerSeparadas:e=>W.get(`/clases/usuario/${e}/separadas`),obtenerResumen:e=>W.get(`/clases/resumen/${e}`),obtenerPorFecha:e=>W.get(`/clases/fecha/${e}`),actualizarEstado:(e,t)=>W.put(`/clases/${e}/estado`,t)},Ur={obtenerTodas:()=>W.get("/partituras"),buscar:e=>W.get(`/partituras/buscar?q=${encodeURIComponent(e)}`),obtenerPorCompositor:e=>W.get(`/partituras/compositor/${encodeURIComponent(e)}`),crear:e=>W.post("/partituras",e),actualizar:(e,t)=>W.put(`/partituras/${e}`,t),eliminar:e=>W.delete(`/partituras/${e}`)},Qr={obtenerPorClase:e=>W.get(`/resumenes-clase/clase/${e}`),obtenerPorUsuario:(e,t={})=>{const r=new URLSearchParams(t).toString();return W.get(`/resumenes-clase/usuario/${e}${r?`?${r}`:""}`)},obtenerEstadisticas:e=>W.get(`/resumenes-clase/estadisticas/${e}`),crearOActualizar:e=>W.post("/resumenes-clase",e),eliminar:e=>W.delete(`/resumenes-clase/${e}`)},dm={login:async e=>{try{return(await W.post("/auth/login",e)).data}catch(t){throw console.error("Error en login:",t),t}},obtenerPerfil:async()=>{try{return(await W.get("/auth/perfil")).data}catch(e){throw console.error("Error al obtener perfil:",e),e}},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("usuario")},isAuthenticated:()=>!!localStorage.getItem("token"),getToken:()=>localStorage.getItem("token"),getUsuario:()=>{const e=localStorage.getItem("usuario");return e?JSON.parse(e):null},guardarSession:(e,t)=>{localStorage.setItem("token",e),localStorage.setItem("usuario",JSON.stringify(t))}},fm=!1,Mx=!1,$x=!1;class Ux{constructor(){this.isDev=fm,this.allowDebug=this.isDev&&Mx,this.allowSensitive=this.isDev&&$x}dev(...t){this.allowDebug&&console.log("[DEV]",...t)}info(t,...r){this.isDev?console.log("ℹ️",t,...r):console.log("ℹ️",t)}success(t,...r){this.isDev?console.log("✅",t,...r):console.log("✅",t)}warn(t,...r){this.isDev?console.warn("⚠️",t,...r):console.warn("⚠️",t)}error(t,r=null){this.isDev?console.error("❌",t,r):(console.error("❌",t),r&&r.message&&console.error("Error:",r.message))}debug(t,r){this.allowDebug&&console.log(`🔍 ${t}:`,r)}sensitive(t,r){this.allowSensitive&&console.log(`🔒 ${t}:`,r)}perf(t,r){this.allowDebug&&console.log(`⏱️ ${t}: ${r}ms`)}group(t,r){this.allowDebug&&(console.group(t),r(),console.groupEnd())}}const z=new Ux,Ix=fm,mm=y.createContext(),We=()=>{const e=y.useContext(mm);if(!e)throw new Error("useAuth debe ser usado dentro de un AuthProvider");return e},Bx=({children:e})=>{const[t,r]=y.useState(null),[n,a]=y.useState(!0);y.useEffect(()=>{const f=localStorage.getItem("token"),d=localStorage.getItem("usuario");f&&d&&r(JSON.parse(d)),a(!1)},[]);const u={usuario:t,login:async(f,d)=>{var g,b,x;try{z.sensitive("Intentando login con:",{email:f,password:"***"}),z.debug("API URL:","https://sf-alumnos-backend-production.up.railway.app/api");const v=await dm.login({email:f,password:d});z.sensitive("Respuesta del servidor:",v);const{token:w,usuario:p}=v;return localStorage.setItem("token",w),localStorage.setItem("usuario",JSON.stringify(p)),r(p),z.sensitive("Usuario logueado:",p),{success:!0}}catch(v){return z.error("Error en login:",v),z.error("Detalles del error:",(g=v.response)==null?void 0:g.data),{success:!1,error:((x=(b=v.response)==null?void 0:b.data)==null?void 0:x.message)||"Error al iniciar sesión"}}},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("usuario"),r(null)},isAdmin:()=>(t==null?void 0:t.rol)==="administrador",isAuthenticated:()=>t!==null,loading:n};return s.jsx(mm.Provider,{value:u,children:e})},Vx=()=>{const[e,t]=y.useState({email:"",password:""}),[r,n]=y.useState(""),[a,o]=y.useState(!1),{login:l}=We(),i=u=>{t({...e,[u.target.name]:u.target.value})},c=async u=>{u.preventDefault(),o(!0),n("");const f=await l(e.email,e.password);f.success||n(f.error),o(!1)};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sistema de Gestión de Alumnos"}),s.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Ingresa tus credenciales para acceder"})]}),s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:c,children:[s.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),s.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email",value:e.email,onChange:i})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"sr-only",children:"Contraseña"}),s.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Contraseña",value:e.password,onChange:i})]})]}),r&&s.jsx("div",{className:"text-red-600 text-sm text-center",children:r}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:a,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:a?"Ingresando...":"Ingresar"})})]})]})})},Wx=()=>{const{usuario:e,isAdmin:t}=We();return s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Bienvenido, ",e==null?void 0:e.nombre,"!"]}),s.jsx("p",{className:"text-gray-600",children:t()?"Panel de administración":"Tu espacio personal de aprendizaje"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-xl shadow-sm border border-blue-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-blue-900 mb-3 flex items-center",children:[s.jsx("span",{className:"mr-2",children:"👤"}),"Tu Perfil"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-blue-700",children:[s.jsx("span",{className:"font-medium",children:"Nombre:"})," ",e==null?void 0:e.nombre," ",e==null?void 0:e.apellido]}),s.jsxs("p",{className:"text-blue-700",children:[s.jsx("span",{className:"font-medium",children:"Email:"})," ",e==null?void 0:e.email]}),s.jsxs("p",{className:"text-blue-700",children:[s.jsx("span",{className:"font-medium",children:"Rol:"}),s.jsx("span",{className:`ml-2 inline-flex px-2 py-1 text-xs font-semibold rounded-full ${t()?"bg-purple-100 text-purple-800":"bg-green-100 text-green-800"}`,children:e==null?void 0:e.rol})]})]})]}),t()&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-xl shadow-sm border border-green-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-green-900 mb-3 flex items-center",children:[s.jsx("span",{className:"mr-2",children:"👥"}),"Gestión de Usuarios"]}),s.jsx("p",{className:"text-green-700 mb-4",children:"Administra los usuarios del sistema"}),s.jsx(xt,{to:"/usuarios",className:"inline-block bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:"Ver Usuarios"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-xl shadow-sm border border-purple-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-purple-900 mb-3 flex items-center",children:[s.jsx("span",{className:"mr-2",children:"⚙️"}),"Panel de Administración"]}),s.jsx("p",{className:"text-purple-700 mb-4",children:"Acceso completo al sistema"}),s.jsx("span",{className:"inline-block bg-purple-600 text-white px-4 py-2 rounded-lg text-sm",children:"Administrador"})]})]}),!t()&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-xl shadow-sm border border-blue-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-blue-900 mb-3 flex items-center",children:[s.jsx("span",{className:"mr-2",children:"🎼"}),"Partituras"]}),s.jsx("p",{className:"text-blue-700 mb-4",children:"Explora y marca tus partituras favoritas"}),s.jsx(xt,{to:"/partituras",className:"inline-block bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:"Ver Partituras"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-xl shadow-sm border border-green-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-green-900 mb-3 flex items-center",children:[s.jsx("span",{className:"mr-2",children:"📚"}),"Mis Clases"]}),s.jsx("p",{className:"text-green-700 mb-4",children:"Revisa el resumen de tus clases anteriores"}),s.jsx(xt,{to:"/mis-clases",className:"inline-block bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:"Ver Mis Clases"})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 p-6 rounded-xl shadow-sm border border-indigo-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-indigo-900 mb-3 flex items-center",children:[s.jsx("span",{className:"mr-2",children:"🔒"}),"Seguridad"]}),s.jsx("p",{className:"text-indigo-700 mb-4",children:"Cambia tu contraseña cuando sea necesario"}),s.jsx(xt,{to:"/cambiar-contrasena",className:"inline-block bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:"Cambiar Contraseña"})]})]}),s.jsxs("div",{className:"mt-8 bg-gradient-to-r from-yellow-50 to-amber-50 p-6 rounded-xl shadow-sm border border-yellow-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-yellow-900 mb-3 flex items-center",children:[s.jsx("span",{className:"mr-2",children:"💡"}),"Información Importante"]}),s.jsx("p",{className:"text-yellow-700",children:(e==null?void 0:e.rol)==="usuario"?"Si esta es tu primera vez ingresando, recuerda cambiar tu contraseña provisional.":"Como administrador, puedes gestionar todos los usuarios del sistema."})]})]})},Hx=({usuario:e,onSubmit:t,onCancel:r})=>{const[n,a]=y.useState({nombre:"",apellido:"",email:"",telefono:"",password:"",rol:"usuario"}),[o,l]=y.useState(!1),[i,c]=y.useState("");y.useEffect(()=>{e&&a({nombre:e.nombre||"",apellido:e.apellido||"",email:e.email||"",telefono:e.telefono||"",password:"",rol:e.rol||"usuario"})},[e]);const u=d=>{a({...n,[d.target.name]:d.target.value})},f=async d=>{var g,b;d.preventDefault(),l(!0),c("");try{if(e){const x={...n};x.password||delete x.password,await Me.actualizar(e._id,x)}else await Me.crear(n);t()}catch(x){c(((b=(g=x.response)==null?void 0:g.data)==null?void 0:b.message)||"Error al guardar usuario")}finally{l(!1)}};return s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:s.jsxs("div",{className:"mt-3",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 text-center mb-4",children:e?"Editar Usuario":"Nuevo Usuario"}),s.jsxs("form",{onSubmit:f,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre"}),s.jsx("input",{type:"text",name:"nombre",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:n.nombre,onChange:u})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Apellido"}),s.jsx("input",{type:"text",name:"apellido",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:n.apellido,onChange:u})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),s.jsx("input",{type:"email",name:"email",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:n.email,onChange:u})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Teléfono (WhatsApp)"}),s.jsx("input",{type:"tel",name:"telefono",placeholder:"Ej: +54911234567, +1234567890, 15234567",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:n.telefono,onChange:u}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Incluye código de país completo (ej: +54 para Argentina, +1 para USA)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e?"Nueva Contraseña (dejar vacío para no cambiar)":"Contraseña Provisoria"}),s.jsx("input",{type:"password",name:"password",required:!e,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:n.password,onChange:u})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Rol"}),s.jsxs("select",{name:"rol",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:n.rol,onChange:u,children:[s.jsx("option",{value:"usuario",children:"Usuario"}),s.jsx("option",{value:"administrador",children:"Administrador"})]})]}),i&&s.jsx("div",{className:"text-red-600 text-sm",children:i}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50",children:o?"Guardando...":"Guardar"})]})]})]})})})},Nr=({title:e="Cargando...",subtitle:t=null,showRenderMessage:r=!1,size:n="large"})=>{const[a,o]=y.useState(!1);y.useEffect(()=>{if(r){const c=setTimeout(()=>{o(!0)},3e3);return()=>clearTimeout(c)}},[r]);const l={small:"h-8 w-8",medium:"h-12 w-12",large:"h-16 w-16"},i={small:"min-h-32",medium:"min-h-48",large:"min-h-64"};return s.jsx("div",{className:`flex justify-center items-center ${i[n]}`,children:s.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[s.jsxs("div",{className:"relative mb-6",children:[s.jsxs("div",{className:`${l[n]} mx-auto relative`,children:[s.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-indigo-100 dark:border-gray-700"}),s.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-indigo-500 animate-spin"})]}),s.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:s.jsx("div",{className:"w-2 h-2 bg-indigo-500 rounded-full animate-pulse"})})]}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:e}),t&&s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:t}),r&&s.jsx("div",{className:`transition-all duration-500 ${a?"opacity-100 transform translate-y-0":"opacity-0 transform translate-y-2"}`,children:s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("svg",{className:"w-5 h-5 text-blue-500 mt-0.5 mr-3 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-blue-800 dark:text-blue-200 mb-1",children:"Despertando el servidor..."}),s.jsx("p",{className:"text-blue-700 dark:text-blue-300",children:"El servidor está iniciando en Render.com. Esto puede tomar unos momentos la primera vez."})]})]})})}),s.jsxs("div",{className:"flex justify-center space-x-1 mt-4",children:[s.jsx("div",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})})},qx=()=>{const[e,t]=y.useState([]),[r,n]=y.useState(!0),[a,o]=y.useState(""),[l,i]=y.useState(!1),[c,u]=y.useState(null),[f,d]=y.useState(null),[g,b]=y.useState(null),[x,v]=y.useState({}),{isAdmin:w}=We();y.useEffect(()=>{p()},[]);const p=async()=>{try{n(!0);const N=await Me.obtenerTodos();t(N.data)}catch{o("Error al cargar usuarios")}finally{n(!1)}},m=()=>{u(null),i(!0)},h=N=>{u(N),i(!0)},E=async N=>{try{await Me.eliminar(N),t(e.filter(j=>j._id!==N)),d(null)}catch{o("Error al eliminar usuario")}},P=async(N,j)=>{try{v(C=>({...C,[N]:!0})),await Me.cambiarEstado(N,j),t(e.map(C=>C._id===N?{...C,activo:j}:C))}catch{o(`Error al ${j?"reactivar":"pausar"} usuario`)}finally{v(C=>({...C,[N]:!1}))}},k=async N=>{try{v(C=>({...C,[N]:!0}));const j=await Me.eliminarCompleto(N);if(t(e.filter(C=>C._id!==N)),b(null),j.data.estadisticas){const C=j.data.estadisticas;alert(`Usuario "${C.usuario}" eliminado completamente.
Clases eliminadas: ${C.clasesEliminadas}
Pagos eliminados: ${C.pagosEliminados}`)}}catch{o("Error al eliminar usuario completo")}finally{v(j=>({...j,[N]:!1})),b(null)}},R=()=>{i(!1),u(null),p()},L=()=>{i(!1),u(null)};return r?s.jsx(Nr,{title:"Cargando usuarios...",subtitle:"Obteniendo la lista de usuarios del sistema",showRenderMessage:!0,size:"medium"}):s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestión de Usuarios"}),w()&&s.jsx("button",{onClick:m,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded",children:"Nuevo Usuario"})]}),a&&s.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:a}),s.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:s.jsx("ul",{className:"divide-y divide-gray-200",children:e.map(N=>{var j,C;return s.jsx("li",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-500 flex items-center justify-center",children:s.jsxs("span",{className:"text-white font-medium",children:[(j=N.nombre)==null?void 0:j.charAt(0),(C=N.apellido)==null?void 0:C.charAt(0)]})})}),s.jsxs("div",{className:"ml-4",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[N.nombre," ",N.apellido,N.activo===!1&&s.jsx("span",{className:"ml-2 inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800",children:"Pausado"})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[N.email,N.telefono&&s.jsxs("span",{className:"ml-3 text-green-600",children:["📱 ",N.telefono]})]}),s.jsx("div",{className:"text-xs text-gray-400",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${N.rol==="administrador"?"bg-purple-100 text-purple-800":"bg-green-100 text-green-800"}`,children:N.rol})})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(xt,{to:`/clases?usuario=${N._id}`,className:"text-blue-600 hover:text-blue-900 text-sm font-medium",children:"Ver Clases"}),w()&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>h(N),className:"text-indigo-600 hover:text-indigo-900 text-sm font-medium",children:"Editar"}),N.rol!=="administrador"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>P(N._id,!N.activo),disabled:x[N._id],className:`text-sm font-medium ${N.activo?"text-orange-600 hover:text-orange-900":"text-green-600 hover:text-green-900"} ${x[N._id]?"opacity-50 cursor-not-allowed":""}`,children:x[N._id]?"Procesando...":N.activo?"Pausar":"Reactivar"}),s.jsx("button",{onClick:()=>d(N._id),className:"text-red-600 hover:text-red-900 text-sm font-medium",children:"Eliminar"}),s.jsx("button",{onClick:()=>b(N._id),className:"text-red-800 hover:text-red-900 text-sm font-bold",children:"Eliminar Todo"})]}),N.rol==="administrador"&&s.jsx("button",{onClick:()=>d(N._id),className:"text-red-600 hover:text-red-900 text-sm font-medium",children:"Eliminar"})]})]})]})},N._id)})})}),e.length===0&&!r&&s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"No hay usuarios registrados"})}),l&&s.jsx(Hx,{usuario:c,onSubmit:R,onCancel:L}),f&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:s.jsxs("div",{className:"mt-3 text-center",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Confirmar Eliminación"}),s.jsx("div",{className:"mt-2 px-7 py-3",children:s.jsx("p",{className:"text-sm text-gray-500",children:"¿Estás seguro de que quieres eliminar este usuario? Esta acción no se puede deshacer."})}),s.jsxs("div",{className:"flex justify-center space-x-2 pt-4",children:[s.jsx("button",{onClick:()=>d(null),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:"Cancelar"}),s.jsx("button",{onClick:()=>E(f),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Eliminar"})]})]})})}),g&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:s.jsxs("div",{className:"mt-3 text-center",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"⚠️ Eliminación Completa"}),s.jsxs("div",{className:"mt-2 px-7 py-3",children:[s.jsxs("p",{className:"text-sm text-gray-500 mb-3",children:[s.jsx("strong",{children:"¡ATENCIÓN!"})," Esta acción eliminará:"]}),s.jsxs("ul",{className:"text-sm text-red-600 text-left list-disc list-inside space-y-1",children:[s.jsx("li",{children:"El usuario completamente"}),s.jsx("li",{children:"Todos sus pagos"}),s.jsx("li",{children:"Todas sus clases"})]}),s.jsx("p",{className:"text-sm text-gray-500 mt-3",children:s.jsx("strong",{children:"Esta acción NO se puede deshacer."})})]}),s.jsxs("div",{className:"flex justify-center space-x-2 pt-4",children:[s.jsx("button",{onClick:()=>b(null),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:"Cancelar"}),s.jsx("button",{onClick:()=>k(g),disabled:x[g],className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:x[g]?"Eliminando...":"Eliminar Todo"})]})]})})})]})},Qx=()=>{const[e,t]=y.useState({contrasenaActual:"",nuevaContrasena:"",confirmarContrasena:""}),[r,n]=y.useState(!1),[a,o]=y.useState(""),[l,i]=y.useState(""),{usuario:c}=We(),u=d=>{t({...e,[d.target.name]:d.target.value})},f=async d=>{var g,b;if(d.preventDefault(),n(!0),o(""),i(""),e.nuevaContrasena!==e.confirmarContrasena){o("Las contraseñas no coinciden"),n(!1);return}if(e.nuevaContrasena.length<6){o("La contraseña debe tener al menos 6 caracteres"),n(!1);return}try{await Me.cambiarContrasena(c._id,{contrasenaActual:e.contrasenaActual,nuevaContrasena:e.nuevaContrasena}),i("Contraseña cambiada exitosamente"),t({contrasenaActual:"",nuevaContrasena:"",confirmarContrasena:""})}catch(x){o(((b=(g=x.response)==null?void 0:g.data)==null?void 0:b.message)||"Error al cambiar contraseña")}finally{n(!1)}};return s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Cambiar Contraseña"}),s.jsxs("form",{onSubmit:f,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contraseña Actual"}),s.jsx("input",{type:"password",name:"contrasenaActual",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:e.contrasenaActual,onChange:u})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nueva Contraseña"}),s.jsx("input",{type:"password",name:"nuevaContrasena",required:!0,minLength:"6",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:e.nuevaContrasena,onChange:u})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Confirmar Nueva Contraseña"}),s.jsx("input",{type:"password",name:"confirmarContrasena",required:!0,minLength:"6",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:e.confirmarContrasena,onChange:u})]}),a&&s.jsx("div",{className:"text-red-600 text-sm",children:a}),l&&s.jsx("div",{className:"text-green-600 text-sm",children:l}),s.jsx("button",{type:"submit",disabled:r,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:r?"Cambiando...":"Cambiar Contraseña"})]})]})})},Ma=e=>{if(!e)return null;const t=new Date(e);return t.getUTCHours()!==0||t.getUTCMinutes()!==0||t.getUTCSeconds()!==0?t:new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),12,0,0,0)},Gx=(e,t={})=>{if(!e)return"";const r=Ma(e),a={...{weekday:"long",year:"numeric",month:"long",day:"numeric"},...t},o=typeof navigator<"u"&&navigator.language||"es-ES";return r.toLocaleDateString(o,a)},Te=e=>{if(!e)return"";const t=Ma(e),r={weekday:void 0,year:"numeric",month:"long",day:"numeric"};return t.toLocaleDateString("es-ES",r)},Kx=e=>Gx(e,{weekday:void 0,year:"numeric",month:"short",day:"numeric"}),Jx=e=>{if(!e)return"";const t=Ma(e),r=t.getDate().toString().padStart(2,"0"),n=(t.getMonth()+1).toString().padStart(2,"0"),a=t.getFullYear().toString().slice(-2);return`${r}/${n}/${a}`},Yx=e=>{if(!e)return"";const t=Ma(e),r=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],n=t.getDate(),a=r[t.getMonth()],o=t.getFullYear();return`${a} ${n}, ${o}`},Xx=e=>{if(!e)return null;if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[r,n,a]=e.split("-").map(Number);return new Date(Date.UTC(r,n-1,a,12,0,0,0))}const t=new Date(e);return new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),12,0,0,0))},Zx=e=>{const t=new Date(e),r=new Date;return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()},ey=e=>{const t=new Date(e),r={year:"numeric",month:"long"};return t.toLocaleDateString("es-ES",r)},ty=e=>{const t=[],r=[];return e.forEach(n=>{if(Zx(n.fechaPago))t.push(n);else{const a=ey(n.fechaPago);let o=r.find(l=>l.mesAnio===a);o||(o={mesAnio:a,fecha:new Date(n.fechaPago),pagos:[]},r.push(o)),o.pagos.push(n)}}),r.sort((n,a)=>a.fecha-n.fecha),{pagosActuales:t,pagosHistoricos:r}},ry=e=>e.replace(/\n/g,"%0A").replace(/ /g,"%20").replace(/&/g,"%26").replace(/\+/g,"%2B").replace(/#/g,"%23").replace(/\?/g,"%3F").replace(/=/g,"%3D"),tr=(e,t=null)=>{const r=ry(e);let n;if(t&&t.trim()!==""){let a=t.replace(/[\s\-\(\)]/g,"");a=a.replace(/^\+/,""),n=`https://api.whatsapp.com/send?phone=${a}&text=${r}`}else n=`https://api.whatsapp.com/send?text=${r}`;window.open(n,"_blank")},ji=({fecha:e,obrasEstudiadas:t=[],objetivosProximaClase:r=""})=>{let n=`🎼 *Resumen de Clase*
`;return n+=`📅 Fecha: ${e}

`,t.length>0&&(n+=`🎵 *Obras Estudiadas:*
`,t.forEach((a,o)=>{n+=`${o+1}. *${a.compositor}* - ${a.obra}
`,a.movimientosCompases&&(n+=`   📖 Movimientos/Compases: ${a.movimientosCompases}
`),a.comentarios&&(n+=`   💭 ${a.comentarios}
`),n+=`
`})),r&&(n+=`📋 *Próxima Clase:*
${r}`),n},iu=({pago:e,onEdit:t,onEliminar:r})=>{const n=l=>{if(!l||l.length===0)return"Sin clases";const i=l.reduce((u,f)=>{const d=new Date(f.fecha),g=`${d.getFullYear()}-${d.getMonth()}`;return u[g]||(u[g]={nombreMes:d.toLocaleString("es-ES",{month:"long"}),fechas:[]}),u[g].fechas.push(d.getDate()),u},{});return Object.values(i).map(u=>{const f=u.fechas.sort((b,x)=>b-x),d=u.nombreMes.charAt(0).toUpperCase()+u.nombreMes.slice(1),g=f.join("-");return`${d} ${g}`}).join(" - ")},a=async()=>{if(e.linkFactura)try{const l=document.createElement("a");l.href=e.linkFactura,l.download=`Factura_${e.usuario.nombre}_${e.usuario.apellido}_${Te(e.fechaPago)}.pdf`,document.body.appendChild(l),l.click(),document.body.removeChild(l)}catch(l){z.error("Error al descargar factura:",l),window.open(e.linkFactura,"_blank")}},o=()=>{var f;const l=`$${e.monto.toLocaleString()}`,i=n(e.clasesDetalle),c=Te(e.fechaPago);let u=`⭐⭐⭐⭐⭐⭐⭐⭐⭐

`;u+=`*Pagado ${l} - ${i}*

`,e.descripcion&&e.descripcion.trim()!==""&&(u+=`💬 ${e.descripcion}

`),u+=`📅 ${c}

`,e.linkFactura&&(u+=`*Descargar factura*
📘📘📘📘📘📘📘📘📘
${e.linkFactura}`),(f=e.usuario)!=null&&f.telefono?tr(u,e.usuario.telefono):tr(u)};return s.jsxs("div",{className:"bg-white rounded-lg shadow-md border p-3",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("div",{children:s.jsxs("h3",{className:"text-base font-semibold text-gray-900",children:[e.usuario.nombre," ",e.usuario.apellido]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:o,className:"text-green-600 hover:text-green-800 text-sm font-medium",title:"Compartir por WhatsApp",children:"📱"}),s.jsx("button",{onClick:()=>t(e),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"✏️"}),s.jsx("button",{onClick:()=>r(e._id),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"🗑️"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-left",children:s.jsxs("span",{className:"font-semibold text-base text-gray-900",children:["$",e.monto.toLocaleString()]})}),s.jsx("div",{className:"text-left",children:s.jsx("span",{className:"text-sm text-gray-600",children:e.clasesDetalle?n(e.clasesDetalle):"Cargando..."})}),e.descripcion&&s.jsx("div",{className:"mt-2 p-2 bg-amber-100 rounded border border-amber-200",children:s.jsx("p",{className:"text-sm text-amber-800",children:e.descripcion})}),e.linkFactura&&s.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-blue-600",children:"📄 Factura digital"}),s.jsx("button",{onClick:a,className:"inline-flex items-center px-2 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 transition-colors",children:"⬇ Descargar"})]})]})]})},ny=()=>{const[e,t]=y.useState([]),[r,n]=y.useState([]),[a,o]=y.useState([]),[l,i]=y.useState([]),[c,u]=y.useState(!0),[f,d]=y.useState(""),[g,b]=y.useState(!1),[x,v]=y.useState(null),[w,p]=y.useState("periodo"),[m,h]=y.useState([""]),[E,P]=y.useState({show:!1,message:"",type:""}),[k,R]=y.useState({usuarioId:"",monto:"",fechaInicio:"",fechaFin:"",descripcion:"",linkFactura:""}),L=(T,_="success")=>{P({show:!0,message:T,type:_}),setTimeout(()=>{P({show:!1,message:"",type:""})},3e3)};y.useEffect(()=>{N()},[]);const N=async()=>{u(!0);try{const[T,_]=await Promise.all([En.obtenerTodos(),Me.obtenerTodos()]),U=T.data,I=await Promise.all(U.map(async G=>{try{const K=(await yt.obtenerPorPago(G._id)).data;return{...G,totalClases:K.length,clasesActivas:K.filter(ne=>ne.activo!==!1).length,clasesDetalle:K}}catch{z.error("Error al obtener clases para pago:",G._id);try{const ne=(await yt.obtenerPorUsuario(G.usuario._id)).data.filter(ie=>ie.pago&&ie.pago._id&&ie.pago._id.toString()===G._id.toString());return{...G,totalClases:ne.length,clasesActivas:ne.filter(ie=>ie.activo!==!1).length,clasesDetalle:ne}}catch(K){return z.error("Error en fallback para pago:",G._id,K),{...G,totalClases:0,clasesActivas:0,clasesDetalle:[]}}}}));t(I),i(_.data);const{pagosActuales:A,pagosHistoricos:D}=ty(I);n(A),o(D)}catch(T){d("Error al cargar los datos"),z.error("Error:",T)}finally{u(!1)}},j=async T=>{var _,U,I,A;T.preventDefault();try{let D={monto:k.monto,descripcion:k.descripcion,linkFactura:k.linkFactura};if(x){const G=x.fechaInicio?x.fechaInicio.split("T")[0]:"",V=x.fechaFin?x.fechaFin.split("T")[0]:"",K=k.fechaInicio!==G,ne=k.fechaFin!==V;if(z.debug("🔍 Verificando cambios de fechas",{fechaInicioOriginal:G,fechaFinOriginal:V,fechaInicio:k.fechaInicio,fechaFin:k.fechaFin,fechaInicioCambio:K,fechaFinCambio:ne}),w==="individual"){const ie=m.filter(cn=>cn.trim()!=="");if(ie.length===0){L("Debe agregar al menos una fecha de clase.","error");return}D.fechasClases=ie}else if(w==="periodo")if(K||ne){if(!k.fechaInicio||!k.fechaFin){L("Debe especificar fechas de inicio y fin.","error");return}const ie=new Date(k.fechaInicio);if(new Date(k.fechaFin)<=ie){L("La fecha de fin debe ser posterior a la fecha de inicio.","error");return}D.fechaInicio=k.fechaInicio,D.fechaFin=k.fechaFin,z.dev("📅 Incluyendo fechas cambiadas en la actualización")}else z.dev("ℹ️  No se incluyen fechas - no hubo cambios")}else if(D.usuarioId=k.usuarioId,w==="individual"){const G=m.filter(V=>V.trim()!=="");if(G.length===0){L("Debe agregar al menos una fecha de clase para crear el pago.","error");return}D.fechasClases=G}else if(w==="periodo"){if(!k.fechaInicio||!k.fechaFin){L("Debe especificar fechas de inicio y fin para crear clases automáticamente.","error");return}const G=new Date(k.fechaInicio);if(new Date(k.fechaFin)<=G){L("La fecha de fin debe ser posterior a la fecha de inicio.","error");return}D.fechaInicio=k.fechaInicio,D.fechaFin=k.fechaFin}if(x)z.sensitive("🔄 Datos a enviar para actualización:",D),z.debug("📝 Link de factura en formData:",k.linkFactura),z.debug("📝 Link de factura en pagoData:",D.linkFactura),await En.actualizar(x._id,D),L("Pago actualizado exitosamente","success");else{const V=(await En.crear(D)).data;let K="Pago creado exitosamente";V.clases&&V.clases.length>0&&(K+=` - Se crearon ${V.clases.length} clases automáticamente`),D.linkFactura&&(K+=" - Factura digital guardada"),L(K,"success")}await N(),M(),b(!1)}catch(D){z.error("Error al guardar pago:",D),((U=(_=D.response)==null?void 0:_.data)==null?void 0:U.error)==="CLASES_REQUERIDAS"?L(D.response.data.message,"error"):(A=(I=D.response)==null?void 0:I.data)!=null&&A.message?L(`Error: ${D.response.data.message}`,"error"):L("Error al guardar el pago. Verifique que todos los campos estén completos.","error")}},C=async T=>{if(window.confirm("¿Estás seguro de que quieres eliminar este pago?"))try{await En.eliminar(T),await N(),L("Pago eliminado exitosamente","success")}catch(_){z.error("Error al eliminar pago:",_),L("Error al eliminar el pago","error")}},M=()=>{R({usuarioId:"",monto:"",fechaInicio:"",fechaFin:"",descripcion:"",linkFactura:""}),v(null),p("periodo"),h([""])},H=async T=>{v(T);const _=T.fechaInicio&&T.fechaFin?"periodo":"individual";if(p(_),R({usuarioId:T.usuario._id,monto:T.monto,fechaInicio:T.fechaInicio?T.fechaInicio.split("T")[0]:"",fechaFin:T.fechaFin?T.fechaFin.split("T")[0]:"",descripcion:T.descripcion||"",linkFactura:T.linkFactura||""}),_==="individual")try{const I=(await yt.obtenerPorPago(T._id)).data.map(A=>new Date(A.fecha).toISOString().split("T")[0]);h(I.length>0?I:[""])}catch(U){z.error("Error al cargar fechas de clases:",U),h([""])}else h([""]);b(!0)},$=()=>{h([...m,""])},Q=T=>{const _=m.filter((U,I)=>I!==T);h(_.length>0?_:[""])},q=(T,_)=>{const U=[...m];U[T]=_,h(U)};return c?s.jsx(Nr,{title:"Cargando pagos...",subtitle:"Obteniendo información de pagos y usuarios",showRenderMessage:!0,size:"medium"}):s.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[E.show&&s.jsx("div",{className:`fixed top-4 right-4 z-50 px-6 py-3 rounded-lg shadow-lg transform transition-all duration-300 ${E.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:E.type==="success"?"✅":"❌"}),s.jsx("span",{className:"font-medium",children:E.message})]})}),s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestión de Pagos"}),s.jsx("button",{onClick:()=>{M(),b(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 font-semibold",children:"➕ Nuevo Pago"})]}),f&&s.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:f}),r.length>0&&s.jsx("div",{className:"mb-8",children:s.jsxs("details",{open:!0,className:"border border-blue-200 rounded-lg bg-blue-50",children:[s.jsxs("summary",{className:"cursor-pointer bg-blue-100 hover:bg-blue-200 p-4 font-bold text-blue-900 flex justify-between items-center rounded-t-lg",children:[s.jsxs("span",{className:"flex items-center",children:["📅 Pagos de ",new Date().toLocaleDateString("es-ES",{month:"long",year:"numeric"}),s.jsx("span",{className:"ml-3 bg-blue-600 text-white text-sm font-medium px-2.5 py-0.5 rounded-full",children:r.length})]}),s.jsx("span",{className:"text-sm text-blue-700",children:"Mes actual"})]}),s.jsx("div",{className:"p-4",children:s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:r.map(T=>s.jsx(iu,{pago:T,onEdit:H,onEliminar:C},T._id))})})]})}),a.length>0&&s.jsxs("div",{className:"mb-8",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:["Historial de Pagos",s.jsxs("span",{className:"ml-3 text-sm text-gray-600 font-normal",children:["(",a.reduce((T,_)=>T+_.pagos.length,0)," pagos)"]})]}),s.jsx("div",{className:"space-y-4",children:a.map(T=>s.jsxs("details",{className:"border border-gray-200 rounded-lg",children:[s.jsxs("summary",{className:"cursor-pointer bg-gray-50 hover:bg-gray-100 p-4 font-medium text-gray-900 flex justify-between items-center",children:[s.jsxs("span",{className:"capitalize",children:["📆 ",T.mesAnio]}),s.jsxs("span",{className:"text-sm text-gray-500 bg-gray-200 px-2 py-1 rounded-full",children:[T.pagos.length," ",T.pagos.length===1?"pago":"pagos"]})]}),s.jsx("div",{className:"p-4",children:s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:T.pagos.map(_=>s.jsx(iu,{pago:_,onEdit:H,onEliminar:C},_._id))})})]},T.mesAnio))})]}),r.length===0&&a.length===0&&!c&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"mx-auto w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:s.jsx("span",{className:"text-4xl",children:"💰"})}),s.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"No hay pagos registrados"}),s.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Crea el primer pago para comenzar a gestionar las clases"})]}),g&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:x?"Editar Pago":"Nuevo Pago"}),s.jsxs("form",{onSubmit:j,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usuario"}),s.jsxs("select",{value:k.usuarioId,onChange:T=>R({...k,usuarioId:T.target.value}),required:!0,className:"w-full p-2 border border-gray-300 rounded-md",children:[s.jsx("option",{value:"",children:"Seleccionar usuario..."}),l.map(T=>s.jsxs("option",{value:T._id,children:[T.nombre," ",T.apellido," (",T.email,")"]},T._id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monto ($)"}),s.jsx("input",{type:"number",value:k.monto,onChange:T=>R({...k,monto:T.target.value}),required:!0,min:"0",className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"56200"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de programación de clases"}),s.jsxs("div",{className:"flex gap-4 mb-4",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"periodo",checked:w==="periodo",onChange:T=>p(T.target.value),className:"mr-2",disabled:x}),"Por período (semanal)"]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"individual",checked:w==="individual",onChange:T=>p(T.target.value),className:"mr-2",disabled:x}),"Clases individuales"]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3 mb-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-blue-600 mr-2",children:"💡"}),s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Importante:"})," Todo pago debe tener clases asociadas.",w==="periodo"?" Se crearán clases automáticamente cada semana entre las fechas seleccionadas.":" Debe especificar al menos una fecha de clase."]})]})}),x&&s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"💡 Tipo detectado automáticamente. Para cambiar el tipo, elimine y cree un nuevo pago."})]}),(w==="periodo"||x)&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de inicio"}),s.jsx("input",{type:"date",value:k.fechaInicio,onChange:T=>R({...k,fechaInicio:T.target.value}),required:w==="periodo",className:"w-full p-2 border border-gray-300 rounded-md"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de fin"}),s.jsx("input",{type:"date",value:k.fechaFin,onChange:T=>R({...k,fechaFin:T.target.value}),required:w==="periodo",className:"w-full p-2 border border-gray-300 rounded-md"})]})]}),w==="individual"&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Fechas de clases ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Agregue las fechas específicas en que se realizarán las clases. Mínimo: 1 fecha."}),m.map((T,_)=>s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx("input",{type:"date",value:T,onChange:U=>q(_,U.target.value),className:"flex-1 p-2 border border-gray-300 rounded-md",required:!0}),m.length>1&&s.jsx("button",{type:"button",onClick:()=>Q(_),className:"px-3 py-2 bg-red-500 text-white rounded hover:bg-red-600",title:"Eliminar fecha",children:"🗑️"})]},_)),s.jsx("button",{type:"button",onClick:$,className:"w-full p-2 border-2 border-dashed border-gray-300 rounded-md text-gray-600 hover:border-blue-400 hover:text-blue-600",children:"➕ Agregar otra fecha"}),m.filter(T=>T.trim()!=="").length>0&&s.jsxs("p",{className:"text-sm text-green-600 mt-2",children:["✅ ",m.filter(T=>T.trim()!=="").length," fecha(s) programada(s)"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción (opcional)"}),s.jsx("textarea",{value:k.descripcion,onChange:T=>R({...k,descripcion:T.target.value}),className:"w-full p-2 border border-gray-300 rounded-md",rows:"3",placeholder:"Descripción del pago..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link de Factura Digital (opcional)"}),s.jsx("input",{type:"url",value:k.linkFactura,onChange:T=>R({...k,linkFactura:T.target.value}),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"https://ejemplo.com/factura.pdf"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"📄 Enlace a la factura digital para descarga (Google Drive, Dropbox, etc.)"})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>{b(!1),M()},className:"flex-1 px-4 py-2 text-gray-600 bg-gray-200 rounded hover:bg-gray-300",children:"Cancelar"}),s.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:x?"Actualizar":"Crear"})]})]})]})})]})},wi=({claseId:e,usuarioId:t,fecha:r,onClose:n,onSave:a,resumenExistente:o,isStandalone:l=!1})=>{const[i,c]=y.useState(!0),[u,f]=y.useState(!1),[d,g]=y.useState([]),[b,x]=y.useState([]),[v,w]=y.useState(null),[p,m]=y.useState({obrasEstudiadas:[],objetivosProximaClase:""}),[h,E]=y.useState({compositor:"",obra:"",movimientosCompases:"",comentarios:""});y.useEffect(()=>{P()},[e,o]);const P=async()=>{try{const $=await Ur.obtenerTodas();g($.data);const Q=[...new Set($.data.map(q=>q.compositor))].sort();if(x(Q),t)try{const q=await Me.obtenerPorId(t);w(q.data)}catch(q){z.error("Error al cargar usuario:",q)}if(o)m({obrasEstudiadas:o.obrasEstudiadas||[],objetivosProximaClase:o.objetivosProximaClase||""});else{const q=await Qr.obtenerPorClase(e);q.data&&q.data.obrasEstudiadas&&m({obrasEstudiadas:q.data.obrasEstudiadas||[],objetivosProximaClase:q.data.objetivosProximaClase||""})}}catch($){z.error("Error al cargar datos:",$)}finally{c(!1)}},k=$=>d.filter(Q=>Q.compositor===$),R=()=>{if(!h.compositor||!h.obra){alert("Por favor completa compositor y obra");return}z.dev("Agregando obra:",{compositor:h.compositor,obra:h.obra});const $=d.find(T=>T.compositor===h.compositor&&T.obra===h.obra);if(p.obrasEstudiadas.some(T=>T.compositor===h.compositor&&T.obra===h.obra&&T.movimientosCompases===h.movimientosCompases)){alert("Esta obra con los mismos movimientos/compases ya está agregada. Si quieres agregar diferentes movimientos, especifica movimientos distintos.");return}const q={id:Date.now(),compositor:h.compositor,obra:h.obra,movimientosCompases:h.movimientosCompases||"",comentarios:h.comentarios||"",...$&&$._id?{partitura:$._id}:{},esManual:!$||!$._id};z.dev("Obra completa a agregar:",q),z.dev($?"Obra encontrada en DB":"Obra manual (no está en DB)"),m({...p,obrasEstudiadas:[...p.obrasEstudiadas,q]}),E({...h,movimientosCompases:"",comentarios:""})},L=$=>{const Q=p.obrasEstudiadas.filter((q,T)=>T!==$);m({...p,obrasEstudiadas:Q})},N=($,Q,q)=>{const T=[...p.obrasEstudiadas];T[$]={...T[$],[Q]:q},m({...p,obrasEstudiadas:T})},j=async $=>{var Q,q,T;$.preventDefault(),f(!0);try{if(p.obrasEstudiadas.length===0){alert("⚠️ No hay obras agregadas. Por favor, agrega al menos una obra."),f(!1);return}const _={claseId:e,obrasEstudiadas:p.obrasEstudiadas.map(I=>({...I.partitura?{partitura:I.partitura}:{},compositor:I.compositor,obra:I.obra,movimientosCompases:I.movimientosCompases||"",comentarios:I.comentarios||"",esManual:I.esManual||!1})),objetivosProximaClase:p.objetivosProximaClase||""};z.sensitive("Datos enviados al backend:",_),z.dev("Obras de DB:",_.obrasEstudiadas.filter(I=>I.partitura).length),z.dev("Obras manuales:",_.obrasEstudiadas.filter(I=>I.esManual).length);const U=await Qr.crearOActualizar(_);z.sensitive("Respuesta del backend:",U.data),z.success("Resumen guardado exitosamente, llamando onSave..."),a&&a(),alert("✅ Resumen de clase guardado exitosamente"),n()}catch(_){z.error("Error al guardar resumen:",_),z.sensitive("Respuesta del error:",(Q=_.response)==null?void 0:Q.data);let U="Error al guardar el resumen";(T=(q=_.response)==null?void 0:q.data)!=null&&T.message&&(U=_.response.data.message,_.response.data.partiturasNoEncontradas&&(z.error("Partituras no encontradas:",_.response.data.partiturasNoEncontradas),U+=`

Partituras no válidas encontradas. Por favor, vuelve a seleccionar las obras.`)),alert(`❌ ${U}`)}finally{f(!1)}},C=async()=>{try{f(!0);const $={claseId:e,obrasEstudiadas:p.obrasEstudiadas.map(q=>({...q.partitura?{partitura:q.partitura}:{},compositor:q.compositor,obra:q.obra,movimientosCompases:q.movimientosCompases||"",comentarios:q.comentarios||"",esManual:q.esManual||!1})),objetivosProximaClase:p.objetivosProximaClase||""};await Qr.crearOActualizar($);const Q=ji({fecha:Te(r),obrasEstudiadas:p.obrasEstudiadas,objetivosProximaClase:p.objetivosProximaClase});v!=null&&v.telefono?tr(Q,v.telefono):tr(Q),z.success("Resumen guardado exitosamente (WhatsApp), llamando onSave..."),a&&a(),alert("✅ Resumen guardado y WhatsApp abierto"),n()}catch($){z.error("Error al guardar y enviar por WhatsApp:",$),alert("❌ Error al procesar la acción")}finally{f(!1)}};if(i)return s.jsx("div",{className:`${l?"":"fixed inset-0 bg-black bg-opacity-50"} flex items-center justify-center ${l?"p-6":"z-50"}`,children:s.jsxs("div",{className:"bg-white rounded-lg p-6",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-center",children:"Cargando..."})]})});const M=l?"bg-white rounded-lg w-full":"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",H=l?"w-full":"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto";return s.jsx("div",{className:M,children:s.jsx("div",{className:H,children:s.jsxs("div",{className:"p-6",children:[!l&&s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"📚 Resumen de Clase"}),s.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 text-2xl font-bold",children:"×"})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Información de la Clase"}),s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-700 font-medium",children:"Fecha:"}),s.jsx("span",{className:"text-blue-900 ml-2",children:Te(r)})]}),v&&s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-700 font-medium",children:"Alumno:"}),s.jsxs("span",{className:"text-blue-900 ml-2",children:[v.nombre," ",v.apellido]}),v.telefono&&s.jsx("span",{className:"text-green-600 ml-2 text-xs",children:"📱 WhatsApp disponible"})]})]})]}),s.jsxs("form",{onSubmit:j,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"🎼 Obras Estudiadas"}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[s.jsx("h4",{className:"font-medium mb-3",children:"Agregar Nueva Obra"}),s.jsxs("div",{className:"mb-3 p-3 bg-blue-50 rounded-md border border-blue-200",children:[s.jsxs("p",{className:"text-sm text-blue-800",children:["💡 ",s.jsx("strong",{children:"Opciones para agregar obras:"})]}),s.jsxs("ul",{className:"text-sm text-blue-700 mt-2 space-y-1",children:[s.jsxs("li",{children:["📚 ",s.jsx("strong",{children:"De la biblioteca:"})," Selecciona de los menús desplegables"]}),s.jsxs("li",{children:["✏️ ",s.jsx("strong",{children:"Manual:"})," Escribe directamente compositor y obra (no requiere estar en la biblioteca)"]}),s.jsxs("li",{children:["🔄 ",s.jsx("strong",{children:"Múltiples movimientos:"})," Agrega el mismo compositor/obra con diferentes movimientos"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Compositor"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("select",{value:h.compositor,onChange:$=>E({...h,compositor:$.target.value,obra:""}),className:"w-full p-2 border border-gray-300 rounded-md",children:[s.jsx("option",{value:"",children:"Seleccionar de la biblioteca..."}),b.map($=>s.jsx("option",{value:$,children:$},$))]}),s.jsx("div",{className:"text-xs text-gray-500 text-center",children:"O"}),s.jsx("input",{type:"text",value:h.compositor,onChange:$=>E({...h,compositor:$.target.value,obra:""}),placeholder:"Escribir compositor manualmente...",className:"w-full p-2 border border-gray-300 rounded-md"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Obra"}),s.jsxs("div",{className:"space-y-2",children:[h.compositor&&b.includes(h.compositor)&&s.jsxs("select",{value:h.obra,onChange:$=>E({...h,obra:$.target.value}),className:"w-full p-2 border border-gray-300 rounded-md",children:[s.jsx("option",{value:"",children:"Seleccionar de la biblioteca..."}),k(h.compositor).map($=>s.jsx("option",{value:$.obra,children:$.obra},$._id))]}),h.compositor&&b.includes(h.compositor)&&s.jsx("div",{className:"text-xs text-gray-500 text-center",children:"O"}),s.jsx("input",{type:"text",value:h.obra,onChange:$=>E({...h,obra:$.target.value}),placeholder:"Escribir obra manualmente...",className:"w-full p-2 border border-gray-300 rounded-md"})]})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Parte de la obra"}),s.jsx("input",{type:"text",value:h.movimientosCompases,onChange:$=>E({...h,movimientosCompases:$.target.value}),placeholder:"Ej: 1er movimiento, compases 1-32, Andante...",className:"w-full p-2 border border-gray-300 rounded-md"})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Comentarios"}),s.jsx("textarea",{value:h.comentarios,onChange:$=>E({...h,comentarios:$.target.value}),placeholder:"Qué se trabajó, dificultades encontradas, correcciones...",className:"w-full p-2 border border-gray-300 rounded-md",rows:"2"})]}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsx("button",{type:"button",onClick:R,disabled:!h.compositor||!h.obra,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"➕ Agregar Parte de la Obra"}),(h.compositor||h.obra)&&s.jsx("button",{type:"button",onClick:()=>E({compositor:"",obra:"",movimientosCompases:"",comentarios:""}),className:"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600",children:"🔄 Nueva Obra"})]}),h.compositor&&h.obra&&s.jsx("div",{className:"mt-2 p-3 bg-blue-50 rounded-md border border-blue-200",children:s.jsxs("p",{className:"text-sm text-blue-800",children:["💡 ",s.jsx("strong",{children:"Tip:"})," Puedes agregar múltiples movimientos de la misma obra. Después de agregar un movimiento, el formulario mantiene la obra seleccionada para que puedas agregar fácilmente otro movimiento o ejercicio."]})})]}),s.jsxs("div",{className:"space-y-3",children:[(()=>{const $=p.obrasEstudiadas.reduce((Q,q,T)=>{const _=`${q.compositor}-${q.obra}`;return Q[_]||(Q[_]={compositor:q.compositor,obra:q.obra,esManual:q.esManual,partitura:q.partitura,movimientos:[]}),Q[_].movimientos.push({...q,indiceOriginal:T}),Q},{});return Object.values($).map((Q,q)=>s.jsxs("div",{className:`border rounded-lg p-4 bg-white ${Q.movimientos.length>1?"border-blue-300 bg-blue-50":"border-gray-300"}`,children:[s.jsxs("div",{className:"mb-3 pb-2 border-b border-gray-200",children:[s.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[Q.compositor,Q.movimientos.length>1&&s.jsxs("span",{className:"bg-blue-600 text-white text-xs px-2 py-1 rounded-full",children:[Q.movimientos.length," movimientos"]}),Q.esManual&&s.jsx("span",{className:"bg-orange-500 text-white text-xs px-2 py-1 rounded-full",title:"Obra agregada manualmente",children:"✏️ Manual"}),!Q.esManual&&Q.partitura&&s.jsx("span",{className:"bg-green-500 text-white text-xs px-2 py-1 rounded-full",title:"Obra de la biblioteca",children:"📚 Biblioteca"})]}),s.jsx("p",{className:"text-gray-700 text-lg",children:Q.obra})]}),s.jsx("div",{className:"space-y-3",children:Q.movimientos.map((T,_)=>s.jsxs("div",{className:"bg-white rounded-md p-3 border border-gray-200",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[Q.movimientos.length>1&&s.jsxs("span",{className:"bg-gray-500 text-white text-xs px-2 py-1 rounded-full",children:["#",_+1]}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:T.movimientosCompases||"Movimiento sin especificar"})]}),s.jsx("button",{type:"button",onClick:()=>L(T.indiceOriginal),className:"text-red-600 hover:text-red-800 text-lg",title:"Eliminar este movimiento",children:"🗑️"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Parte de la obra"}),s.jsx("input",{type:"text",value:T.movimientosCompases||"",onChange:U=>N(T.indiceOriginal,"movimientosCompases",U.target.value),placeholder:"Ej: Ejercicio 20, 1er movimiento, compases 1-32...",className:"w-full p-2 border border-gray-300 rounded-md text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Comentarios"}),s.jsx("textarea",{value:T.comentarios||"",onChange:U=>N(T.indiceOriginal,"comentarios",U.target.value),placeholder:"Qué se trabajó, correcciones...",className:"w-full p-2 border border-gray-300 rounded-md text-sm",rows:"2"})]})]})]},T.id||T.indiceOriginal))})]},q))})(),p.obrasEstudiadas.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500 border-2 border-dashed border-gray-300 rounded-lg",children:[s.jsx("p",{className:"text-lg",children:"🎼"}),s.jsx("p",{children:"No hay obras agregadas"}),s.jsx("p",{className:"text-sm",children:"Usa el formulario arriba para agregar obras estudiadas"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"📝 Próxima Clase"}),s.jsx("textarea",{value:p.objetivosProximaClase,onChange:$=>m({...p,objetivosProximaClase:$.target.value}),placeholder:"Qué trabajar la próxima clase, metas específicas...",className:"w-full p-3 border border-gray-300 rounded-md",rows:"3"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-6 border-t",children:[!l&&s.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-600 bg-gray-200 rounded-md hover:bg-gray-300",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:u,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:u?"Guardando...":"Guardar"}),s.jsx("button",{type:"button",onClick:C,disabled:u,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 flex items-center gap-2",children:u?"Procesando...":s.jsxs(s.Fragment,{children:["📱 Enviar por WhatsApp",(v==null?void 0:v.telefono)&&s.jsx("span",{className:"text-xs bg-green-800 px-1.5 py-0.5 rounded",children:"Auto"})]})})]})]})]})})})},sy=({resumen:e,onEdit:t,onDelete:r})=>{var i;const[n,a]=y.useState(!1);if(!e||!e.clase)return z.warn("ResumenClaseCard: resumen o clase es null/undefined",e),s.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-lg p-4 shadow-md",children:s.jsx("p",{className:"text-red-600",children:"⚠️ Error: Datos de resumen incompletos"})});const o=async()=>{var c,u;try{a(!0);const f=ji({fecha:(c=e.clase)!=null&&c.fecha?Te(e.clase.fecha):"Fecha no disponible",obrasEstudiadas:e.obrasEstudiadas||[],objetivosProximaClase:e.objetivosProximaClase||""});(u=e.usuario)!=null&&u.telefono?tr(f,e.usuario.telefono):tr(f)}catch(f){z.error("Error al enviar por WhatsApp:",f),alert("❌ Error al procesar el envío por WhatsApp")}finally{a(!1)}},l=async()=>{if(window.confirm("¿Estás seguro de que quieres eliminar este resumen?"))try{await Qr.eliminar(e._id),r(e._id),alert("✅ Resumen eliminado exitosamente")}catch(c){z.error("Error al eliminar resumen:",c),alert("❌ Error al eliminar el resumen")}};return s.jsxs("div",{className:"bg-white border-2 border-blue-200 rounded-lg p-4 shadow-md hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-600 font-bold",children:["📅 ",(i=e.clase)!=null&&i.fecha?Te(e.clase.fecha):"Fecha no disponible"]})}),s.jsx("button",{onClick:l,className:"text-red-500 hover:text-red-700 text-sm",title:"Eliminar resumen",children:"🗑️"})]}),e.obrasEstudiadas&&e.obrasEstudiadas.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("h5",{className:"text-sm font-medium text-gray-700 mb-2 text-left",children:["🎼 Obras (",e.obrasEstudiadas.length,")"]}),s.jsx("div",{className:"space-y-2",children:(()=>{const c=e.obrasEstudiadas.reduce((u,f,d)=>{const g=`${f.compositor}-${f.obra}`;return u[g]||(u[g]={compositor:f.compositor,obra:f.obra,movimientos:[]}),u[g].movimientos.push(f),u},{});return Object.values(c).map((u,f)=>s.jsxs("div",{className:"bg-gray-50 p-3 rounded-md text-left",children:[s.jsxs("div",{className:"font-medium text-gray-800 mb-2",children:[u.compositor," - ",u.obra,u.movimientos.length>1&&s.jsxs("span",{className:"ml-2 bg-blue-500 text-white text-xs px-2 py-1 rounded-full",children:[u.movimientos.length," partes"]})]}),s.jsx("div",{className:"space-y-1",children:u.movimientos.map((d,g)=>s.jsxs("div",{className:"text-sm",children:[d.movimientosCompases&&s.jsxs("div",{className:"text-blue-600",children:["📍 ",d.movimientosCompases]}),d.comentarios&&s.jsxs("div",{className:"text-gray-600 mt-1",children:["💬 ",d.comentarios]}),u.movimientos.length>1&&g<u.movimientos.length-1&&s.jsx("div",{className:"border-b border-gray-200 my-2"})]},g))})]},f))})()})]}),e.objetivosProximaClase&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2 text-left",children:"🎯 Próxima Clase"}),s.jsx("div",{className:"bg-green-50 p-3 rounded-md text-left",children:s.jsx("p",{className:"text-sm text-gray-700",children:e.objetivosProximaClase})})]}),s.jsxs("div",{className:"flex gap-2 pt-3 border-t border-gray-200",children:[s.jsx("button",{onClick:()=>t(e),className:"flex-1 px-3 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"✏️ Editar"}),s.jsx("button",{onClick:o,disabled:n,className:"flex-1 px-3 py-2 text-sm bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 transition-colors",children:n?"Enviando...":"📱 WhatsApp"})]})]})};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oy=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),cu=e=>{const t=oy(e);return t.charAt(0).toUpperCase()+t.slice(1)},pm=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),ly=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:o,iconNode:l,...i},c)=>y.createElement("svg",{ref:c,...iy,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:pm("lucide",a),...!o&&!ly(i)&&{"aria-hidden":"true"},...i},[...l.map(([u,f])=>y.createElement(u,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=(e,t)=>{const r=y.forwardRef(({className:n,...a},o)=>y.createElement(cy,{ref:o,iconNode:t,className:pm(`lucide-${ay(cu(e))}`,`lucide-${e}`,n),...a}));return r.displayName=cu(e),r};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],yl=Ye("book",uy);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],uu=Ye("chevron-down",dy);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],du=Ye("chevron-right",fy);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],hm=Ye("circle-check-big",my);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],hy=Ye("clock",py);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],xy=Ye("pause",gy);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],vy=Ye("play",yy);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],jy=Ye("plus",by);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ny=Ye("search",wy);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Cy=Ye("square-pen",ky);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Sy=Ye("trash-2",Ey);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],_y=Ye("user",Py);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ly=Ye("x",Ry),Vt={obtenerEstudios:async(e={})=>{try{const t=new URLSearchParams;return e.usuarioId&&t.append("usuarioId",e.usuarioId),e.estado&&t.append("estado",e.estado),e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),(await W.get(`/estudios?${t}`)).data}catch(t){throw console.error("Error al obtener estudios:",t),t}},obtenerEstudiosPorUsuario:async e=>{try{return(await W.get(`/estudios/usuario/${e}`)).data}catch(t){throw console.error("Error al obtener estudios del usuario:",t),t}},crearEstudio:async e=>{try{return(await W.post("/estudios",e)).data}catch(t){throw console.error("Error al crear estudio:",t),t}},actualizarEstudio:async(e,t)=>{try{return(await W.put(`/estudios/${e}`,t)).data}catch(r){throw console.error("Error al actualizar estudio:",r),r}},eliminarEstudio:async e=>{try{return(await W.delete(`/estudios/${e}`)).data}catch(t){throw console.error("Error al eliminar estudio:",t),t}},finalizarEstudio:async e=>{try{return(await W.patch(`/estudios/${e}/finalizar`)).data}catch(t){throw console.error("Error al finalizar estudio:",t),t}}},gm=({mostrar:e,onCerrar:t,onGuardado:r,estudioEditando:n=null,usuarioPreseleccionado:a=null})=>{const[o,l]=y.useState({usuario:"",compositor:"",obra:"",fechaInicio:"",fechaFinalizada:"",porcentajeProgreso:0,estado:"en_progreso",notas:""}),[i,c]=y.useState([]),[u,f]=y.useState(!1),[d,g]=y.useState("");y.useEffect(()=>{e&&b()},[e]),y.useEffect(()=>{a&&l(v=>({...v,usuario:a}))},[a]),y.useEffect(()=>{l(n?{usuario:n.usuario._id,compositor:n.compositor,obra:n.obra,fechaInicio:n.fechaInicio?n.fechaInicio.split("T")[0]:"",fechaFinalizada:n.fechaFinalizada?n.fechaFinalizada.split("T")[0]:"",porcentajeProgreso:n.porcentajeProgreso,estado:n.estado,notas:n.notas||""}:{usuario:a||"",compositor:"",obra:"",fechaInicio:new Date().toISOString().split("T")[0],fechaFinalizada:"",porcentajeProgreso:0,estado:"en_progreso",notas:""})},[n,a]);const b=async()=>{try{const v=await Me.obtenerTodos();c(Array.isArray(v)?v:v.data||[])}catch(v){console.error("Error al cargar datos:",v),g("Error al cargar los datos")}},x=async v=>{var w,p;v.preventDefault();try{f(!0),g("");const m={usuarioId:o.usuario,compositor:o.compositor,obra:o.obra,fechaInicio:o.fechaInicio,fechaFinalizada:o.fechaFinalizada||null,porcentajeProgreso:parseInt(o.porcentajeProgreso)||0,estado:o.estado,notas:o.notas||""};n?await Vt.actualizarEstudio(n._id,m):await Vt.crearEstudio(m),r(),t()}catch(m){console.error("Error al guardar estudio:",m),g(((p=(w=m.response)==null?void 0:w.data)==null?void 0:p.message)||"Error al guardar el estudio")}finally{f(!1)}};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[s.jsx("h2",{className:"text-xl font-semibold",children:n?"Editar Estudio":"Nuevo Estudio"}),s.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:s.jsx(Ly,{size:24})})]}),s.jsxs("form",{onSubmit:x,className:"p-6",children:[d&&s.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:d}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estudiante *"}),s.jsxs("select",{value:o.usuario,onChange:v=>l({...o,usuario:v.target.value}),required:!0,disabled:!!a,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100",children:[s.jsx("option",{value:"",children:"Seleccionar estudiante"}),i.filter(v=>v.rol==="usuario").map(v=>s.jsxs("option",{value:v._id,children:[v.nombre," ",v.apellido]},v._id))]}),a&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Usuario preseleccionado desde gestión de clases"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Compositor *"}),s.jsx("input",{type:"text",value:o.compositor,onChange:v=>l({...o,compositor:v.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Obra *"}),s.jsx("input",{type:"text",value:o.obra,onChange:v=>l({...o,obra:v.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de inicio *"}),s.jsx("input",{type:"date",value:o.fechaInicio,onChange:v=>l({...o,fechaInicio:v.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logro (%)"}),s.jsx("input",{type:"number",min:"0",max:"100",value:o.porcentajeProgreso,onChange:v=>l({...o,porcentajeProgreso:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de finalización real"}),s.jsx("input",{type:"date",value:o.fechaFinalizada,onChange:v=>l({...o,fechaFinalizada:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:o.estado!=="finalizado"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Solo se puede establecer cuando el estado es "Finalizado"'})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),s.jsxs("select",{value:o.estado,onChange:v=>{const w=v.target.value;l({...o,estado:w,fechaFinalizada:w==="finalizado"&&!o.fechaFinalizada?new Date().toISOString().split("T")[0]:w==="finalizado"?o.fechaFinalizada:""})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"en_progreso",children:"En progreso"}),s.jsx("option",{value:"finalizado",children:"Finalizado"}),s.jsx("option",{value:"pausado",children:"Pausado"})]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas adicionales"}),s.jsx("textarea",{value:o.notas,onChange:v=>l({...o,notas:v.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Observaciones, técnicas específicas, objetivos..."})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",disabled:u,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",disabled:u,children:u?"Guardando...":n?"Actualizar":"Crear"})]})]})]})}):null},Ty=`
  .slider::-webkit-slider-thumb {
    appearance: none;
    height: 16px;
    width: 16px;
    border-radius: 50%;
    background: #3b82f6;
    cursor: pointer;
    border: 2px solid #ffffff;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
  }
  
  .slider::-moz-range-thumb {
    height: 16px;
    width: 16px;
    border-radius: 50%;
    background: #3b82f6;
    cursor: pointer;
    border: 2px solid #ffffff;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
  }
`;if(!document.getElementById("slider-styles")){const e=document.createElement("style");e.id="slider-styles",e.textContent=Ty,document.head.appendChild(e)}const xm=({usuarioId:e,mostrarTitulo:t=!0,modoVisualizacion:r="details",filtrarEstados:n=null,esAdmin:a=!1})=>{const[o,l]=y.useState([]),[i,c]=y.useState(!1),[u,f]=y.useState(""),[d,g]=y.useState({2025:!0}),[b,x]=y.useState({}),[v,w]=y.useState(new Set),[p,m]=y.useState({}),[h,E]=y.useState(!1),[P,k]=y.useState(null),[R,L]=y.useState("");y.useEffect(()=>{e&&N()},[e,n]);const N=async()=>{try{c(!0);let D=(await Vt.obtenerEstudios({usuarioId:e})).estudios||[];n&&n.length>0&&(D=D.filter(G=>n.includes(G.estado))),l(D)}catch(A){console.error("Error al cargar estudios:",A),f("Error al cargar los estudios")}finally{c(!1)}},j=A=>{switch(A){case"en_progreso":return"text-blue-600";case"finalizado":return"text-green-600";case"pausado":return"text-yellow-600";default:return"text-gray-600"}},C=A=>{switch(A){case"en_progreso":return s.jsx(vy,{className:"w-3 h-3"});case"finalizado":return s.jsx(hm,{className:"w-3 h-3"});case"pausado":return s.jsx(xy,{className:"w-3 h-3"});default:return s.jsx(hy,{className:"w-3 h-3"})}},M=A=>{const D={};return A.forEach(G=>{const V=new Date(G.fechaInicio),K=V.getFullYear(),ne=V.getMonth(),ie=V.toLocaleDateString("es-ES",{month:"long"});D[K]||(D[K]={}),D[K][ne]||(D[K][ne]={nombre:ie,estudios:[]}),D[K][ne].estudios.push(G)}),D},H=A=>{g(D=>({...D,[A]:!D[A]}))},$=(A,D)=>{const G=`${A}-${D}`;x(V=>({...V,[G]:!V[G]}))},Q=A=>{k(A);const D=new Date().toISOString().split("T")[0];L(D),E(!0)},q=()=>{E(!1),k(null),L("")},T=async()=>{var A,D;if(!(!P||!R))try{w(V=>new Set([...V,P._id]));const G=p[P._id]||P.porcentajeProgreso;await Vt.actualizarEstudio(P._id,{estado:"finalizado",porcentajeProgreso:G,fechaFinalizada:R}),q(),setTimeout(()=>{l(V=>V.filter(K=>K._id!==P._id)),w(V=>{const K=new Set(V);return K.delete(P._id),K}),m(V=>{const K={...V};return delete K[P._id],K})},2e3)}catch(G){console.error("Error al finalizar estudio:",G),w(V=>{const K=new Set(V);return K.delete(P._id),K}),alert("Error al finalizar el estudio: "+(((D=(A=G.response)==null?void 0:A.data)==null?void 0:D.message)||G.message))}};if(i)return s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),s.jsx("div",{className:"space-y-2",children:[1,2,3].map(A=>s.jsx("div",{className:"h-8 bg-gray-200 rounded"},A))})]});if(u)return s.jsx("div",{className:"text-red-600 text-sm",children:u});if(o.length===0)return s.jsxs("div",{className:"text-gray-500 text-sm italic",children:[t&&s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"📚 Estudios"}),r==="cards"?"No hay estudios activos":"No hay estudios registrados"]});if(r==="cards")return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"space-y-3",children:[t&&s.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:["📚 Estudios Activos (",o.length,")"]}),s.jsx("div",{className:"space-y-2",children:o.map(A=>{const D=v.has(A._id),G=p[A._id]!==void 0?p[A._id]:A.porcentajeProgreso,V=K=>{if(!K)return"";const ne=new Date(K),ie=ne.getDate().toString().padStart(2,"0"),un=["ENE","FEB","MAR","ABR","MAY","JUN","JUL","AGO","SEP","OCT","NOV","DIC"][ne.getMonth()];return`${ie}${un}`};return s.jsx("div",{className:`bg-white border border-gray-200 rounded-lg shadow-sm transition-all duration-200 overflow-hidden ${D?"bg-green-50 border-green-300 opacity-70":"hover:shadow-md hover:border-gray-300"}`,children:s.jsxs("div",{className:"grid grid-cols-[auto_1fr_auto] text-sm",children:[s.jsx("div",{className:"flex flex-col justify-center items-center min-w-[60px] bg-gray-700 text-white py-1",children:s.jsx("span",{className:"font-bold text-sm",children:V(A.fechaInicio)})}),s.jsxs("div",{className:"flex flex-col gap-1 px-3 py-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-gray-900 truncate",children:A.compositor}),s.jsx("span",{className:"text-gray-600 truncate flex-1",children:A.obra})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-16 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-blue-500 transition-all duration-300",style:{width:`${G}%`}})}),s.jsxs("span",{className:"text-xs font-medium text-blue-600",children:[G,"%"]})]}),s.jsx("span",{className:`flex items-center justify-center min-w-[30px] ${j(A.estado)}`,children:C(A.estado)})]})]}),s.jsx("div",{className:`flex flex-col justify-center items-center min-w-[60px] py-1 ${A.fechaFinalizada,"bg-gray-700 text-white"}`,children:A.fechaFinalizada?s.jsx("span",{className:"font-bold text-sm",children:V(A.fechaFinalizada)}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"font-bold text-sm text-white",children:"-:-"}),a&&A.estado!=="finalizado"&&s.jsx("button",{onClick:()=>Q(A),disabled:D,className:`mt-1 p-1 rounded text-xs transition-all duration-200 ${D?"bg-green-500 text-white cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white hover:shadow-md"}`,title:"Finalizar estudio",children:D?"⏳":"✓"})]})})]})},A._id)})}),h&&P&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("h3",{className:"text-lg font-bold mb-4 text-gray-900",children:"🎯 Finalizar Estudio"}),s.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-blue-900 mb-1",children:P.compositor}),s.jsx("p",{className:"text-blue-700 text-sm",children:P.obra})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"📅 Fecha de finalización"}),s.jsx("input",{type:"date",value:R,onChange:A=>L(A.target.value),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",max:new Date().toISOString().split("T")[0]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Por defecto se usa la fecha de hoy. No se permiten fechas futuras."})]}),s.jsx("div",{className:"mb-6 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:["⚠️ ",s.jsx("strong",{children:"Atención:"})," Una vez finalizado, el estudio se ocultará de la vista de estudios activos y se marcará como completado."]})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:q,disabled:P&&v.has(P._id),className:"flex-1 px-4 py-2 text-gray-600 bg-gray-200 rounded-lg hover:bg-gray-300 disabled:opacity-50 transition-colors",children:"Cancelar"}),s.jsx("button",{onClick:T,disabled:P&&v.has(P._id)||!R,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors font-medium",children:P&&v.has(P._id)?"Finalizando...":"Finalizar Estudio"})]})]})})]})});const _=M(o),U=Object.keys(_).sort((A,D)=>D-A),I=A=>{if(!A)return"";const D=new Date(A),G=D.getDate().toString().padStart(2,"0"),K=["ENE","FEB","MAR","ABR","MAY","JUN","JUL","AGO","SEP","OCT","NOV","DIC"][D.getMonth()];return`${G}${K}`};return s.jsxs("div",{className:"space-y-2",children:[t&&s.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:["📚 Estudios (",o.length,")"]}),U.map(A=>s.jsxs("details",{className:"group",open:d[A],children:[s.jsxs("summary",{className:"flex items-center justify-between cursor-pointer text-sm font-medium text-gray-800 py-1 px-2 bg-gray-50 rounded hover:bg-gray-100",onClick:D=>{D.preventDefault(),H(A)},children:[s.jsxs("span",{className:"flex items-center",children:[d[A]?s.jsx(uu,{className:"w-4 h-4 mr-1"}):s.jsx(du,{className:"w-4 h-4 mr-1"}),A]}),s.jsxs("span",{className:"text-xs text-gray-500",children:[Object.values(_[A]).reduce((D,G)=>D+G.estudios.length,0)," estudios"]})]}),s.jsx("div",{className:"ml-4 mt-1 space-y-1",children:Object.entries(_[A]).sort(([D],[G])=>G-D).map(([D,G])=>s.jsxs("details",{className:"group",open:b[`${A}-${D}`],children:[s.jsxs("summary",{className:"flex items-center justify-between cursor-pointer text-xs font-medium text-gray-700 py-1 px-2 bg-gray-25 rounded hover:bg-gray-50",onClick:V=>{V.preventDefault(),$(A,D)},children:[s.jsxs("span",{className:"flex items-center capitalize",children:[b[`${A}-${D}`]?s.jsx(uu,{className:"w-3 h-3 mr-1"}):s.jsx(du,{className:"w-3 h-3 mr-1"}),G.nombre]}),s.jsxs("span",{className:"text-xs text-gray-500",children:[G.estudios.length," estudios"]})]}),s.jsx("div",{className:"ml-4 mt-1 space-y-1",children:G.estudios.map(V=>s.jsxs("div",{className:"bg-white border border-gray-200 rounded p-2 hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[s.jsx("span",{className:"font-semibold text-gray-700 min-w-[45px]",children:I(V.fechaInicio)}),s.jsx("span",{className:"font-medium text-gray-900 min-w-[100px] truncate",children:V.compositor}),s.jsx("span",{className:"text-gray-600 flex-1 truncate",children:V.obra}),s.jsxs("div",{className:"flex items-center gap-1 min-w-[60px]",children:[s.jsx("div",{className:"w-8 h-1 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-blue-500 transition-all duration-300",style:{width:`${V.porcentajeProgreso}%`}})}),s.jsxs("span",{className:"text-xs font-medium text-blue-600 w-6",children:[V.porcentajeProgreso,"%"]})]}),s.jsx("span",{className:`flex items-center justify-center min-w-[30px] ${j(V.estado)}`,children:C(V.estado)}),V.fechaFinalizada&&s.jsx("span",{className:"font-semibold text-green-700 min-w-[45px]",children:I(V.fechaFinalizada)})]}),V.notas&&s.jsxs("div",{className:"mt-1 ml-[45px] text-xs text-gray-500 italic",children:["📝 ",V.notas]})]},V._id))})]},`${A}-${D}`))})]},A))]})},kt={no_iniciada:{label:"No iniciada",color:"bg-gray-400 hover:bg-gray-500",textColor:"text-white",icon:"⚪"},tomada:{label:"Tomada",color:"bg-green-500 hover:bg-green-600",textColor:"text-white",icon:"🟢"},ausente:{label:"Ausente",color:"bg-red-500 hover:bg-red-600",textColor:"text-white",icon:"🔴"},reprogramar:{label:"Reprogramar",color:"bg-amber-500 hover:bg-amber-600",textColor:"text-white",icon:"🟡"},recuperada:{label:"Recuperada",color:"bg-purple-500 hover:bg-purple-600",textColor:"text-white",icon:"🟣"}},fu=({clase:e,onEstadoChange:t,usuarioId:r,onResumenGuardado:n})=>{var N;const[a,o]=y.useState(!1),[l,i]=y.useState(!1),[c,u]=y.useState(!1),[f,d]=y.useState(!1),[g,b]=y.useState(e.notas||""),[x,v]=y.useState(e.notas||""),[w,p]=y.useState(e.fechaReprogramada?new Date(e.fechaReprogramada).toISOString().split("T")[0]:"");y.useEffect(()=>{b(e.notas||""),v(e.notas||"")},[e.notas]);const m=kt[e.estado]||kt.no_iniciada,h=()=>{i(!0)},E=async j=>{if(j==="reprogramar"&&!w){alert("Por favor selecciona una fecha para reprogramar la clase");return}o(!0);try{const C={estado:j,notas:g};j==="reprogramar"&&w&&(C.fechaReprogramada=Xx(w)),await yt.actualizarEstado(e._id,C),t(e._id),i(!1)}catch(C){z.error("Error al cambiar estado:",C),alert("Error al cambiar el estado de la clase")}finally{o(!1)}},P=async()=>{if(confirm('¿Estás seguro de que quieres deshacer la reprogramación? La clase volverá a estado "No iniciada" y se eliminará la fecha reprogramada.')){o(!0);try{const j={estado:"no_iniciada",notas:g,fechaReprogramada:null};await yt.actualizarEstado(e._id,j),t(e._id),i(!1)}catch(j){z.error("Error al deshacer reprogramación:",j),alert("Error al deshacer la reprogramación")}finally{o(!1)}}},k=async()=>{o(!0);try{const j={estado:e.estado,notas:x};e.fechaReprogramada&&(j.fechaReprogramada=e.fechaReprogramada),await yt.actualizarEstado(e._id,j),b(x),t(e._id),d(!1)}catch(j){z.error("Error al actualizar notas:",j),alert("Error al actualizar las notas: "+(j.message||"Error desconocido"))}finally{o(!1)}},R=()=>{v(g),d(!0)},L=async()=>{if(window.confirm("¿Estás seguro de que quieres eliminar las notas de esta clase?")){o(!0);try{const C={estado:e.estado,notas:""};e.fechaReprogramada&&(C.fechaReprogramada=e.fechaReprogramada),await yt.actualizarEstado(e._id,C),b(""),v(""),d(!1),t(e._id)}catch(C){z.error("Error al eliminar notas:",C),alert("Error al eliminar las notas: "+(C.message||"Error desconocido"))}finally{o(!1)}}};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`${m.color} ${m.textColor} p-4 rounded-lg shadow-md transition-all duration-200 transform hover:scale-105`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-2xl",children:m.icon}),s.jsx("span",{className:"text-sm font-semibold",children:m.label})]}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-bold mb-1",children:Te(e.fecha)}),e.pago&&s.jsxs("p",{className:"opacity-90",children:["Pago: $",(N=e.pago.monto)==null?void 0:N.toLocaleString()]}),e.fechaReprogramada&&s.jsxs("p",{className:"mt-2 text-xs bg-white bg-opacity-30 rounded px-2 py-1",children:["📅 Reprogramada para: ",Te(e.fechaReprogramada)]}),g&&s.jsxs("p",{className:"mt-2 text-xs bg-white bg-opacity-20 rounded px-2 py-1",children:["📝 ",g]})]}),s.jsxs("div",{className:"mt-3 flex gap-1",children:[s.jsx("button",{onClick:h,className:"flex-1 px-2 py-1 bg-white bg-opacity-20 hover:bg-opacity-30 rounded text-xs font-medium transition-colors",children:"Estado"}),g&&s.jsx("button",{onClick:R,className:"px-2 py-1 bg-white bg-opacity-20 hover:bg-opacity-30 rounded text-xs font-medium transition-colors",title:"Editar notas",children:"✏️"}),s.jsx("a",{href:`/alumnos/admin/resumen-clase/${e._id}?usuarioId=${r}&fecha=${encodeURIComponent(e.fecha)}&newTab=true`,target:"_blank",rel:"noopener noreferrer",onClick:j=>{if(j.stopPropagation(),!r){j.preventDefault(),alert("Error: No se puede abrir el resumen. Usuario no seleccionado.");return}z.debug("Abriendo resumen via enlace",{usuarioId:r,claseId:e._id,url:`/alumnos/admin/resumen-clase/${e._id}?usuarioId=${r}&fecha=${encodeURIComponent(e.fecha)}&newTab=true`})},className:"flex-1 px-2 py-1 bg-white bg-opacity-20 hover:bg-opacity-30 rounded text-xs font-medium transition-colors text-center inline-block",children:"📝 Resumen"})]})]}),l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Cambiar estado de clase"}),s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["📅 Fecha original: ",Te(e.fecha)]}),e.fechaReprogramada&&s.jsxs("p",{className:"text-sm text-amber-600 mb-4 bg-amber-50 p-2 rounded",children:["🔄 Reprogramada para: ",Te(e.fechaReprogramada)]}),s.jsxs("div",{className:"grid grid-cols-1 gap-2 mb-4",children:[e.estado==="reprogramar"&&e.fechaReprogramada&&s.jsxs("button",{onClick:()=>P(),disabled:a,className:"bg-gray-600 hover:bg-gray-700 text-white p-2 rounded text-sm font-semibold disabled:opacity-50 flex items-center gap-2 border-2 border-gray-400",children:[s.jsx("span",{children:"↩️"}),"Deshacer reprogramación"]}),Object.entries(kt).map(([j,C])=>s.jsxs("button",{onClick:()=>E(j),disabled:a,className:`${C.color} ${C.textColor} p-2 rounded text-sm font-semibold disabled:opacity-50 flex items-center gap-2`,children:[s.jsx("span",{children:C.icon}),C.label]},j))]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas (opcional)"}),s.jsx("textarea",{value:g,onChange:j=>b(j.target.value),className:"w-full p-2 border border-gray-300 rounded-md text-sm",rows:"3",placeholder:"Agregar notas sobre la clase..."})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de reprogramación"}),s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:'Solo necesaria si seleccionas "Reprogramar". Deja vacío para otros estados.'}),s.jsx("input",{type:"date",value:w,onChange:j=>p(j.target.value),className:"w-full p-2 border border-gray-300 rounded-md text-sm",min:new Date().toISOString().split("T")[0]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{onClick:()=>i(!1),className:"flex-1 px-4 py-2 text-gray-600 bg-gray-200 rounded hover:bg-gray-300",children:"Cancelar"})})]})}),c&&s.jsx(wi,{claseId:e._id,usuarioId:r,fecha:e.fecha,onClose:()=>u(!1),onSave:()=>{n&&n()}}),f&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Editar notas de la clase"}),s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["📅 Fecha: ",Te(e.fecha)]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notas"}),s.jsx("textarea",{value:x,onChange:j=>v(j.target.value),className:"w-full p-3 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:"4",placeholder:"Agregar notas sobre la clase..."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{d(!1),v(g)},disabled:a,className:"px-4 py-2 text-gray-600 bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:"Cancelar"}),g&&s.jsx("button",{onClick:L,disabled:a,className:"px-4 py-2 text-red-600 bg-red-100 rounded hover:bg-red-200 disabled:opacity-50",title:"Eliminar notas",children:"🗑️"}),s.jsx("button",{onClick:k,disabled:a,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:a?"Guardando...":"Guardar"})]})]})})]})},Fy=({usuarioSeleccionado:e})=>{var Ei,Si,Pi,_i,Ri,Li;const{usuario:t}=We(),[r]=$f(),[n,a]=y.useState([]),[o,l]=y.useState([]),[i,c]=y.useState(null),[u,f]=y.useState([]),[d,g]=y.useState(e||r.get("usuario")||""),[b,x]=y.useState({}),[v,w]=y.useState(!1),[p,m]=y.useState(""),[h,E]=y.useState(!1),[P,k]=y.useState([]),[R,L]=y.useState(!1),[N,j]=y.useState([]),[C,M]=y.useState(null),[H,$]=y.useState([]),[Q,q]=y.useState(!1),[T,_]=y.useState(null),[U,I]=y.useState(!0),[A,D]=y.useState(!1),[G,V]=y.useState(0),K=(t==null?void 0:t.rol)==="administrador",ne=F=>`clases_orden_${F}`,ie=(F,J)=>{try{const X=ne(F);localStorage.setItem(X,JSON.stringify(J))}catch(X){z.error("Error al guardar orden en localStorage:",X)}},cn=F=>{try{const J=ne(F),X=localStorage.getItem(J);return X?JSON.parse(X):null}catch(J){return z.error("Error al obtener orden de localStorage:",J),null}};y.useEffect(()=>{(async()=>{try{const J=await Me.obtenerTodos();f(J.data)}catch(J){z.error("Error al obtener usuarios:",J)}})()},[]),y.useEffect(()=>{const F=r.get("usuario");F&&F!==d&&g(F)},[r]),y.useEffect(()=>{d?(j([]),M(null),un(),setTimeout(()=>{dn()},150)):(j([]),a([]),l([]),c(null),M(null),$([]))},[d]),y.useEffect(()=>{if(n.length>0&&d){const F=cn(d);j(J=>{if(F&&F.length>0){const X=[],te=[...n];return F.forEach(je=>{const jt=te.find(lr=>lr._id===je);if(jt){X.push(jt);const lr=te.findIndex(Sm=>Sm._id===je);te.splice(lr,1)}}),te.forEach(je=>{X.push(je)}),X}else{const X=[...n].sort((je,jt)=>new Date(je.fecha)-new Date(jt.fecha)),te=X.map(je=>je._id);return ie(d,te),X}})}else j([])},[n,d]),y.useEffect(()=>{K&&vm()},[K]),y.useEffect(()=>{ym()},[n,o]),y.useEffect(()=>{let F=0;const J=X=>{if(X.key==="resumen_update_event"&&X.newValue)try{const te=JSON.parse(X.newValue);if(te.timestamp&&te.timestamp<=F)return;z.dev("📝 Evento de resumen detectado:",te),F=te.timestamp,te.type==="resumen_guardado"&&te.usuarioId===d&&(z.info("🔄 Recargando resúmenes por actualización desde nueva pestaña..."),setTimeout(()=>{dn()},300))}catch(te){z.error("Error al procesar evento de resumen:",te)}};return window.addEventListener("storage",J),()=>{window.removeEventListener("storage",J)}},[d]);const un=async()=>{if(d){w(!0),m("");try{const F=await yt.obtenerSeparadas(d);a(F.data.clasesUltimoPago),l(F.data.historialClases),c(F.data.ultimoPago)}catch(F){m("Error al cargar las clases"),z.error("Error:",F)}finally{w(!1)}}},dn=async()=>{if(!d){$([]);return}if(Q){z.dev("⏳ Ya se están cargando resúmenes, saltando...");return}z.dev("🔄 Cargando resúmenes para usuario:",d),q(!0);try{const F=await Qr.obtenerPorUsuario(d);z.sensitive("📝 Respuesta de resúmenes:",F.data);const J=(F.data.resumenes||[]).filter(X=>X&&X.clase&&X.clase.fecha);z.dev("✅ Resúmenes válidos:",J.length,"de",(F.data.resumenes||[]).length),J.length!==(F.data.resumenes||[]).length&&z.warn("⚠️ Se filtraron resúmenes con datos incompletos de clase"),$(J)}catch(F){z.error("❌ Error al cargar resúmenes:",F),$([])}finally{q(!1)}},ym=()=>{if(!d){x({no_iniciada:0,tomada:0,ausente:0,reprogramar:0,recuperada:0});return}try{const F=[...n,...o];if(F.length===0){x({no_iniciada:0,tomada:0,ausente:0,reprogramar:0,recuperada:0});return}const X={no_iniciada:0,tomada:0,ausente:0,reprogramar:0,recuperada:0,...F.reduce((te,je)=>(te[je.estado]=(te[je.estado]||0)+1,te),{})};x(X)}catch(F){z.error("Error al calcular resumen:",F)}},vm=async()=>{L(!0);try{const F=await yt.obtenerEstudiantesPorDia();k(F.data)}catch(F){z.error("Error al cargar estudiantes por día:",F)}finally{L(!1)}},bm=()=>{D(!0)},jm=()=>{D(!1)},wm=()=>{V(F=>F+1)},Ni=F=>{un().then(()=>{j(J=>{const X=[...J],te=X.findIndex(je=>je._id===F);if(te!==-1){const[je]=X.splice(te,1);if(X.push(je),d){const jt=X.map(lr=>lr._id);ie(d,jt)}}return X})})},Nm=()=>{if(d&&n.length>0){const F=[...n].sort((X,te)=>new Date(X.fecha)-new Date(te.fecha));j(F);const J=F.map(X=>X._id);ie(d,J)}},ki=F=>{M(C===F?null:F)},or=F=>C?F.filter(J=>J.estado===C):F,km=F=>{_(F)},Cm=F=>{$(J=>J.filter(X=>X._id!==F))},Em=()=>{z.info("💾 Resumen guardado, recargando lista de resúmenes..."),setTimeout(()=>{dn()},200),_(null)},Ot=u.find(F=>F._id===d),Ci=F=>{g(F),I(!1)};return s.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Gestión de Clases"}),K&&s.jsx("div",{className:"mb-8",children:s.jsxs("details",{open:U,className:"bg-gray-50 rounded-lg overflow-hidden",children:[s.jsx("summary",{className:"cursor-pointer p-4 font-semibold text-lg text-gray-900 hover:bg-gray-100 transition-colors flex items-center justify-between",onClick:F=>{F.preventDefault(),I(!U)},children:s.jsxs("span",{className:"flex items-center",children:[s.jsx("span",{className:`transform transition-transform mr-2 ${U?"rotate-90":""}`,children:"▶"}),"📅 Estudiantes por Día de la Semana",d&&s.jsxs("span",{className:"ml-2 text-sm text-gray-600 font-normal",children:["(Usuario seleccionado: ",Ot==null?void 0:Ot.nombre,")"]})]})}),s.jsx("div",{className:"p-4 pt-0",children:R?s.jsx(Nr,{title:"Cargando estudiantes...",subtitle:"Agrupando por días de la semana",size:"small"}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:P.filter(F=>F.dia!=="1").map(F=>s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2 text-sm",children:F.nombreDia}),s.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:[F.estudiantes.length," estudiante",F.estudiantes.length!==1?"s":""]}),F.estudiantes.length>0?s.jsx("div",{className:"space-y-2",children:F.estudiantes.map(J=>s.jsx("div",{className:"p-2 bg-blue-50 rounded text-xs cursor-pointer hover:bg-blue-100 transition-colors",onClick:()=>Ci(J._id),children:s.jsx("div",{className:"font-medium text-blue-900",children:J.nombre})},J._id))}):s.jsx("div",{className:"text-xs text-gray-400 italic",children:"Sin estudiantes"})]},F.dia))})})]})}),!d&&s.jsxs("div",{className:"mb-6 bg-gray-50 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"🔍 Búsqueda Manual de Usuario"}),s.jsx("div",{className:"flex gap-4 items-end",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seleccionar Usuario Específico"}),s.jsxs("select",{value:d,onChange:F=>Ci(F.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:[s.jsx("option",{value:"",children:"Seleccionar usuario..."}),u.map(F=>s.jsxs("option",{value:F._id,children:[F.nombre," ",F.apellido," (",F.email,")"]},F._id))]})]})})]}),d&&s.jsxs(s.Fragment,{children:[Ot&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-6 shadow-sm",children:[s.jsxs("div",{className:"hidden md:grid md:grid-cols-12 md:gap-6 md:items-center",children:[s.jsx("div",{className:"col-span-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:["👤 ",Ot.nombre," ",Ot.apellido]}),K&&s.jsx("button",{onClick:()=>I(!0),className:"text-sm text-blue-600 hover:text-blue-800 underline",title:"Cambiar usuario",children:"👤➡️👤 Cambiar usuario"})]})}),s.jsx("div",{className:"col-span-4",children:i&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-green-700",children:["Último Pago - $",(Ei=i.monto)==null?void 0:Ei.toLocaleString()]}),i.descripcion&&s.jsx("p",{className:"text-green-600 text-sm",children:i.descripcion})]})}),s.jsx("div",{className:"col-span-4",children:Object.keys(b).length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"📊 Resumen Total (Todas las clases)"}),C&&s.jsx("button",{onClick:()=>M(null),className:"text-xs text-red-600 hover:text-red-800 font-medium bg-red-50 px-2 py-1 rounded",title:"Limpiar filtro",children:"✕ Limpiar filtro"})]}),s.jsx("div",{className:"grid grid-cols-5 gap-1",children:Object.entries(kt).map(([F,J])=>{const X=C===F,je=or(N).filter(lr=>lr.estado===F).length,jt=b[F]||0;return s.jsxs("div",{className:`p-1 rounded text-center cursor-pointer transition-all duration-200 ${X?`${J.color} ${J.textColor} ring-2 ring-offset-1 ring-blue-500`:`${J.color} ${J.textColor} hover:scale-105`}`,onClick:()=>ki(F),title:`${J.label}: ${jt} total${C?`, ${je} visibles`:""}`,children:[s.jsx("div",{className:"text-xs font-bold",children:jt}),s.jsx("div",{className:"text-xs",children:J.label})]},F)})})]})})]}),s.jsxs("div",{className:"md:hidden",children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["👤 ",Ot.nombre," ",Ot.apellido]}),K&&s.jsx("button",{onClick:()=>I(!0),className:"text-sm text-blue-600 hover:text-blue-800 underline",title:"Cambiar usuario",children:"👤➡️👤 Cambiar"})]}),i&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("h3",{className:"text-base font-semibold text-green-700",children:["Último Pago - $",(Si=i.monto)==null?void 0:Si.toLocaleString()]}),i.descripcion&&s.jsx("p",{className:"text-green-600 text-sm",children:i.descripcion})]})]}),Object.keys(b).length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"📊 Resumen Total (Todas las clases)"}),C&&s.jsx("button",{onClick:()=>M(null),className:"text-xs text-red-600 hover:text-red-800 font-medium bg-red-50 px-2 py-1 rounded",title:"Limpiar filtro",children:"✕ Limpiar filtro"})]}),s.jsx("div",{className:"grid grid-cols-5 gap-2",children:Object.entries(kt).map(([F,J])=>{const X=C===F,te=(b[F]||0)>0;return s.jsx("div",{className:`
                              p-2 rounded text-center border transition-all duration-200 cursor-pointer
                              ${X?`${J.color} ${J.textColor} ring-2 ring-offset-1 ring-blue-500`:te?"bg-gray-50 hover:bg-gray-100 hover:shadow-md transform hover:scale-105":"bg-gray-50 opacity-60"}
                            ${te?"":"cursor-not-allowed"}
                          `,title:`${J.label}: ${b[F]||0} clase${(b[F]||0)!==1?"s":""}${te?" - Click para filtrar":""}`,onClick:()=>te&&ki(F),children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{className:"text-sm mb-1",children:J.icon}),s.jsx("span",{className:`text-xs font-medium mb-1 leading-tight ${X?"text-white":"text-gray-600"}`,children:J.label}),s.jsx("p",{className:`text-base font-bold ${X?"text-white":"text-gray-800"}`,children:b[F]||0})]})},F)})})]})]})]}),H.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["📚 Resúmenes de Clase Guardados (",H.length,")"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:H.map(F=>s.jsx(sy,{resumen:F,onEdit:km,onDelete:Cm},F._id))})]}),s.jsxs("div",{className:"mb-6",children:[K&&s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"📚 Estudios Activos"}),s.jsx("button",{onClick:bm,className:"inline-flex items-center px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:"📚 Agregar Estudio"})]}),s.jsx(xm,{usuarioId:d,modoVisualizacion:"cards",filtrarEstados:["en_progreso","pausado"],mostrarTitulo:!K,esAdmin:K},`estudios-${d}-${G}`)]}),v?s.jsx(Nr,{title:"Cargando clases...",subtitle:"Obteniendo información de las clases",showRenderMessage:!0,size:"small"}):p?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-red-600",children:p}),s.jsx("button",{onClick:un,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Reintentar"})]}):i?n.length===0?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-600",children:"No hay clases programadas para el último pago."})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:C?`${or(n).length} Clases Filtradas`:`${n.length} Clases Actuales`}),s.jsx("p",{className:"text-sm text-gray-600",children:C?s.jsxs(s.Fragment,{children:["Mostrando solo: ",s.jsx("span",{className:"font-medium text-blue-600",children:(Pi=kt[C])==null?void 0:Pi.label})," • Total de clases: ",n.length+o.length]}):s.jsxs(s.Fragment,{children:["Pago actual • Total de clases: ",n.length+o.length]})})]}),s.jsxs("div",{className:"flex gap-2",children:[C&&s.jsxs("button",{onClick:()=>M(null),className:"inline-flex items-center gap-2 px-3 py-2 text-sm text-red-600 bg-red-50 rounded-lg hover:bg-red-100 transition-colors",title:"Limpiar filtro",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Limpiar filtro"]}),s.jsxs("button",{onClick:Nm,className:"inline-flex items-center gap-2 px-3 py-2 text-sm text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",title:"Resetear orden a cronológico",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Resetear orden"]})]})]}),C&&or(n).length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsxs("p",{className:"text-gray-600",children:['No hay clases con estado "',(_i=kt[C])==null?void 0:_i.label,'" en el pago actual.']}),s.jsx("button",{onClick:()=>M(null),className:"mt-2 px-4 py-2 text-blue-600 bg-blue-50 rounded hover:bg-blue-100",children:"Ver todas las clases"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:or(N.length>0?N:n).map(F=>s.jsx(fu,{clase:F,usuarioId:d,onEstadoChange:Ni,onResumenGuardado:dn},F._id))})]}),o.length>0&&s.jsx("div",{className:"mt-8",children:s.jsxs("details",{className:"bg-gray-50 rounded-lg overflow-hidden",open:h,onToggle:F=>E(F.target.open),children:[s.jsx("summary",{className:"cursor-pointer p-4 bg-gray-100 hover:bg-gray-200 transition-colors",children:s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 inline-flex items-center gap-2",children:["📋 Historial de Clases",C?s.jsxs("span",{className:"text-sm font-normal text-gray-600",children:["(",or(o).length," de ",o.length," - ",(Ri=kt[C])==null?void 0:Ri.label,")"]}):s.jsxs("span",{className:"text-sm font-normal text-gray-600",children:["(",o.length,")"]}),s.jsx("span",{className:"text-sm font-normal text-gray-600",children:"(Pagos anteriores - incluidas en el resumen total)"})]})}),s.jsx("div",{className:"p-4",children:C&&or(o).length===0?s.jsx("div",{className:"text-center py-4",children:s.jsxs("p",{className:"text-gray-600",children:['No hay clases con estado "',(Li=kt[C])==null?void 0:Li.label,'" en el historial.']})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:or(o).map(F=>s.jsx(fu,{clase:F,usuarioId:d,onEstadoChange:Ni,onResumenGuardado:dn},F._id))})})]})})]}):s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-600",children:"No hay pagos registrados para este usuario."})})]}),T&&s.jsx(wi,{claseId:T.clase._id,usuarioId:d,fecha:T.clase.fecha,resumenExistente:T,onClose:()=>_(null),onSave:Em}),s.jsx(gm,{mostrar:A,onCerrar:jm,onGuardado:wm,usuarioPreseleccionado:d})]})},Oy=()=>{const{usuario:e}=We(),[t,r]=y.useState([]),[n,a]=y.useState(!0),[o,l]=y.useState(""),[i,c]=y.useState(""),[u,f]=y.useState([]),[d,g]=y.useState(new Set),[b,x]=y.useState(!1),v=y.useRef(null),w=()=>{if(!v.current)return;const k=Array.from(v.current.querySelectorAll(".partitura-card"));if(k.length===0)return;k.forEach(j=>{j.style.height="auto"});const R=[];let L=[],N=null;k.forEach(j=>{const C=j.offsetTop;N===null||C===N?(L.push(j),N=C):(R.push(L),L=[j],N=C)}),L.length>0&&R.push(L),R.forEach(j=>{const C=Math.max(...j.map(M=>M.offsetHeight));j.forEach(M=>{M.style.height=`${C}px`})})};y.useEffect(()=>{const k=setTimeout(()=>{w()},100);return()=>clearTimeout(k)},[u]),y.useEffect(()=>{const k=()=>{const R=setTimeout(()=>{w()},100);return()=>clearTimeout(R)};return window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[]),y.useEffect(()=>{p()},[]),y.useEffect(()=>{let k=t;if(i.trim()){const R=E(i);k=k.filter(L=>{var N;return E(L.compositor).includes(R)||E(L.obra).includes(R)||((N=L.movimientos)==null?void 0:N.some(j=>j.nombre&&E(j.nombre).includes(R)))})}b&&(k=k.filter(R=>d.has(R._id))),f(k)},[i,t,d,b]);const p=async()=>{var k,R;try{a(!0);const N=(await Ur.obtenerTodas()).data||[];r(N),f(N),N.length===0&&l("No se encontraron partituras en la base de datos")}catch(L){l("Error al cargar partituras: "+(((R=(k=L.response)==null?void 0:k.data)==null?void 0:R.message)||L.message))}finally{a(!1)}},m=async k=>{var L,N,j,C;if(!(e!=null&&e._id)){z.error("Usuario no autenticado");return}const R=d.has(k);g(R?M=>{const H=new Set(M);return H.delete(k),H}:M=>new Set([...M,k]));try{await Me.alternarFavorito(e._id,k)}catch(M){z.error("Error al alternar favorito:",M),z.error("Detalles del error:",{status:(L=M.response)==null?void 0:L.status,message:(j=(N=M.response)==null?void 0:N.data)==null?void 0:j.message,url:(C=M.config)==null?void 0:C.url}),g(R?H=>new Set([...H,k]):H=>{const $=new Set(H);return $.delete(k),$}),l("Error al actualizar favorito. Inténtalo de nuevo.")}},h=async()=>{var k,R,L,N;if(e!=null&&e._id)try{const C=(await Me.obtenerFavoritos(e._id)).data.map(M=>M._id||M);g(new Set(C))}catch(j){z.error("Error al cargar favoritos:",j),z.error("Detalles del error:",{status:(k=j.response)==null?void 0:k.status,message:(L=(R=j.response)==null?void 0:R.data)==null?void 0:L.message,url:(N=j.config)==null?void 0:N.url});try{const C=localStorage.getItem(`favoritos-partituras-${e._id}`);C&&g(new Set(JSON.parse(C)))}catch(C){z.error("Error al cargar favoritos desde localStorage:",C)}}};y.useEffect(()=>{h()},[e]);const E=k=>k.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),P=({partitura:k})=>{const R=d.has(k._id),L=()=>{setTimeout(()=>{w()},50)};return s.jsx("div",{className:"bg-indigo-100 border border-indigo-200 rounded-lg shadow-sm dark:bg-gray-800 dark:border-gray-700 h-full flex flex-col w-full sm:min-w-[350px] lg:min-w-[380px] min-h-[130px] partitura-card transition-all duration-300 ease-in-out",children:s.jsxs("div",{className:"p-3 sm:p-4 text-left flex-1 flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2 sm:mb-3",children:[s.jsx("h5",{className:"text-lg sm:text-xl lg:text-2xl font-bold tracking-tight text-gray-900 dark:text-white flex-1 mr-2 break-words",children:k.compositor}),s.jsx("button",{onClick:()=>m(k._id),className:`p-1 rounded-full transition-colors flex-shrink-0 ${R?"text-amber-500 hover:text-amber-600":"text-slate-400 hover:text-amber-500"}`,title:R?"Quitar de favoritos":"Agregar a favoritos",children:s.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:R?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})})]}),s.jsx("p",{className:"mb-2 sm:mb-3 text-base sm:text-lg font-semibold text-gray-700 dark:text-gray-400 break-words",children:k.obra}),s.jsxs("div",{className:"mt-auto space-y-2",children:[(k.partituraCello||k.partituraPiano)&&s.jsxs("details",{name:"detalles",className:"mb-2",onToggle:L,children:[s.jsx("summary",{className:"py-2 px-3 bg-indigo-100 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-indigo-200 dark:hover:bg-gray-600 transition-colors font-medium text-gray-900 dark:text-white",children:"Partituras"}),s.jsxs("div",{className:"mt-1 space-y-2",children:[k.partituraCello&&s.jsxs("a",{href:k.partituraCello,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between py-2 px-3 text-gray-900 dark:text-gray-300 hover:bg-indigo-200 dark:hover:bg-gray-600 rounded-md transition-colors",children:[s.jsx("span",{className:"text-sm font-medium",children:"Violoncello"}),s.jsx("svg",{className:"w-5 h-5 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})]}),k.partituraPiano&&s.jsxs("a",{href:k.partituraPiano,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between py-2 px-3 text-gray-900 dark:text-gray-300 hover:bg-indigo-200 dark:hover:bg-gray-600 rounded-md transition-colors",children:[s.jsx("span",{className:"text-sm font-medium",children:"Piano/Otro"}),s.jsx("svg",{className:"w-5 h-5 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})]})]})]}),k.movimientos&&k.movimientos.length>0&&s.jsxs("details",{name:"detalles",onToggle:L,children:[s.jsxs("summary",{className:"py-2 px-3 bg-indigo-100 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-indigo-200 dark:hover:bg-gray-600 transition-colors font-medium text-gray-900 dark:text-white",children:["Acompañamientos (",k.movimientos.length,")"]}),s.jsx("div",{className:"mt-1 space-y-1",children:k.movimientos.map((N,j)=>s.jsxs("details",{name:"movimientos",className:"ml-4",onToggle:L,children:[s.jsx("summary",{className:"py-2 px-3 bg-indigo-100 dark:bg-gray-600 rounded-md cursor-pointer hover:bg-indigo-200 dark:hover:bg-gray-500 transition-colors text-medium text-gray-800 dark:text-gray-200",children:N.nombre}),(N.subtitulo||N.descripcion||N.duracion)&&s.jsx("p",{className:"mt-1 mb-2 text-sm text-gray-600 dark:text-gray-400 px-3",children:N.subtitulo||N.descripcion||N.duracion}),N.audios&&N.audios.length>0?s.jsx("div",{className:"mt-2 flex flex-wrap gap-2 px-3",children:N.audios.map((C,M)=>s.jsx("a",{href:C.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center w-9 h-9 text-sm font-semibold text-white bg-indigo-500 rounded-lg hover:bg-indigo-600 focus:ring-2 focus:outline-none focus:ring-indigo-300 transition-colors",children:C.nombre},M))}):s.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400 italic px-3",children:N.descripcion||N.duracion?"Movimiento configurado (estructura heredada)":"No hay acompañamientos disponibles"})]},j))})]})]})]})})};return n?s.jsx(Nr,{title:"Cargando partituras...",subtitle:"Obteniendo la colección de partituras musicales",showRenderMessage:!0,size:"large"}):s.jsxs("div",{className:"px-4 sm:px-6 py-8 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"text-center mb-6",children:s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Partituras"})}),(e==null?void 0:e.isAdmin)&&s.jsx("div",{className:"flex justify-center",children:s.jsxs(xt,{to:"/admin-partituras",className:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 focus:ring-2 focus:outline-none focus:ring-indigo-300 transition-colors",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Administrar Partituras"]})})]}),s.jsx("div",{className:"mb-6 flex justify-center",children:s.jsxs("div",{className:"relative max-w-lg w-full",children:[s.jsx("div",{className:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none",children:s.jsx("svg",{className:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:s.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})})}),s.jsx("input",{type:"search",value:i,onChange:k=>c(k.target.value),className:"block w-full p-4 ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Buscar por compositor, obra o movimiento..."})]})}),s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs("button",{onClick:()=>x(!1),className:`inline-flex items-center px-4 py-2 text-sm font-medium rounded-lg border transition-colors ${b?"bg-slate-50 text-slate-700 border-slate-300 hover:bg-slate-100 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-700":"bg-blue-500 text-white border-blue-500 hover:bg-blue-600"}`,children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14-7l-7 7-7-7m14 18l-7-7-7 7"})}),"Todas las partituras (",t.length,")"]}),s.jsxs("button",{onClick:()=>x(!0),className:`inline-flex items-center px-4 py-2 text-sm font-medium rounded-lg border transition-colors ${b?"bg-amber-400 text-amber-900 border-amber-400 hover:bg-amber-500":"bg-slate-50 text-slate-700 border-slate-300 hover:bg-slate-100 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-700"}`,children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:b?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),"Solo favoritas (",d.size,")"]}),s.jsxs("div",{className:"flex items-center px-3 py-2 text-sm text-slate-600 dark:text-gray-400 bg-slate-100 dark:bg-gray-700 rounded-lg",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Mostrando: ",u.length]})]})}),o&&s.jsxs("div",{className:"mb-6 p-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert",children:[s.jsx("span",{className:"font-medium",children:"Error:"})," ",o]}),u.length>0?s.jsx("div",{ref:v,className:"grid grid-cols-1 sm:grid-cols-[repeat(auto-fill,minmax(350px,1fr))] lg:grid-cols-[repeat(auto-fill,minmax(380px,1fr))] gap-4 sm:gap-6 items-start justify-center",children:u.map(k=>s.jsx(P,{partitura:k},k._id))}):!n&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-500 dark:text-gray-400 mb-4",children:s.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-.895 2-2 2s-2-.895-2-2 .895-2 2-2 2 .895 2 2zm12-3c0 1.105-.895 2-2 2s-2-.895-2-2 .895-2 2-2 2 .895 2 2zM9 10l12-3"})})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No se encontraron partituras"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:i?"Intenta con diferentes términos de búsqueda.":"No hay partituras disponibles en este momento."})]})]})},zy=()=>{const{usuario:e}=We(),[t,r]=y.useState([]),[n,a]=y.useState(!0),[o,l]=y.useState(""),[i,c]=y.useState(""),[u,f]=y.useState(!1),[d,g]=y.useState(null),[b,x]=y.useState({compositor:"",obra:"",partituraCello:"",partituraPiano:"",movimientos:[]});y.useEffect(()=>{v()},[]);const v=async()=>{var j,C;try{a(!0);const M=await Ur.obtenerTodas();r(M.data||[])}catch(M){l("Error al cargar partituras: "+(((C=(j=M.response)==null?void 0:j.data)==null?void 0:C.message)||M.message))}finally{a(!1)}},w=()=>{x({compositor:"",obra:"",partituraCello:"",partituraPiano:"",movimientos:[]}),g(null),f(!1),l(""),c("")},p=j=>{x({compositor:j.compositor||"",obra:j.obra||"",partituraCello:j.partituraCello||"",partituraPiano:j.partituraPiano||"",movimientos:(j.movimientos||[]).map(C=>({nombre:C.nombre||"",subtitulo:C.subtitulo||C.descripcion||C.duracion||"",audios:(C.audios||[]).map(M=>({nombre:M.nombre||"",url:M.url||""}))}))}),g(j),f(!0)},m=()=>{x(j=>({...j,movimientos:[...j.movimientos,{nombre:"",subtitulo:"",audios:[]}]}))},h=(j,C,M)=>{x(H=>({...H,movimientos:H.movimientos.map(($,Q)=>Q===j?{...$,[C]:M}:$)}))},E=j=>{x(C=>({...C,movimientos:C.movimientos.filter((M,H)=>H!==j)}))},P=j=>{x(C=>({...C,movimientos:C.movimientos.map((M,H)=>H===j?{...M,audios:[...M.audios||[],{nombre:"",url:""}]}:M)}))},k=(j,C,M,H)=>{x($=>({...$,movimientos:$.movimientos.map((Q,q)=>q===j?{...Q,audios:(Q.audios||[]).map((T,_)=>_===C?{...T,[M]:H}:T)}:Q)}))},R=(j,C)=>{x(M=>({...M,movimientos:M.movimientos.map((H,$)=>$===j?{...H,audios:(H.audios||[]).filter((Q,q)=>q!==C)}:H)}))},L=async j=>{var C,M;if(j.preventDefault(),!b.compositor.trim()||!b.obra.trim()||!b.partituraCello.trim()){l("Los campos Compositor, Obra y Partitura de Violoncello son obligatorios");return}try{a(!0),l(""),d?(await Ur.actualizar(d._id,b),c("Partitura actualizada exitosamente")):(await Ur.crear(b),c("Partitura creada exitosamente")),await v(),w()}catch(H){l("Error al guardar partitura: "+(((M=(C=H.response)==null?void 0:C.data)==null?void 0:M.message)||H.message))}finally{a(!1)}},N=async j=>{var C,M;if(window.confirm("¿Estás seguro de que quieres eliminar esta partitura?"))try{a(!0),await Ur.eliminar(j),c("Partitura eliminada exitosamente"),await v()}catch(H){l("Error al eliminar partitura: "+(((M=(C=H.response)==null?void 0:C.data)==null?void 0:M.message)||H.message))}finally{a(!1)}};return n&&!u?s.jsx(Nr,{title:"Cargando gestión de partituras...",subtitle:"Obteniendo datos del sistema",showRenderMessage:!0,size:"large"}):s.jsxs("div",{className:"px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Gestión de Partituras"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Administrar partituras del sistema"})]}),!u&&s.jsx("div",{className:"flex justify-center",children:s.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 focus:ring-2 focus:outline-none focus:ring-blue-300 transition-colors",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Nueva Partitura"]})})]}),o&&s.jsxs("div",{className:"mb-6 p-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert",children:[s.jsx("span",{className:"font-medium",children:"Error:"})," ",o]}),i&&s.jsxs("div",{className:"mb-6 p-4 text-sm text-green-800 rounded-lg bg-green-50 dark:bg-gray-800 dark:text-green-400",role:"alert",children:[s.jsx("span",{className:"font-medium",children:"Éxito:"})," ",i]}),u&&s.jsxs("div",{className:"mb-8 bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:d?"Editar Partitura":"Nueva Partitura"}),s.jsx("button",{onClick:w,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("form",{onSubmit:L,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Compositor *"}),s.jsx("input",{type:"text",required:!0,value:b.compositor||"",onChange:j=>x(C=>({...C,compositor:j.target.value})),className:"block w-full p-3 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",placeholder:"Ej: Bach, J.S."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Obra *"}),s.jsx("input",{type:"text",required:!0,value:b.obra||"",onChange:j=>x(C=>({...C,obra:j.target.value})),className:"block w-full p-3 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",placeholder:"Ej: Bach for the Cello - Álbum"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Enlace Partitura Violoncello *"}),s.jsx("input",{type:"url",required:!0,value:b.partituraCello||"",onChange:j=>x(C=>({...C,partituraCello:j.target.value})),className:"block w-full p-3 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",placeholder:"https://drive.google.com/..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Enlace Partitura Piano/Otros (opcional)"}),s.jsx("input",{type:"url",value:b.partituraPiano||"",onChange:j=>x(C=>({...C,partituraPiano:j.target.value})),className:"block w-full p-3 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",placeholder:"https://drive.google.com/..."})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Movimientos"}),s.jsxs("button",{type:"button",onClick:m,className:"inline-flex items-center px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 focus:ring-2 focus:outline-none focus:ring-blue-300 dark:bg-blue-900 dark:text-blue-300 dark:hover:bg-blue-800",children:[s.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Agregar Movimiento"]})]}),b.movimientos.map((j,C)=>s.jsxs("div",{className:"mb-6 p-4 border border-gray-200 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white",children:["Movimiento ",C+1]}),s.jsx("button",{type:"button",onClick:()=>E(C),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-200",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nombre del Movimiento"}),s.jsx("input",{type:"text",value:j.nombre||"",onChange:M=>h(C,"nombre",M.target.value),className:"block w-full p-2 text-sm text-gray-900 border border-gray-300 rounded-lg bg-white focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white",placeholder:"Ej: March in G"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Subtítulo (cuenta/tempo)"}),s.jsx("input",{type:"text",value:j.subtitulo||"",onChange:M=>h(C,"subtitulo",M.target.value),className:"block w-full p-2 text-sm text-gray-900 border border-gray-300 rounded-lg bg-white focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white",placeholder:"Ej: La cuenta es de 4 negras"})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Audios (velocidades)"}),s.jsxs("button",{type:"button",onClick:()=>P(C),className:"inline-flex items-center px-2 py-1 text-xs font-medium text-green-600 bg-green-50 rounded hover:bg-green-100 focus:ring-2 focus:outline-none focus:ring-green-300 dark:bg-green-900 dark:text-green-300 dark:hover:bg-green-800",children:[s.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Agregar Audio"]})]}),(j.audios||[]).map((M,H)=>s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx("input",{type:"text",value:M.nombre||"",onChange:$=>k(C,H,"nombre",$.target.value),className:"w-20 p-2 text-sm text-gray-900 border border-gray-300 rounded bg-white focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white",placeholder:"60"}),s.jsx("input",{type:"url",value:M.url||"",onChange:$=>k(C,H,"url",$.target.value),className:"flex-1 p-2 text-sm text-gray-900 border border-gray-300 rounded bg-white focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white",placeholder:"https://app.box.com/..."}),s.jsx("button",{type:"button",onClick:()=>R(C,H),className:"p-2 text-red-600 hover:text-red-800 dark:text-red-400",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},H))]})]},C))]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:ring-2 focus:outline-none focus:ring-blue-300 dark:bg-gray-600 dark:text-gray-300 dark:border-gray-500 dark:hover:bg-gray-700",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:ring-2 focus:outline-none focus:ring-blue-300 disabled:opacity-50",children:n?"Guardando...":d?"Actualizar":"Crear"})]})]})]}),!u&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Partituras Existentes (",t.length,")"]})}),t.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-500 dark:text-gray-400 mb-4",children:s.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-.895 2-2 2s-2-.895-2-2 .895-2 2-2 2 .895 2 2zm12-3c0 1.105-.895 2-2 2s-2-.895-2-2 .895-2 2-2 2 .895 2 2zM9 10l12-3"})})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No hay partituras"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Comienza creando tu primera partitura."})]}):s.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:t.map(j=>{var C,M;return s.jsx("div",{className:"p-6 hover:bg-gray-50 dark:hover:bg-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:j.compositor}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:j.obra}),s.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 space-x-4",children:[s.jsxs("span",{children:["Movimientos: ",((C=j.movimientos)==null?void 0:C.length)||0]}),s.jsxs("span",{children:["Total audios: ",((M=j.movimientos)==null?void 0:M.reduce((H,$)=>{var Q;return H+(((Q=$.audios)==null?void 0:Q.length)||0)},0))||0]})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 ml-6",children:[s.jsxs("button",{onClick:()=>p(j),className:"inline-flex items-center px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 focus:ring-2 focus:outline-none focus:ring-blue-300 dark:bg-blue-900 dark:text-blue-300 dark:hover:bg-blue-800 transition-colors",children:[s.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Editar"]}),s.jsxs("button",{onClick:()=>N(j._id),className:"inline-flex items-center px-3 py-2 text-sm font-medium text-red-600 bg-red-50 rounded-lg hover:bg-red-100 focus:ring-2 focus:outline-none focus:ring-red-300 dark:bg-red-900 dark:text-red-300 dark:hover:bg-red-800 transition-colors",children:[s.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Eliminar"]})]})]})},j._id)})})]})]})},Ay=()=>{const{claseId:e}=F0(),[t]=$f(),{usuario:r,isAdmin:n}=We(),a=t.get("usuarioId"),o=t.get("fecha"),l=t.get("newTab")==="true";z.debug("ResumenClasePage - Parámetros recibidos",{claseId:e,usuarioId:a,fecha:o,isNewTab:l,usuario:r,url:window.location.href,pathname:window.location.pathname,search:window.location.search}),z.dev("Componente ResumenClasePage renderizándose correctamente");const[i,c]=y.useState(!1);if(y.useEffect(()=>{z.dev("ResumenClasePage useEffect - verificando parámetros"),z.dev("Todos los parámetros necesarios presentes:",!!e&&!!a),e||z.error("claseId faltante"),a||z.error("usuarioId faltante"),r||z.error("usuario no autenticado")},[e,a,r]),z.debug("ResumenClasePage - Verificación de permisos",{usuario:r,rol:r==null?void 0:r.rol,isAdmin:n()}),!r)return z.dev("ResumenClasePage - Usuario no cargado aún"),s.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:s.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md",children:[s.jsx("h2",{className:"text-xl font-bold text-blue-600 mb-2",children:"Cargando..."}),s.jsx("p",{className:"text-gray-600",children:"Verificando autenticación..."}),s.jsx("div",{className:"mt-4 animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})]})});if(!n())return z.warn("ResumenClasePage - Usuario no autorizado. Rol actual:",r.rol),s.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:s.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md",children:[s.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:"Acceso Denegado"}),s.jsx("p",{className:"text-gray-600",children:"No tienes permisos para acceder a esta página."}),s.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Rol actual: ",r.rol]})]})});const u=()=>{c(!0);const d={type:"resumen_guardado",claseId:e,usuarioId:a,timestamp:Date.now()};localStorage.setItem("resumen_update_event",JSON.stringify(d)),setTimeout(()=>{localStorage.removeItem("resumen_update_event")},1e3),setTimeout(()=>c(!1),3e3)},f=()=>{window.close()};return s.jsxs("div",{className:"min-h-screen bg-gray-100",children:[s.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4 sticky top-0 z-10",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"📝 Resumen de Clase"}),o&&s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["📅 ",Te(o)]})]}),s.jsxs("div",{className:"flex gap-3",children:[i&&s.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-3 py-2 rounded-md text-sm",children:"✅ Guardado correctamente"}),s.jsx("button",{onClick:f,className:"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-colors",children:"Cerrar"})]})]})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsx(wi,{claseId:e,usuarioId:a,fecha:o,onClose:f,onSave:u,isStandalone:!0})})})]})},mu=({title:e,subtitle:t,size:r="normal"})=>{const n=r==="small"?"h-6 w-6":"h-8 w-8";return s.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[s.jsx("div",{className:`animate-spin rounded-full ${n} border-b-2 border-blue-600`}),s.jsx("p",{className:"mt-3 text-gray-600 font-medium",children:e}),t&&s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t})]})},Dy=({resumen:e,usuario:t})=>{var o;const[r,n]=y.useState(!1);if(!e||!e.clase)return z.warn("ResumenCard: resumen o clase es null/undefined",e),s.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-lg p-4 shadow-md",children:s.jsx("p",{className:"text-red-600",children:"⚠️ Error: Datos de resumen incompletos"})});const a=async()=>{var l;try{n(!0);const i=ji({fecha:(l=e.clase)!=null&&l.fecha?Te(e.clase.fecha):"Fecha no disponible",obrasEstudiadas:e.obrasEstudiadas||[],objetivosProximaClase:e.objetivosProximaClase||""});t!=null&&t.telefono?tr(i,t.telefono):tr(i)}catch(i){z.error("Error al enviar por WhatsApp:",i),alert("❌ Error al procesar el envío por WhatsApp")}finally{n(!1)}};return s.jsxs("div",{className:"bg-white border-2 border-blue-200 rounded-lg p-4 shadow-md hover:shadow-lg transition-shadow",children:[s.jsx("div",{className:"flex justify-between items-start mb-4",children:s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-600 font-bold",children:["📅 ",(o=e.clase)!=null&&o.fecha?Te(e.clase.fecha):"Fecha no disponible"]})})}),e.obrasEstudiadas&&e.obrasEstudiadas.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("h5",{className:"text-sm font-medium text-gray-700 mb-2 text-left",children:["🎼 Obras (",e.obrasEstudiadas.length,")"]}),s.jsx("div",{className:"space-y-2",children:(()=>{const l=e.obrasEstudiadas.reduce((i,c,u)=>{const f=`${c.compositor}-${c.obra}`;return i[f]||(i[f]={compositor:c.compositor,obra:c.obra,movimientos:[]}),i[f].movimientos.push(c),i},{});return Object.values(l).map((i,c)=>s.jsxs("div",{className:"bg-gray-50 p-3 rounded-md text-left",children:[s.jsxs("div",{className:"font-medium text-gray-800 mb-2",children:[i.compositor," - ",i.obra,i.movimientos.length>1&&s.jsxs("span",{className:"ml-2 bg-blue-500 text-white text-xs px-2 py-1 rounded-full",children:[i.movimientos.length," partes"]})]}),s.jsx("div",{className:"space-y-1",children:i.movimientos.map((u,f)=>s.jsxs("div",{className:"text-sm",children:[u.movimientosCompases&&s.jsxs("div",{className:"text-blue-600",children:["📍 ",u.movimientosCompases]}),u.comentarios&&s.jsxs("div",{className:"text-gray-600 mt-1",children:["💬 ",u.comentarios]}),i.movimientos.length>1&&f<i.movimientos.length-1&&s.jsx("div",{className:"border-b border-gray-200 my-2"})]},f))})]},c))})()})]}),e.objetivosProximaClase&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2 text-left",children:"🎯 Próxima Clase"}),s.jsx("div",{className:"bg-green-50 p-3 rounded-md text-left",children:s.jsx("p",{className:"text-sm text-gray-700",children:e.objetivosProximaClase})})]}),s.jsx("div",{className:"pt-3 border-t border-gray-200",children:s.jsx("button",{onClick:a,disabled:r,className:"w-full px-3 py-2 text-sm bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 transition-colors",children:r?"Enviando...":"📱 WhatsApp"})})]})},pu=({clase:e})=>{const t={no_iniciada:{label:"No iniciada",color:"bg-gray-50",textColor:"text-gray-800",borderColor:"border-gray-200",footerColor:"bg-gray-100",icon:"⏳"},tomada:{label:"Tomada",color:"bg-green-50",textColor:"text-green-800",borderColor:"border-green-200",footerColor:"bg-green-100",icon:"✅"},ausente:{label:"Ausente",color:"bg-red-50",textColor:"text-red-800",borderColor:"border-red-200",footerColor:"bg-red-100",icon:"❌"},reprogramar:{label:"Reprogramada",color:"bg-amber-50",textColor:"text-amber-800",borderColor:"border-amber-200",footerColor:"bg-amber-100",icon:"🔄"},recuperada:{label:"Recuperada",color:"bg-purple-50",textColor:"text-purple-800",borderColor:"border-purple-200",footerColor:"bg-purple-100",icon:"🔁"},realizada:{label:"Realizada",color:"bg-green-50",textColor:"text-green-800",borderColor:"border-green-200",footerColor:"bg-green-100",icon:"✅"},cancelada:{label:"Cancelada",color:"bg-red-50",textColor:"text-red-800",borderColor:"border-red-200",footerColor:"bg-red-100",icon:"🚫"},pendiente:{label:"Pendiente",color:"bg-blue-50",textColor:"text-blue-800",borderColor:"border-blue-200",footerColor:"bg-blue-100",icon:"⏰"}},r=t[e.estado]||t.no_iniciada,n=new Date(e.fecha),a=n.toLocaleDateString("es-ES",{month:"long"}).toUpperCase(),o=n.getDate();return s.jsxs("div",{className:`${r.color} ${r.borderColor} border rounded overflow-hidden shadow-sm hover:shadow-md transition-shadow min-h-[80px] sm:min-h-[90px]`,children:[s.jsx("div",{className:`${r.footerColor} px-1 py-0.5 text-center border-b ${r.borderColor}`,children:s.jsx("h4",{className:`text-xs font-bold ${r.textColor} tracking-wide`,children:a.slice(0,3)})}),s.jsxs("div",{className:"px-1 py-1 text-center flex-1 flex flex-col justify-center",children:[s.jsx("div",{className:`text-sm sm:text-base lg:text-lg font-bold ${r.textColor} mb-0.5`,children:o}),s.jsxs("div",{className:"space-y-0.5 text-xs",children:[e.fechaReprogramada&&s.jsx("div",{className:`${r.textColor} opacity-80`,children:s.jsxs("p",{className:"text-xs",children:[new Date(e.fechaReprogramada).getDate(),"/",new Date(e.fechaReprogramada).getMonth()+1]})}),e.notas&&!e.fechaReprogramada&&s.jsx("div",{className:`${r.textColor} opacity-80`,children:s.jsxs("p",{className:"text-xs leading-tight italic line-clamp-1",children:['"',e.notas.slice(0,20),'..."']})})]})]}),s.jsx("div",{className:`${r.footerColor} px-1 py-0.5 text-center border-t ${r.borderColor} mt-auto`,children:s.jsxs("div",{className:"flex items-center justify-center space-x-0.5",children:[s.jsx("span",{className:"text-xs",children:r.icon}),s.jsx("span",{className:`text-xs font-medium ${r.textColor}`,children:r.label.slice(0,8)})]})})]})},My=()=>{const{usuario:e}=We(),[t,r]=y.useState([]),[n,a]=y.useState({ultimoPago:[],historial:[]}),[o,l]=y.useState(!0),[i,c]=y.useState(!0);y.useEffect(()=>{e!=null&&e._id&&(u(),f())},[e]);const u=async()=>{try{l(!0);const b=((await Qr.obtenerPorUsuario(e._id)).data.resumenes||[]).filter(x=>x&&x.clase&&x.clase.fecha).sort((x,v)=>new Date(v.clase.fecha)-new Date(x.clase.fecha));r(b)}catch(d){z.error("Error al cargar resúmenes:",d),r([])}finally{l(!1)}},f=async()=>{try{c(!0);const d=await yt.obtenerSeparadas(e._id),g=x=>x.sort((v,w)=>new Date(v.fecha)-new Date(w.fecha)),b=d.data||{clasesUltimoPago:[],historialClases:[]};a({ultimoPago:g(b.clasesUltimoPago||[]),historial:g(b.historialClases||[])})}catch(d){z.error("Error al cargar clases:",d),a({ultimoPago:[],historial:[]})}finally{c(!1)}};return s.jsxs("div",{className:"max-w-7xl mx-auto p-3 sm:p-6",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-6 sm:mb-8",children:"Mis Clases"}),s.jsx("div",{className:"mb-12",children:i?s.jsx(mu,{title:"Cargando clases...",subtitle:"Obteniendo tus clases programadas"}):n.ultimoPago.length>0||n.historial.length>0?s.jsxs("div",{className:"space-y-6",children:[n.ultimoPago.length>0&&s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-3 sm:p-6",children:[s.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4 flex items-center",children:[s.jsx("span",{className:"w-3 h-3 bg-green-500 rounded-full mr-3"}),"Clases del último pago (",n.ultimoPago.length,")"]}),s.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-5 md:grid-cols-6 lg:grid-cols-7 xl:grid-cols-8 2xl:grid-cols-9 gap-1.5 sm:gap-2",children:n.ultimoPago.map(d=>s.jsx(pu,{clase:d},d._id))})]}),n.historial.length>0&&s.jsxs("details",{className:"bg-white rounded-lg border border-gray-200 [&[open]>summary>span>svg]:rotate-90",children:[s.jsx("summary",{className:"p-3 sm:p-6 cursor-pointer hover:bg-gray-50 rounded-t-lg list-none",children:s.jsxs("span",{className:"text-base sm:text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 mr-3 transition-transform duration-200",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),"Historial de clases (",n.historial.length,")"]})}),s.jsx("div",{className:"px-3 sm:px-6 pb-3 sm:pb-6",children:s.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-5 md:grid-cols-6 lg:grid-cols-7 xl:grid-cols-8 2xl:grid-cols-9 gap-1.5 sm:gap-2",children:n.historial.map(d=>s.jsx(pu,{clase:d},d._id))})})]})]}):s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[s.jsx("div",{className:"text-4xl mb-4",children:"📅"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay clases programadas"}),s.jsx("p",{className:"text-gray-600",children:"Tus próximas clases aparecerán aquí una vez que sean programadas."})]})}),s.jsx("div",{className:"mb-12",children:o?s.jsx(mu,{title:"Cargando resúmenes...",subtitle:"Obteniendo tus resúmenes de clase"}):t.length>0?s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4 flex items-center",children:[s.jsx("span",{className:"w-3 h-3 bg-blue-500 rounded-full mr-3"}),"Resúmenes de clases (",t.length,")"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4 max-w-none",children:t.map(d=>s.jsx("div",{className:"max-w-sm",children:s.jsx(Dy,{resumen:d,usuario:e})},d._id))})]}):s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[s.jsx("div",{className:"text-4xl mb-4",children:"📚"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay resúmenes de clases"}),s.jsx("p",{className:"text-gray-600",children:"Los resúmenes de tus clases aparecerán aquí una vez que el profesor los complete."})]})})]})},$y=({title:e,subtitle:t,size:r="normal"})=>{const n=r==="small"?"h-6 w-6":"h-8 w-8";return s.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[s.jsx("div",{className:`animate-spin rounded-full ${n} border-b-2 border-blue-600`}),s.jsx("p",{className:"mt-3 text-gray-600 font-medium",children:e}),t&&s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t})]})},Uy=({pago:e})=>{var a;const[t,r]=y.useState(!1),n=()=>{const o=e.facturaUrl||e.linkFactura;o&&o!=="undefined"&&o!==""?(r(!0),window.open(o,"_blank"),setTimeout(()=>r(!1),1e3)):alert("No hay factura disponible para este pago")};return s.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-lg p-2.5 shadow-md hover:shadow-lg transition-all duration-200 w-full min-w-0 flex flex-col",children:[s.jsx("div",{className:"mb-2 flex-shrink-0",children:s.jsxs("h3",{className:"text-xs font-semibold text-gray-900 mb-1 leading-tight",children:["Pago ",Jx(e.fechaCreacion||e.createdAt)]})}),s.jsxs("div",{className:"space-y-1 flex-grow",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-gray-600",children:"Monto:"}),s.jsxs("span",{className:"text-sm font-bold text-green-600",children:["$",(a=e.monto)==null?void 0:a.toLocaleString()]})]}),e.periodo&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-gray-600",children:"Período:"}),s.jsx("span",{className:"text-xs font-medium truncate ml-1",children:e.periodo})]}),e.fechaVencimiento&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-gray-600",children:"Vence:"}),s.jsx("span",{className:"text-xs font-medium",children:Kx(e.fechaVencimiento)})]}),e.metodoPago&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-gray-600",children:"Método:"}),s.jsx("span",{className:"text-xs font-medium truncate ml-1",children:e.metodoPago})]}),e.clases&&e.clases.length>0&&s.jsxs("div",{className:"mt-2 p-1.5 bg-blue-50 rounded border",children:[s.jsxs("h4",{className:"text-xs font-medium text-gray-700 mb-1.5 text-center",children:["📚 Clases (",e.clases.length,")"]}),s.jsx("div",{className:"space-y-1",children:e.clases.map((o,l)=>s.jsx("div",{className:"flex flex-col gap-0.5 p-1 bg-white rounded text-xs",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:Yx(o.fecha)}),s.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-xs font-medium ${o.estado==="tomada"?"bg-green-100 text-green-700":o.estado==="ausente"?"bg-red-100 text-red-700":o.estado==="recuperada"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,children:o.estado==="no_iniciada"?"Pendiente":o.estado==="tomada"?"Tomada":o.estado==="ausente"?"Ausente":o.estado==="recuperada"?"Recuperada":o.estado})]})},l))})]}),e.notas&&s.jsx("div",{className:"mt-2 p-1.5 bg-gray-50 rounded border",children:s.jsxs("p",{className:"text-xs text-gray-700",children:["📝 ",e.notas]})})]}),s.jsx("div",{className:"mt-2 pt-2 border-t border-gray-200 flex-shrink-0",children:(()=>{const o=e.facturaUrl||e.linkFactura;return o&&o!=="undefined"&&o!==""&&o!=="null"?s.jsx("button",{onClick:n,disabled:t,className:"w-full px-2 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 transition-colors flex items-center justify-center gap-1 text-xs font-medium",children:t?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-white"}),"Descargando"]}):s.jsx(s.Fragment,{children:"📄 Factura"})}):s.jsx("div",{className:"w-full px-2 py-1 bg-gray-100 text-gray-500 rounded text-center text-xs",children:"Sin factura"})})()})]})},Iy=()=>{const{usuario:e}=We(),[t,r]=y.useState([]),[n,a]=y.useState(!0);y.useEffect(()=>{e!=null&&e._id&&o()},[e]);const o=async()=>{try{a(!0);const i=((await En.obtenerPorUsuario(e._id)).data||[]).sort((c,u)=>new Date(u.fechaCreacion||u.createdAt)-new Date(c.fechaCreacion||c.createdAt));r(i)}catch(l){z.error("Error al cargar pagos:",l),r([])}finally{a(!1)}};return s.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Mis Pagos"}),n?s.jsx($y,{title:"Cargando pagos...",subtitle:"Obteniendo tu historial de pagos"}):t.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-3 auto-rows-min",children:t.map(l=>s.jsx(Uy,{pago:l},l._id))}):s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[s.jsx("div",{className:"text-4xl mb-4",children:"�"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay pagos registrados"}),s.jsx("p",{className:"text-gray-600",children:"Tu historial de pagos y facturas aparecerán aquí."})]})]})},By=()=>{const[e,t]=y.useState(null),[r,n]=y.useState(!0),[a,o]=y.useState("todos");y.useEffect(()=>{l()},[]);const l=async()=>{try{n(!0);const i=dm.getUsuario();t(i)}catch(i){console.error("Error al cargar usuario:",i)}finally{n(!1)}};return r?s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),s.jsx("div",{className:"space-y-4",children:[1,2,3].map(i=>s.jsx("div",{className:"h-24 bg-gray-200 rounded"},i))})]})}):s.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(yl,{className:"w-8 h-8 text-blue-600"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mis Estudios"})]}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("select",{value:a,onChange:i=>o(i.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"todos",children:"Todos los estudios"}),s.jsx("option",{value:"en_progreso",children:"En progreso"}),s.jsx("option",{value:"finalizado",children:"Finalizados"}),s.jsx("option",{value:"pausado",children:"Pausados"})]})})]}),e&&s.jsx(xm,{usuarioId:e._id,mostrarTitulo:!1,modoVisualizacion:"cards",filtrarEstados:a==="todos"?null:[a],esAdmin:!1},`estudios-${e._id}-${a}`)]})},Vy={obtenerPartituras:async(e={})=>{try{const t=new URLSearchParams;return e.compositor&&t.append("compositor",e.compositor),e.dificultad&&t.append("dificultad",e.dificultad),e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.q&&t.append("q",e.q),(await W.get(`/partituras?${t}`)).data}catch(t){throw console.error("Error al obtener partituras:",t),t}},buscarPartituras:async e=>{try{return(await W.get(`/partituras/buscar?q=${encodeURIComponent(e)}`)).data}catch(t){throw console.error("Error al buscar partituras:",t),t}},obtenerPorCompositor:async e=>{try{return(await W.get(`/partituras/compositor/${encodeURIComponent(e)}`)).data}catch(t){throw console.error("Error al obtener partituras por compositor:",t),t}},obtenerPartituraPorId:async e=>{try{return(await W.get(`/partituras/${e}`)).data}catch(t){throw console.error("Error al obtener partitura:",t),t}},crearPartitura:async e=>{try{return(await W.post("/partituras",e)).data}catch(t){throw console.error("Error al crear partitura:",t),t}},actualizarPartitura:async(e,t)=>{try{return(await W.put(`/partituras/${e}`,t)).data}catch(r){throw console.error("Error al actualizar partitura:",r),r}},eliminarPartitura:async e=>{try{return(await W.delete(`/partituras/${e}`)).data}catch(t){throw console.error("Error al eliminar partitura:",t),t}},obtenerCompositores:async()=>{try{return(await W.get("/partituras/compositores")).data}catch(e){throw console.error("Error al obtener compositores:",e),e}},obtenerEstadisticas:async()=>{try{return(await W.get("/partituras/estadisticas")).data}catch(e){throw console.error("Error al obtener estadísticas:",e),e}}},Wy=()=>{const[e,t]=y.useState([]),[r,n]=y.useState([]),[a,o]=y.useState([]),[l,i]=y.useState(!0),[c,u]=y.useState(""),[f,d]=y.useState(!1),[g,b]=y.useState(null),[x,v]=y.useState({usuarioId:"",estado:"",busqueda:""});y.useEffect(()=>{w()},[]),y.useEffect(()=>{p()},[x]);const w=async()=>{try{i(!0);const[N,j,C]=await Promise.all([Vt.obtenerEstudios(),Me.obtenerTodos(),Vy.obtenerPartituras()]);t(N.estudios||[]),n(Array.isArray(j)?j:j.data||[]),o(C.partituras||[])}catch(N){console.error("Error al cargar datos:",N),u("Error al cargar los datos")}finally{i(!1)}},p=async()=>{try{const N={};x.usuarioId&&(N.usuarioId=x.usuarioId),x.estado&&(N.estado=x.estado);let C=(await Vt.obtenerEstudios(N)).estudios||[];if(x.busqueda){const M=x.busqueda.toLowerCase();C=C.filter(H=>{var $,Q;return H.compositor.toLowerCase().includes(M)||H.obra.toLowerCase().includes(M)||((Q=($=H.usuario)==null?void 0:$.nombre)==null?void 0:Q.toLowerCase().includes(M))})}t(C)}catch(N){console.error("Error al cargar estudios:",N),u("Error al cargar los estudios")}},m=(N=null)=>{b(N),d(!0)},h=()=>{d(!1),b(null),u("")},E=()=>{p()},P=async N=>{if(window.confirm("¿Estás seguro de que quieres eliminar este estudio?"))try{await Vt.eliminarEstudio(N),await p()}catch(j){console.error("Error al eliminar estudio:",j),u("Error al eliminar el estudio")}},k=async N=>{try{await Vt.finalizarEstudio(N),await p()}catch(j){console.error("Error al finalizar estudio:",j),u("Error al finalizar el estudio")}},R=N=>{switch(N){case"en_progreso":return"bg-blue-100 text-blue-800";case"finalizado":return"bg-green-100 text-green-800";case"pausado":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},L=N=>Te(N);return l?s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),s.jsx("div",{className:"space-y-4",children:[1,2,3].map(N=>s.jsx("div",{className:"h-20 bg-gray-200 rounded"},N))})]})}):s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(yl,{className:"w-8 h-8 text-blue-600"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestión de Estudios"})]}),s.jsxs("button",{onClick:()=>m(),className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(jy,{className:"w-5 h-5"}),s.jsx("span",{children:"Nuevo Estudio"})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Buscar"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ny,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",value:x.busqueda,onChange:N=>v({...x,busqueda:N.target.value}),placeholder:"Compositor, obra o estudiante...",className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estudiante"}),s.jsxs("select",{value:x.usuarioId,onChange:N=>v({...x,usuarioId:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Todos los estudiantes"}),r.filter(N=>N.rol==="usuario").map(N=>s.jsxs("option",{value:N._id,children:[N.nombre," ",N.apellido]},N._id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),s.jsxs("select",{value:x.estado,onChange:N=>v({...x,estado:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Todos los estados"}),s.jsx("option",{value:"en_progreso",children:"En progreso"}),s.jsx("option",{value:"finalizado",children:"Finalizado"}),s.jsx("option",{value:"pausado",children:"Pausado"})]})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:()=>v({usuarioId:"",estado:"",busqueda:""}),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Limpiar filtros"})})]})}),c&&s.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-red-600",children:c})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:e.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(yl,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay estudios"}),s.jsx("p",{className:"text-gray-500",children:"Comienza creando el primer estudio para tus estudiantes."})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estudiante"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Obra"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progreso"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fechas"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(N=>{var j,C,M;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(_y,{className:"w-5 h-5 text-gray-400 mr-2"}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[(j=N.usuario)==null?void 0:j.nombre," ",(C=N.usuario)==null?void 0:C.apellido]}),s.jsx("div",{className:"text-sm text-gray-500",children:(M=N.usuario)==null?void 0:M.email})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:N.obra}),s.jsx("div",{className:"text-sm text-gray-500",children:N.compositor})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${N.porcentajeProgreso}%`}})}),s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[N.porcentajeProgreso,"%"]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${R(N.estado)}`,children:N.estado.replace("_"," ")})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.jsxs("div",{children:[s.jsxs("div",{children:["Inicio: ",L(N.fechaInicio)]}),N.fechaFinalizacionSugerida&&s.jsxs("div",{children:["Meta: ",L(N.fechaFinalizacionSugerida)]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[N.estado==="en_progreso"&&s.jsx("button",{onClick:()=>k(N._id),className:"text-green-600 hover:text-green-900 transition-colors",title:"Finalizar estudio",children:s.jsx(hm,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>m(N),className:"text-blue-600 hover:text-blue-900 transition-colors",title:"Editar estudio",children:s.jsx(Cy,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>P(N._id),className:"text-red-600 hover:text-red-900 transition-colors",title:"Eliminar estudio",children:s.jsx(Sy,{className:"w-4 h-4"})})]})]},N._id)})})]})})}),s.jsx(gm,{mostrar:f,onCerrar:h,onGuardado:E,estudioEditando:g})]})},Hy=()=>(y.useEffect(()=>{console.log("=== PRUEBA DEL SISTEMA DE LOGGING ==="),console.log("Modo:","production"),console.log("Es desarrollo:",Ix),console.log("Debug logs habilitados:","false"),console.log("Logs sensibles habilitados:","false"),z.dev("🔧 Este es un log de desarrollo"),z.info("ℹ️ Este es un log de información"),z.success("✅ Este es un log de éxito"),z.warn("⚠️ Este es un log de advertencia"),z.error("❌ Este es un log de error"),z.sensitive("🔒 Datos sensibles",{usuario:{id:"123",email:"test@example.com"},token:"abc123xyz789",apiResponse:{data:"información privada"}}),z.debug("🔍 Datos de debug",{estado:"testing",variables:{a:1,b:2}});try{throw new Error("Error simulado para prueba")}catch(e){z.error("Error capturado en testing",e)}console.log("=== FIN DE PRUEBA ===")},[]),s.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"🔍 Prueba del Sistema de Logging"}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[s.jsx("h2",{className:"font-semibold text-blue-800 mb-2",children:"Estado del Sistema:"}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Modo:"})," ","production"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Es desarrollo:"})," ","No"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Debug logs:"})," ","false"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Logs sensibles:"})," ","false"]})]})]}),s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:[s.jsx("h2",{className:"font-semibold text-yellow-800 mb-2",children:"🧪 Instrucciones de Prueba:"}),s.jsxs("ol",{className:"text-sm text-yellow-700 space-y-2 list-decimal list-inside",children:[s.jsxs("li",{children:["Abre la ",s.jsx("strong",{children:"Consola del Navegador"})," (F12)"]}),s.jsxs("li",{children:["En ",s.jsx("strong",{children:"DESARROLLO"})," deberías ver todos los logs"]}),s.jsxs("li",{children:["Para probar ",s.jsx("strong",{children:"PRODUCCIÓN"}),":"]}),s.jsxs("ul",{className:"ml-6 mt-1 space-y-1 list-disc list-inside",children:[s.jsxs("li",{children:["Ejecuta: ",s.jsx("code",{className:"bg-yellow-100 px-1 rounded",children:"npm run build"})]}),s.jsxs("li",{children:["Luego: ",s.jsx("code",{className:"bg-yellow-100 px-1 rounded",children:"npm run preview"})]}),s.jsx("li",{children:"Los logs sensibles desaparecerán"})]})]})]}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[s.jsx("h2",{className:"font-semibold text-green-800 mb-2",children:"✅ Tipos de Logs Probados:"}),s.jsxs("ul",{className:"text-sm text-green-700 space-y-1 list-disc list-inside",children:[s.jsxs("li",{children:[s.jsx("code",{children:"logger.dev()"})," - Solo desarrollo"]}),s.jsxs("li",{children:[s.jsx("code",{children:"logger.sensitive()"})," - Datos sensibles (solo desarrollo)"]}),s.jsxs("li",{children:[s.jsx("code",{children:"logger.debug()"})," - Información de depuración"]}),s.jsxs("li",{children:[s.jsx("code",{children:"logger.info()"})," - Información general"]}),s.jsxs("li",{children:[s.jsx("code",{children:"logger.error()"})," - Errores (siempre visible)"]})]})]})]})),qy=()=>{const{usuario:e,logout:t}=We(),r=()=>{t()};return s.jsx("nav",{className:"bg-slate-700 shadow-lg fixed top-0 left-0 right-0 z-50",children:s.jsx("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between h-16",children:[s.jsx("div",{className:"flex items-center",children:s.jsx(xt,{to:"/dashboard",className:"text-white text-xl font-bold hover:text-slate-300 flex items-center space-x-2",children:s.jsx("span",{children:"Clases de Violoncello"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"text-white text-sm",children:[s.jsxs("span",{className:"font-medium",children:[e==null?void 0:e.nombre," ",e==null?void 0:e.apellido]}),s.jsx("span",{className:`ml-2 inline-flex px-2 py-1 text-xs font-semibold rounded-full ${(e==null?void 0:e.rol)==="administrador"?"bg-violet-200 text-violet-900":"bg-emerald-200 text-emerald-900"}`,children:e==null?void 0:e.rol})]}),s.jsxs("button",{onClick:r,className:"bg-slate-600 hover:bg-slate-800 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors duration-200 flex items-center space-x-1",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),s.jsx("span",{children:"Cerrar Sesión"})]})]})]})})})},Qy=()=>{const{isAdmin:e}=We(),t=Er(),[r,n]=y.useState(!1),a=l=>t.pathname===l,o=e()?[{name:"Gestión de Clases",path:"/clases",icon:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),allowedFor:"admin"},{name:"Partituras",path:"/partituras",icon:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-.895 2-2 2s-2-.895-2-2 .895-2 2-2 2 .895 2 2zm12-3c0 1.105-.895 2-2 2s-2-.895-2-2 .895-2 2-2 2 .895 2 2zM9 10l12-3"})}),allowedFor:"admin"},{name:"Gestión de Pagos",path:"/pagos",icon:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),allowedFor:"admin"},{name:"Admin Partituras",path:"/admin-partituras",icon:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),allowedFor:"admin"},{name:"Gestión de Estudios",path:"/estudios",icon:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),allowedFor:"admin"},{name:"Gestión de Usuarios",path:"/usuarios",icon:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),allowedFor:"admin"},{name:"Cambiar Contraseña",path:"/cambiar-contrasena",icon:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),allowedFor:"admin"}]:[{name:"Mis Clases",path:"/mis-clases",icon:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),allowedFor:"user"},{name:"Mis Estudios",path:"/mis-estudios",icon:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),allowedFor:"user"},{name:"Partituras",path:"/partituras",icon:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-.895 2-2 2s-2-.895-2-2 .895-2 2-2 2 .895 2 2zm12-3c0 1.105-.895 2-2 2s-2-.895-2-2 .895-2 2-2 2 .895 2 2zM9 10l12-3"})}),allowedFor:"user"},{name:"Mis Pagos",path:"/mis-pagos",icon:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),allowedFor:"user"},{name:"Cambiar Contraseña",path:"/cambiar-contrasena",icon:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),allowedFor:"user"}];return s.jsxs(s.Fragment,{children:[s.jsx("aside",{className:"md:block hidden fixed left-0 top-16 h-full w-64 bg-slate-50 shadow-lg border-r border-slate-200 z-40",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("nav",{className:"flex-1 pt-6 pb-4 overflow-y-auto",children:s.jsx("div",{className:"px-3",children:s.jsx("ul",{className:"space-y-1",children:o.map(l=>s.jsx("li",{children:s.jsxs(xt,{to:l.path,className:`group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200 ${a(l.path)?"bg-indigo-200 text-indigo-900 border-r-2 border-indigo-600":"text-slate-700 hover:bg-slate-200 hover:text-slate-900"}`,children:[s.jsx("span",{className:"mr-3",children:l.icon}),l.name]})},l.path))})})}),s.jsx("div",{className:"px-3 py-4 border-t border-slate-200",children:s.jsxs("div",{className:"text-xs text-slate-500 text-center",children:[s.jsx("p",{children:"Sistema de Gestión"}),s.jsx("p",{children:"Clases de Violoncello"})]})})]})}),s.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-slate-800 border-t border-slate-600 shadow-lg z-50",children:s.jsxs("div",{className:"flex justify-around items-center py-2",children:[o.slice(0,4).map(l=>{const i=c=>({"Gestión de Clases":"Clases",Partituras:"Part.","Gestión de Pagos":"Pagos","Mis Clases":"Clases","Mis Estudios":"Estudios","Mis Pagos":"Pagos","Cambiar Contraseña":"Pass.","Admin Partituras":"Admin","Gestión de Estudios":"Estudios","Gestión de Usuarios":"Users"})[c]||c;return s.jsxs(xt,{to:l.path,className:`flex flex-col items-center justify-center min-w-0 flex-1 px-1 py-2 text-xs font-medium transition-colors duration-200 ${a(l.path)?"text-white bg-slate-700":"text-slate-300 hover:text-white hover:bg-slate-700"}`,children:[s.jsx("div",{className:`${a(l.path)?"text-white":"text-slate-300"}`,children:l.icon}),s.jsx("span",{className:"mt-1 text-[10px] leading-tight text-center font-semibold",children:i(l.name)})]},l.path)}),o.length>4&&s.jsxs("button",{onClick:()=>n(!0),className:"flex flex-col items-center justify-center min-w-0 flex-1 px-1 py-2 text-xs font-medium text-slate-300 hover:text-white hover:bg-slate-700 transition-colors duration-200",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),s.jsx("span",{className:"mt-1 text-[10px] font-semibold",children:"Más"})]})]})}),r&&s.jsx("div",{className:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-60 flex items-end pb-20",children:s.jsxs("div",{className:"bg-white w-full rounded-t-lg shadow-lg max-h-96 overflow-y-auto mb-2",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Menú"}),s.jsx("button",{onClick:()=>n(!1),className:"text-slate-500 hover:text-slate-700",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"p-4 pb-6",children:s.jsx("div",{className:"space-y-2",children:o.map(l=>s.jsxs(xt,{to:l.path,onClick:()=>n(!1),className:`flex items-center px-3 py-3 text-sm font-medium rounded-md transition-colors duration-200 ${a(l.path)?"bg-indigo-100 text-indigo-900":"text-slate-700 hover:bg-slate-100 hover:text-slate-900"}`,children:[s.jsx("span",{className:"mr-3",children:l.icon}),l.name]},l.path))})})]})})]})},Xe=({children:e,adminOnly:t=!1})=>{const{isAuthenticated:r,isAdmin:n,loading:a}=We();return a?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(Nr,{title:"Verificando autenticación...",subtitle:"Validando permisos de acceso",showRenderMessage:!1,size:"medium"})}):r()?t&&!n()?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Acceso Denegado"}),s.jsx("p",{className:"text-gray-600",children:"No tienes permisos para acceder a esta sección."})]})}):e:s.jsx(Cn,{to:"/login",replace:!0})};function Gy(){const{isAuthenticated:e,isAdmin:t,loading:r}=We(),n=window.location.pathname.includes("/admin/resumen-clase/")&&window.location.search.includes("newTab=true");return r?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Cargando..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e()&&!n&&s.jsxs(s.Fragment,{children:[s.jsx(qy,{}),s.jsx(Qy,{})]}),s.jsx("div",{className:`${e()&&!n?"md:ml-64 pt-16 md:pt-24 pb-20 md:pb-0":""}`,children:s.jsxs(K0,{children:["        ",s.jsx(we,{path:"/admin/resumen-clase/:claseId",element:s.jsx(Xe,{adminOnly:!0,children:s.jsx(Ay,{})})}),s.jsx(we,{path:"/login",element:e()?s.jsx(Cn,{to:t()?"/clases":"/mis-clases",replace:!0}):s.jsx(Vx,{})}),s.jsx(we,{path:"/dashboard",element:s.jsx(Xe,{children:s.jsx(Wx,{})})}),s.jsx(we,{path:"/usuarios",element:s.jsx(Xe,{adminOnly:!0,children:s.jsx(qx,{})})}),s.jsx(we,{path:"/cambiar-contrasena",element:s.jsx(Xe,{children:s.jsx(Qx,{})})}),s.jsx(we,{path:"/pagos",element:s.jsx(Xe,{adminOnly:!0,children:s.jsx(ny,{})})}),s.jsx(we,{path:"/clases",element:s.jsx(Xe,{adminOnly:!0,children:s.jsx(Fy,{})})}),s.jsx(we,{path:"/partituras",element:s.jsx(Xe,{children:s.jsx(Oy,{})})}),s.jsx(we,{path:"/admin-partituras",element:s.jsx(Xe,{adminOnly:!0,children:s.jsx(zy,{})})}),s.jsx(we,{path:"/estudios",element:s.jsx(Xe,{adminOnly:!0,children:s.jsx(Wy,{})})}),s.jsx(we,{path:"/mis-estudios",element:s.jsx(Xe,{children:s.jsx(By,{})})}),s.jsx(we,{path:"/mis-clases",element:s.jsx(Xe,{children:s.jsx(My,{})})}),s.jsx(we,{path:"/mis-pagos",element:s.jsx(Xe,{children:s.jsx(Iy,{})})}),s.jsx(we,{path:"/test-logging",element:s.jsx(Hy,{})}),s.jsx(we,{path:"/",element:e()?s.jsx(Cn,{to:t()?"/clases":"/mis-clases",replace:!0}):s.jsx(Cn,{to:"/login",replace:!0})}),s.jsx(we,{path:"*",element:s.jsx(Cn,{to:"/",replace:!0})})]})})]})}function Ky(){return s.jsx(Bx,{children:s.jsx(ng,{basename:"/alumnos",future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:s.jsx(Gy,{})})})}Pf(document.getElementById("root")).render(s.jsx(y.StrictMode,{children:s.jsx(Ky,{})}));
